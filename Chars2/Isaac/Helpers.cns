;---------------------------------------------------------------------------
;Tear
[Statedef 2210]
type = A
movetype = A
physics = N
Anim = 2210
ctrl = 0
sprpriority = 4
velset = 5,0

[State 195, 1]
type = playsnd
trigger1 = !time
value = 210,1+random%2

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 2211
time = -1

[State 1001,]
type = veladd
trigger1 = time >= 40
y = .5

[State 600, 2]
type = HitDef
triggerall = p2stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(20*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,13
guard.pausetime = 0,7
sparkno = 2
sparkxy = -10,0
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 24
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-1
air.hittime = 16
air.fall = 1
fall.recovertime = 35

[State 600, 2]
type = HitDef
triggerall = p2stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(36*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,16
guard.pausetime = 0,7
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-1
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = changestate
trigger1 = root,stateno = 8000
value = 2050

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = pos Y >= 0
value = 2211

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;======================================================================================================================================================
;Tear Colide
[Statedef 2211]
type = S
physics = N
movetype = A
ctrl = 0
sprpriority = 5
anim = 2211

[State 195, 1]
type = playsnd
trigger1 = !time
value = 210,0

[State 1200, 6]
type = explod
trigger1 = !time
anim = 2212
id = 2212
pos = 0, 0
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.15,0.15
pausemovetime = 9999
supermovetime = 9999

[State 0,]
type = statetypeset
trigger1 = time >= 5
movetype = I

[State 0,]
type = velmul
trigger1 = 1
x = .2
y = .2

[State 1]
type = AfterImage
trigger1 = Time = 0
time = 1
PalBright = 0,0,0
PalContrast =  222,222,222
PalAdd      = -1,-1,-1
PalMul      = .5,.5,.5
Trans = Add
TimeGap  = 1
FrameGap = 2
length = 18

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 90
trigger2 = numhelper(2230) >= 3
trigger2 = time >= 15

;---------------------------------------------------------------------------
;Upward Tear
[Statedef 2213]
type = A
movetype = A
physics = N
Anim = 2210
ctrl = 0
sprpriority = 4
velset = 4,-9

[State 195, 1]
type = playsnd
trigger1 = !time
value = 210,1+random%2

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 2211
time = -1

[State 1001,]
type = veladd
trigger1 = time >= 5
y = .4

[State 600, 2]
type = HitDef
triggerall = p2stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(20*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,10
guard.pausetime = 0,7
sparkno = 2
sparkxy = -10,0
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 24
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-2.25
air.hittime = 16
air.fall = 1
fall.recovertime = 35

[State 600, 2]
type = HitDef
triggerall = p2stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(36*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,10
guard.pausetime = 0,7
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2.25
air.hittime = 16
air.fall = 1
fall.recover = 0

[State 1001,]
type = ChangeState
trigger1 = numhelper(1250)
trigger1 = ((pos x - helper(1250), pos x) * (helper(1250), facing) = [-20, 20])
trigger1 = ((pos y - helper(1250), pos y) = [ -50, 50])
value = 2211

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = changestate
trigger1 = root,stateno = 8000
value = 2050

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = pos Y >= 0
value = 2211

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Holy Tear
[Statedef 2230]
type = A
movetype = A
physics = N
Anim = 2210
ctrl = 0
sprpriority = 4
velset = 20,1-random%3
poweradd = 0

[State 0, Explod]
type = Explod
trigger1= time%3 = 0
anim = 6800
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
supermovetime=99
pausemovetime=99
scale = .4,.4
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 195, 1]
type = playsnd
trigger1 = !time
value = 210,1+random%2

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 2211
time = -1

[State 600, 2]
type = HitDef
triggerall = p2stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage    = ceil(((7+(1*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,10
guard.pausetime = 0,7
sparkno = 2
sparkxy = -10,0
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 24
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-1
air.hittime = 16
air.fall = 1
fall.recovertime = 25
getpower = 0,0

[State 600, 2]
type = HitDef
triggerall = p2stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage    = ceil(((30+(6*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,10
guard.pausetime = 0,7
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-1
air.hittime = 16
air.fall = 1
fall.recover = 0
getpower = 0,0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = pos Y >= 0
value = 2211

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1001,]
type = Destroyself
trigger1 = FrontEdgeDist <= -30

;---------------------------------------------------------------------------
;D6
[Statedef 2100]
type = A
movetype = A
physics = N
Anim = 2100
ctrl = 0
sprpriority = 4
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 1001,]
type = changestate
trigger1 = time < 27
trigger1 = root,movetype = H
trigger1 = root,stateno != [120,155]
value = 2051

[State 0, ScreenBound]
type = ScreenBound
trigger1 = backedgedist >= 16
value = 1
movecamera = 0,0

[State 195, 1]
type = playsnd
trigger1 = animelemtime(4) = 7
value = 1000,1

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = destroyself
trigger1 = time < 12
trigger1 = root,movetype = H

[State 1001,]
type = velset
trigger1 = animelemtime(4) = 7
x = 2
y = -6

[State 1001,]
type = veladd
trigger1 = time >= 12
y = .4

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(8*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,7
guard.pausetime = 0,7
sparkno = 1
sparkxy = -10,0
hitsound   = S5,1
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(12*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-2
air.hittime = 16
air.fall = 1
fall.recovertime = 20

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(12*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,10
guard.pausetime = 0,7
sparkno = 2
sparkxy = -10,0
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = pos Y >= 0
value = 2101

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;D6
[Statedef 2102]
type = A
movetype = A
physics = N
Anim = 2100
ctrl = 0
sprpriority = 4
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 1001,]
type = changestate
trigger1 = time < 27
trigger1 = root,movetype = H
trigger1 = root,stateno != [120,155]
value = 2051

[State 0, ScreenBound]
type = ScreenBound
trigger1 = backedgedist >= 16
value = 1
movecamera = 0,0

[State 195, 1]
type = playsnd
trigger1 = animelemtime(4) = 7
value = 1000,1

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = destroyself
trigger1 = time < 12
trigger1 = root,movetype = H

[State 1001,]
type = velset
trigger1 = animelemtime(4) = 7
x = 5
y = -9

[State 1001,]
type = veladd
trigger1 = time >= 12
y = .4

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(8*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,7
guard.pausetime = 0,7
sparkno = 1
sparkxy = -10,0
hitsound   = S5,1
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(12*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-2
air.hittime = 16
air.fall = 1
fall.recovertime = 20

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(12*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,10
guard.pausetime = 0,7
sparkno = 2
sparkxy = -10,0
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = pos Y >= 0
value = 2101

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;D6
[Statedef 2103]
type = A
movetype = A
physics = N
Anim = 2100
ctrl = 0
sprpriority = 4
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 1001,]
type = changestate
trigger1 = time < 27
trigger1 = root,movetype = H
trigger1 = root,stateno != [120,155]
value = 2051

[State 0, ScreenBound]
type = ScreenBound
trigger1 = backedgedist >= 16
value = 1
movecamera = 0,0

[State 195, 1]
type = playsnd
trigger1 = animelemtime(4) = 7
value = 1000,1

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = destroyself
trigger1 = time < 12
trigger1 = root,movetype = H

[State 1001,]
type = velset
trigger1 = animelemtime(4) = 7
x = 2.5
y = -12

[State 1001,]
type = veladd
trigger1 = time >= 12
y = .4

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(8*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,7
guard.pausetime = 0,7
sparkno = 1
sparkxy = -10,0
hitsound   = S5,1
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(12*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-2
air.hittime = 16
air.fall = 1
fall.recovertime = 20

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(12*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,10
guard.pausetime = 0,7
sparkno = 2
sparkxy = -10,0
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = pos Y >= 0
value = 2101

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;D6 Land
[Statedef 2101]
type = A
movetype = I
physics = N
Anim = 2101
ctrl = 0
sprpriority = 4
velset = 2,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = backedgedist >= 16
value = 1
movecamera = 0,0

[State 195, 1]
type = playsnd
trigger1 = !time
value = 1000,0

[State 195, 1]
type = playsnd
trigger1 = anim = 2101
trigger1 = animtime = 0
value = 1000,0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = velSet
trigger1 = anim = 2102
x = 0

[State 0,]
type = varset
trigger1 = !time
var(7) = 1+random%6

[State -2]
type = Helper
trigger1 = anim = 2102
helpertype = normal
ID = 3958
Stateno = 3958
pos = 0,0
PosType = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 2101
trigger1 = animtime = 0
trigger2 = anim = 2102
value = 2102
elem = var(7)
ignorehitpause = 1

;1
[State 1300]
type = helper
trigger1 = time = 35
trigger1 = var(7) = 1
helpertype = normal
stateno = 1075
ID = 1075
name = "Fly"
postype = p1
pos = -6, -10
ownpal = 1
facing = 1
size.xscale = .1
size.yscale = .1

;2
[State 1300]
type = helper
trigger1 = time = 35
trigger1 = var(7) = 2
helpertype = normal
stateno = 2213
ID = 2213
name = "tear"
postype = p1
pos = 0, -10
ownpal = 1
facing = 1
size.xscale = .15
size.yscale = .15

[State 1300]
type = helper
trigger1 = time = 35
trigger1 = var(7) = 2
helpertype = normal
stateno = 2213
ID = 2213
name = "tear"
postype = p1
pos = 0, -10
ownpal = 1
facing = -1
size.xscale = .15
size.yscale = .15

;3
[State 1300]
type = helper
trigger1 = time = 35
trigger1 = var(7) = 3
helpertype = normal
stateno = 1050+random%2
ID = 1050
name = "Pickup"
postype = p1
pos = 0, -10
ownpal = 1
facing = 1
size.xscale = .15
size.yscale = .15

;4
[State 1300]
type = helper
trigger1 = time = 35
trigger1 = var(7) = 4
helpertype = normal
stateno = 1085
ID = 1085
name = "Creep Puddle"
postype = p1
pos = 0, -10
ownpal = 1
facing = 1
size.xscale = .1
size.yscale = .1

;5
[State 1300]
type = helper
trigger1 = time = 35
trigger1 = var(7) = 5
helpertype = normal
stateno = 1260+random%2
ID = 1260
name = "Bomb"
postype = p1
pos = 0, -10
ownpal = 1
facing = 1
size.xscale = .1
size.yscale = .1

;6
[State 1300]
type = helper
trigger1 = time = 35
trigger1 = var(7) = 6
helpertype = normal
stateno = 1999
ID = 1999
name = "Mom"
postype = p2
pos = 0, -1000
ownpal = 1
facing = 1
size.xscale = .25
size.yscale = .25

[State 1001,]
type = changestate
trigger1 = time >= 75
value = 2051

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Heart
[Statedef 1050]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1050
sprpriority = 5

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = time%2 = 0
trigger1 = time < 10
anim = 6800
pos = -2+random%5,0-random%4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2-random%4
accel = 0,0
supermovetime=99
pausemovetime=99
scale = .4,.4
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 300, 2]
type = angledraw
trigger1 = 1
scale = fvar(5),fvar(6)
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%20 = 0
fvar(5) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%18 = 0
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%19 = 0
fvar(5) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%20 = 0
fvar(6) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%18 = 0
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%19 = 0
fvar(6) = 1.1
persistent = 1

[State 300, 2]
type = PlaySnd
trigger1 = !time
value = 1001, 0

[State 1055, 1]
type = VelSet
trigger1 = !time
y = 3.5
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = time > 0
y = 0.3
ignorehitpause = 1

[State 1055, 1]
type = VelSet
trigger1 = pos Y >= -2
y = 0
ignorehitpause = 1

[State 1055, 1]
type = posSet
trigger1 = pos Y >= -2
y = 5
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 0, PalFX]
type = assertspecial
trigger1 = time = [200,240]
trigger1 = time%2 = 0
flag = invisible
ignorehitpause = 1
persistent = 1

[State 1300]
type = helper
trigger1 = rootdist x = [-15,15]
trigger1 = rootdist y = [-20,15]
helpertype = normal
stateno = 7778
ID = 7778
name = "Heal"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 300, 2]
type = PlaySnd
trigger1 = rootdist x = [-15,15]
trigger1 = rootdist y = [-20,15]
value = 1002, 0

[State 600]
Type = changestate
trigger1 = rootdist x = [-15,15]
trigger1 = rootdist y = [-20,15]
trigger2 = time >= 240
value  = 2050

;---------------------------------------------------------------------------
;Battery
[Statedef 1051]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1051
sprpriority = 5

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = time%2 = 0
trigger1 = time < 10
anim = 6800
pos = -2+random%5,0-random%4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2-random%4
accel = 0,0
supermovetime=99
pausemovetime=99
scale = .4,.4
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 300, 2]
type = PlaySnd
trigger1 = !time
value = 1001, 0

[State 1055, 1]
type = VelSet
trigger1 = !time
y = 3.5
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = time > 0
y = 0.3
ignorehitpause = 1

[State 1055, 1]
type = VelSet
trigger1 = pos Y >= -2
y = 0
ignorehitpause = 1

[State 1055, 1]
type = posSet
trigger1 = pos Y >= -2
y = 5
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 0, PalFX]
type = assertspecial
trigger1 = time = [200,240]
trigger1 = time%2 = 0
flag = invisible
ignorehitpause = 1
persistent = 1

[State 1300]
type = helper
trigger1 = rootdist x = [-15,15]
trigger1 = rootdist y = [-20,15]
helpertype = normal
stateno = 7779
ID = 7779
name = "Charge"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 300, 2]
type = PlaySnd
trigger1 = rootdist x = [-15,15]
trigger1 = rootdist y = [-20,15]
value = 1002, 1

[State 600]
Type = changestate
trigger1 = rootdist x = [-15,15]
trigger1 = rootdist y = [-20,15]
trigger2 = time >= 240
value  = 2050

;---------------------------------------------------------------------------
;Bomb
[Statedef 1250]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1250
sprpriority = 5

[State 300, 2]
type = parentvarset
trigger1 = !time
var(28) = 1

[State 1055, 1]
type = VelSet
trigger1 = !time
y = 3.5
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = time > 0
y = 0.3
ignorehitpause = 1

[State 1055, 1]
type = VelSet
trigger1 = pos Y >= -2
y = 0
ignorehitpause = 1

[State 1, ]
type = PlaySnd
trigger1 = pos Y >= -2
value = 400,2
persistent = 0

[State 1055, 1]
type = posSet
trigger1 = pos Y >= -2
y = 5
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1055, Assert]
type = hitoverride
trigger1 = 1
Attr = SCA, AA,AP,AT
ignorehitpause = 1
stateno = 1251

[State 1055, Assert]
type = hitby
trigger1 = 1
value = SCA, AA,AP,AT
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = time < 160
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=2
time = 2
add = 180,180,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=0
time = 2
add = 180,0,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 300, 2]
type = angledraw
trigger1 = time = [160,200]
scale = fvar(5),fvar(6)
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(5) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(5) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(6) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(6) = 1.1
persistent = 1

[State 600]
Type = statetypeset
trigger1 = time >= 190
trigger2 = root,stateno = 1205
movetype = A

[State 1001,]
type = changestate
trigger1 = root,stateno = 8000
trigger2 = roundstate > 2
trigger3 = root,stateno = [3901,3910]
value = 2050

[State 600]
Type = changestate
trigger1 = movecontact
trigger2 = time >= 200
trigger3 = root,stateno = 1205
trigger3 = root,animelem = 3
value  = 1251

[State 1055, 5]
type = destroyself
trigger1 = movecontact
trigger2 = time >= 200
trigger3 = root,stateno = 1205
trigger3 = root,animelem = 3

;---------------------------------------------------------------------------
;Boom
[Statedef 1251]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = 5

[State 300, 2]
type = parentvarset
trigger1 = !time
var(28) = 0

[State 1055, Assert]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1055,3]
type = AngleDraw
trigger1 = 1
Value = -time * 1.5
ignorehitpause = 1

[State 1055, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 600]
Type = Helper
trigger1 = !time
StateNo = 1252
ID = 1252
Name = "Explosion"
Pos = 0,0
PosType = P1
Ownpal = 1
ignorehitpause = 1
Persistent = 0
Size.XScale = 1
Size.YScale = 1

[State 1055, 5]
type = destroyself
trigger1 = time >= 20

;---------------------------------------------------------------------------
;Explosion
[Statedef 1252]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 6235
sprpriority = 5

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 1200, 0+random%3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 2301]
Type = NotHitby
Trigger1 = 1
value = SCA,AP,SP,NP,HP

[State 810, 3]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
affectteam = B
attr = A, SP
damage = ceil(90*root,fvar(4)),12
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 0,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 5
ground.velocity = -0,-7.8
guard.velocity = 0
air.velocity = -0,-7.8
fall = 1
fall.recovertime = 50
envshake.time = 15
envshake.freq = 50

[State 810, 3]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
affectteam = B
attr = A, SP
damage = ceil(110*root,fvar(4)),13
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 0,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0,-8.2
guard.velocity = 0
air.velocity = -0,-8.2
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 50

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 1001]
Type = statetypeset
trigger1 = animelemtime(13) >= 0
movetype = I
ignorehitpause = 1

[State 1001]
Type = Destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Bomb
[Statedef 1255]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1250
sprpriority = 5

[State 300, 2]
type = parentvarset
trigger1 = !time
var(28) = 1

[State 300, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 1055, 1]
type = VelSet
trigger1 = !time
y = 3.5
x = 5
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = time > 0
y = 0.3
ignorehitpause = 1

[State 1055, 1]
type = VelSet
trigger1 = pos Y >= -2
y = 0
ignorehitpause = 1

[State 1, ]
type = PlaySnd
trigger1 = pos Y >= -2
value = 400,2
persistent = 0

[State 1055, 1]
type = Velmul
trigger1 = pos Y >= -2
x = .95
ignorehitpause = 1

[State 1055, 1]
type = posSet
trigger1 = pos Y >= -2
y = 5
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1055, Assert]
type = hitoverride
trigger1 = 1
Attr = SCA, AA,AP,AT
ignorehitpause = 1
stateno = 1251

[State 1055, Assert]
type = hitby
trigger1 = 1
value = SCA, AA,AP,AT
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = time < 160
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=2
time = 2
add = 180,180,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=0
time = 2
add = 180,0,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 300, 2]
type = angledraw
trigger1 = time = [160,200]
scale = fvar(5),fvar(6)
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(5) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(5) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(6) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(6) = 1.1
persistent = 1

[State 1001,]
type = changestate
trigger1 = root,stateno = 8000
trigger2 = roundstate > 2
trigger3 = root,stateno = [3901,3910]
value = 2050

[State 600]
Type = statetypeset
trigger1 = time >= 190
trigger2 = root,stateno = 1205
movetype = A

[State 600]
Type = changestate
trigger1 = movecontact
trigger2 = time >= 200
trigger3 = root,stateno = 1205
trigger3 = root,animelem = 3
value  = 1251

[State 1055, 5]
type = destroyself
trigger1 = movecontact
trigger2 = time >= 200
trigger3 = root,stateno = 1205
trigger3 = root,animelem = 3

;---------------------------------------------------------------------------
;Bobby Bomb
[Statedef 1260]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1251
sprpriority = 5

[State 0, Explod]
type = Explod
triggerall = time%2 = 0
trigger1 = time < 10
anim = 6800
pos = -2+random%5,0-random%4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2-random%4
accel = 0,0
supermovetime=99
pausemovetime=99
scale = .4,.4
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0,]
type = varadd
trigger1 = 1
var(3) = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = backedgedist >= 16
value = 1
movecamera = 0,0

[State 300, 2]
type = PlaySnd
trigger1 = !time
value = 1001, 0

[State 1055, 1]
type = VelSet
trigger1 = !time
y = 3.5
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = time > 0
y = 0.3
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = p2dist x >= 0
trigger1 = vel  x <= 5
x = .3
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = p2dist x < 0
trigger1 = vel  x >= -5
x = -.3
ignorehitpause = 1

[State 1055, 1]
type = VelSet
trigger1 = pos Y >= -2
y = 0
ignorehitpause = 1

[State 1055, 1]
type = posSet
trigger1 = pos Y >= -2
y = 5
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1055, Assert]
type = hitoverride
trigger1 = 1
Attr = SCA, AA,AP,AT
ignorehitpause = 1
stateno = 1262

[State 1055, Assert]
type = hitby
trigger1 = 1
value = SCA, AA,AP,AT
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = time < 160
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=2
time = 2
add = 180,180,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=0
time = 2
add = 180,0,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 300, 2]
type = angledraw
trigger1 = time = [160,200]
scale = fvar(5),fvar(6)
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(5) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(5) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(6) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(6) = 1.1
persistent = 1

[State 600]
Type = statetypeset
trigger1 = time >= 190
movetype = A

[State 1001,]
type = changestate
trigger1 = root,stateno = 8000
trigger2 = roundstate > 2
trigger3 = root,stateno = [3901,3910]
value = 2050

[State 600]
Type = changestate
trigger1 = movecontact
trigger2 = time >= 200
value  = 1262

[State 1055, 5]
type = destroyself
trigger1 = movecontact
trigger2 = time >= 200

;---------------------------------------------------------------------------
;Troll Bomb
[Statedef 1261]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1252
sprpriority = 5

[State 0, Explod]
type = Explod
triggerall = time%2 = 0
trigger1 = time < 10
anim = 6800
pos = -2+random%5,0-random%4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2-random%4
accel = 0,0
supermovetime=99
pausemovetime=99
scale = .4,.4
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0,]
type = varadd
trigger1 = 1
var(3) = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = backedgedist >= 16
value = 1
movecamera = 0,0

[State 300, 2]
type = PlaySnd
trigger1 = !time
value = 1001, 0

[State 1055, 1]
type = VelSet
trigger1 = !time
y = 3.5
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = time > 0
y = 0.3
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = rootdist x >= 0
trigger1 = vel  x <= 5
x = .3
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = rootdist x < 0
trigger1 = vel  x >= -5
x = -.3
ignorehitpause = 1

[State 1055, 1]
type = VelSet
trigger1 = pos Y >= -2
y = 0
ignorehitpause = 1

[State 1055, 1]
type = posSet
trigger1 = pos Y >= -2
y = 5
ignorehitpause = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1055, Assert]
type = hitoverride
trigger1 = 1
Attr = SCA, AA,AP,AT
ignorehitpause = 1
stateno = 1262

[State 1055, Assert]
type = hitby
trigger1 = 1
value = SCA, AA,AP,AT
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = time < 160
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=2
time = 2
add = 180,180,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = [160,200]
trigger1 = (GameTime%4)=0
time = 2
add = 180,0,0
mul = 150,50,50
color = 0
ignorehitpause = 1

[State 300, 2]
type = angledraw
trigger1 = time = [160,200]
scale = fvar(5),fvar(6)
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(5) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(5) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
trigger2 = time%5 = 0
fvar(6) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%3 = 0
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time%4 = 0
fvar(6) = 1.1
persistent = 1

[State 600]
Type = statetypeset
trigger1 = time >= 190
movetype = A

[State 1001,]
type = changestate
trigger1 = root,stateno = 8000
trigger2 = roundstate > 2
trigger3 = root,stateno = [3901,3910]
value = 2050

[State 600]
Type = changestate
trigger1 = movecontact
trigger2 = time >= 200
value  = 1262

[State 1055, 5]
type = destroyself
trigger1 = movecontact
trigger2 = time >= 200

;---------------------------------------------------------------------------
;Troll Boom
[Statedef 1262]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = 5

[State 1055, Assert]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1055,3]
type = AngleDraw
trigger1 = 1
Value = -time * 1.5
ignorehitpause = 1

[State 1055, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 600]
Type = Helper
trigger1 = !time
StateNo = 1263
ID = 1263
Name = "Explosion"
Pos = 0,0
PosType = P1
Ownpal = 1
ignorehitpause = 1
Persistent = 0
Size.XScale = 1
Size.YScale = 1

[State 1055, 5]
type = destroyself
trigger1 = time >= 20

;---------------------------------------------------------------------------
;Troll Explosion
[Statedef 1263]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 6235
sprpriority = 5

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 1200, 0+random%3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 2301]
Type = NotHitby
Trigger1 = 1
value = SCA,AP,SP,NP,HP

[State 810, 3]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
affectteam = B
attr = A, SP
damage = ceil(90*root,fvar(4)),12
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 0,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 5
ground.velocity = -0,-7.8
guard.velocity = 0
air.velocity = -0,-7.8
fall = 1
fall.recovertime = 50
envshake.time = 15
envshake.freq = 50

[State 810, 3]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
affectteam = B
attr = A, SP
damage = ceil(110*root,fvar(4)),13
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 0,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0,-8.2
guard.velocity = 0
air.velocity = -0,-8.2
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 50

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 1001]
Type = statetypeset
trigger1 = animelemtime(13) >= 0
movetype = I
ignorehitpause = 1

[State 1001]
Type = Destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Fly
[Statedef 1075]
type = A
movetype = A
physics = N
Anim = 1075
ctrl = 0
sprpriority = 5
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = time%2 = 0
trigger1 = time < 10
anim = 6800
pos = -2+random%5,0-random%4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2-random%4
accel = 0,0
supermovetime=99
pausemovetime=99
scale = .4,.4
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 300, 2]
type = PlaySnd
trigger1 = !time
value = 1001, 0

[State 300, 2]
type = PlaySnd
trigger1 = !time
value = 1003, 0
loop = 1
channel = 3

[State 195, 1]
type = playsnd
trigger1 = !time
value = 210,1+random%2

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AA,AT
stateno = 1076
time = -1

[State 1055, 1]
type = Veladd
trigger1 = pos Y > -145
y = -0.3
ignorehitpause = 1

[State 1055, 1]
type = Velmul
trigger1 = pos Y <= -145
y = .5
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = p2dist x >= 0
trigger1 = vel  x <= 2.5
x = .1
ignorehitpause = 1

[State 1055, 1]
type = Veladd
trigger1 = p2dist x < 0
trigger1 = vel  x >= -2.5
x = -.1
ignorehitpause = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(30*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,25
guard.pausetime = 0,7
sparkno = 2
sparkxy = -10,0
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 24
guard.ctrltime = 14
ground.velocity = 0
air.velocity = 0,-1
air.hittime = 16
air.fall = 1
fall.recovertime = 50

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(45*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,25
guard.pausetime = 0,7
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.ctrltime = 22
ground.velocity = 0
air.velocity = 0,-1
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = root,stateno = 8000
value = 1076

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;======================================================================================================================================================
;Fly Pop
[Statedef 1076]
type = S
physics = N
movetype = A
ctrl = 0
sprpriority = 5
anim = 2211

[State 300, 2]
type = stopSnd
trigger1 = !time
channel = 3

[State 195, 1]
type = playsnd
trigger1 = !time
value = 1003,1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

;[State 1200, 6]
;type = explod
;trigger1 = enemynear,name = "Isaac"
;trigger1 = teamside = 2
;trigger1 = !time
;anim = 2212
;id = 2213
;pos = 0, 0
;facing = 1
;sprpriority = 1
;bindtime = 1
;ownpal = 0
;ignorehitpause = 1
;persistent = 0
;scale = 0.15,0.15
;pausemovetime = 9999
;supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 2213
id = 2213
pos = 0, 0
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 0
ignorehitpause = 1
persistent = 0
scale = 0.15,0.15
pausemovetime = 9999
supermovetime = 9999

[State 0,]
type = statetypeset
trigger1 = time >= 5
movetype = I

[State 0,]
type = velmul
trigger1 = 1
x = .2
y = .2

[State 1]
type = AfterImage
trigger1 = Time = 0
time = 1
PalBright = 0,0,0
PalContrast =  222,222,222
PalAdd      = -1,-1,-1
PalMul      = .5,.5,.5
Trans = Add
TimeGap  = 1
FrameGap = 2
length = 18

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 175

;---------------------------------------------------------------------------
;Creep Puddle
[Statedef 1085]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1085
sprpriority = -3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 195, 1]
type = playsnd
trigger1 = !time
value = 1003,1

[State 1055, 1]
type = angledraw
trigger1 = time < 10
scale = .1+time*.4,.1+time*.25
ignorehitpause = 1

[State 1055, 1]
type = angledraw
trigger1 = time >= 10
scale = 3,2
ignorehitpause = 1

[State 1055, 1]
type = posSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 1055, 1]
type = movehitreset
trigger1 = movecontact
trigger1 = enemynear,movetype != H
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || movecontact = 14 || movereversed = 14
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(3), 1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = LA                   ;Flags on how move is to be guarded against
hitflag = MFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 12                 ;Time attacker pauses, time opponent shakes
sparkno = 2                      ;Spark anim no (Def: set above)
sparkxy = -10, 0               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 32              ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 15
guard.ctrltime = 30
ground.cornerpush.veloff = -0.1
air.cornerpush.veloff = -0.1
p1sprpriority = -3
guard.dist = 40
nochainID = 8000

[State 200, 1]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || movecontact = 14 || movereversed = 14
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(9), 1                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = LA                   ;Flags on how move is to be guarded against
hitflag = MFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 16                ;Time attacker pauses, time opponent shakes
sparkno = 2                      ;Spark anim no (Def: set above)
sparkxy = -10, 0              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 32            ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low                 ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 15
guard.ctrltime = 30
ground.cornerpush.veloff = -0.1
air.cornerpush.veloff = -0.1
p1sprpriority = -3
guard.dist = 40
nochainID = 8000

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5035
value = 6035
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 0, PalFX]
type = PalFX
trigger1 = 1
trigger1 = (GameTime%10)=0
time = 4
add = 180,180,180
mul = 150,150,150
color = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
trigger1 = (GameTime%10)=4
time = 6
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 600]
Type = changestate
trigger1 = time >= 180
trigger2 = root,stateno = 8000
trigger3 = roundstate > 2
trigger4 = root,stateno = [3901,3910]
value  = 2052

;======================================================================================================================================================
;Mom Generator
[Statedef 1999]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0,]
type = varset
trigger1 = !time
var(3) = 0+random%2
ignorehitpause = 1

[State 0,]
type = playsnd
trigger1 = !time
value = 3001,var(3)
ignorehitpause = 1

[State 0,]
type = varadd
trigger1 = 1
var(1) = 1

[State 0,]
type = bindtoroot
trigger1 = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 1300]
type = helper
trigger1 = root,numexplod(5999)
trigger1 = time >= 265
trigger1 = var(3) = 1
helpertype = normal
stateno = 2000
ID = 2000
name = "Mom"
postype = p1
pos = 0, -1000
ownpal = 1
size.xscale = .25
size.yscale = .25
persistent = 0

[State 1300]
type = helper
trigger1 = root,numexplod(5999)
trigger1 = time >= 265
trigger1 = var(3) = 0
helpertype = normal
stateno = 2000
ID = 2000
name = "Mom"
postype = p2
pos = 0, -1000
ownpal = 1
size.xscale = .25
size.yscale = .25
persistent = 0

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = numhelper(2000)
trigger1 = time >= 300
trigger2 = roundstate >= 3
trigger3 = root,stateno = [3901,3910]
persistent = 1

;======================================================================================================================================================
;Mom
[Statedef 2000]
type = S
physics = N
movetype = A
anim = 2000
ctrl = 0
sprpriority = 4

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 6808, Sparks]
type = explod
trigger1 = time%6 = 0
anim = 6808+random%3
ID = 6808
sprpriority = 0
scale=.5,.5
pos = -20+random%40,-20+random%40
bindtime = 1
ignorehitpause = 1

[State 0,]
type = null;Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = null;AngleDraw
trigger1 = 1
value = 8
ignorehitpause = 1
persistent = 1

[State 1350, Vel]
type = playsnd
trigger1 = !time
value = 3002,random%3

[State 1350, HitOverride]
type = hitoverride
trigger1 = 1
time = -1
attr = SCA, AA, AP, AT
stateno = 1360
ignorehitpause = 1

[State 1350, HB]
type = hitby
trigger1 = 1
time = -1
value = SCA, NP, SP, HP
ignorehitpause = 1

[State 1350, Vel]
type = velset
trigger1 = !time
y = 50

[State 1350, Vel]
type = veladd
trigger1 = Time > 3
y = .3

[State 1350, Hit]
type = hitdef
triggerall = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
affectteam = B
priority = 4, Hit
attr = S, SA
damage = ceil(220*root,fvar(4)), 7
animtype = Hard
hitflag = MAFD
guardflag = H
pausetime = 0, 12
sparkno = 3
sparkxy = -10, 80
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -3, -5
guard.velocity = 0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.velocity = -4, -4
air.fall = 1
fall = 1
fall.recover = 1
fall.recovertime = 45
getpower = 0, 0
yaccel = 0.5
airguard.ctrltime = 16
airguard.velocity = 0, -1.5
envshake.time = 18
envshake.freq = 120
nochainID = 8000
p2stateno = 5852

[State 1350, Hit]
type = hitdef
triggerall = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
affectteam = B
priority = 4, Hit
attr = S, SA
damage = ceil(260*root,fvar(4)), 7
animtype = Hard
hitflag = MAFD
guardflag = H
pausetime = 0, 16
sparkno = 3
sparkxy = -10, 80
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -3, -5
guard.velocity = 0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.velocity = -4, -4
air.fall = 1
fall = 1
fall.recover = 0
getpower = 0, 0
yaccel = 0.5
airguard.ctrltime = 16
airguard.velocity = -4, -1.5
envshake.time = 18
envshake.freq = 120
envshake.ampl = -4
nochainID = 8000
p2stateno = 5852

;Because there is no rootvarset (Seriously, What the fuck?)
[State 1350, Hit]
type = projectile
trigger1 = movehit
projID = 2000
projanim = 9999
attr = S, SA
damage = 0, 0
animtype = Hard
hitflag = MAFD
guardflag = H
pausetime = 0, 0
sparkno = 0
ground.type = High
projremovetime = 1
getpower = 0, 0
persistent = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

;[State 1350, Assert]
;type = targetstate
;trigger1 = movehit = 1
;value = 5852

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = root,fvar(4)*0.8
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1, ]
type = posset
trigger1 = pos y >= 0
y = 0

[State 1350, End]
type = changestate
trigger1 = pos y >= 0
value = 2001
ignorehitpause = 1

;======================================================================================================================================================
;Mom
[Statedef 2001]
type = S
physics = N
movetype = I
anim = 2001
ctrl = 0
sprpriority = 4
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 300, 2]
type = angledraw
trigger1 = time
scale = fvar(5),fvar(6)
persistent = 1

[State 1350,]
type = playsnd
trigger1 = !time
value = 3004,0

[State 1350,]
type = playsnd
triggerall = time < 60
trigger1 = root,alive = 0
trigger2 = enemynear,alive = 0
value = 3003,0
persistent = 0

[State 300, 2]
type = varset
trigger1 = !time
fvar(5) = 1.3
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 2
fvar(5) = 1.2
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 4
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 6
fvar(5) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = !time
fvar(6) = .7
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 2
fvar(6) = .8
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 4
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 6
fvar(6) = 1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 54
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 56
fvar(5) = 1.2
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 58
fvar(5) = 1.1
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 60
fvar(5) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 54
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 56
fvar(6) = .8
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 58
fvar(6) = .9
persistent = 1

[State 300, 2]
type = varset
trigger1 = time = 60
fvar(6) = 1.2
persistent = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6970
pos = 0,0
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.65,0.05
pausemovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6340
id = 6340
pos = 0,0
facing = 1
sprpriority = 0
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 1.25,1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = !time
anim = F62
id = 1
pos = -17,0
facing = 1
sprpriority = -3
bindtime = 1
ownpal = 1
scale = 2,2
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6117
id = 6117
pos = 0, 0
facing = 1
sprpriority = 6
bindtime = -1
ownpal = 1
ignorehitpause = 0
scale = 0.5,0.5

[State 3000,]
type = envshake
trigger1 = !time
time = 15
freq = 160
ampl = -10
persistent = 0

[State 1, ]
type = posset
trigger1 = !time
y = 0

[State 0,]
type = null;Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0,]
type = velset
trigger1 = time >= 60
y = -30
ignorehitpause = 1
persistent = 0

[State 1350, HitOverride]
type = hitoverride
trigger1 = 1
time = -1
attr = SCA, AA, AP, AT
stateno = 1360
ignorehitpause = 1

[State 1350, HB]
type = hitby
trigger1 = 1
time = -1
value = SCA, NP, SP, HP
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 150
ignorehitpause = 1

;======================================================================================================================================================
;Fade Away
[Statedef 2051]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0,]
type = velmul
trigger1 = time
x = .85
y = .85

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = modifyexplod
ID = 3081
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = removeexplod
ID = 3081
trigger1 = time >= 60
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 10

;======================================================================================================================================================
;Fade Away
[Statedef 2050]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 1

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 0,]
type = velmul
trigger1 = time
x = .85
y = .85

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = modifyexplod
ID = 3081
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = removeexplod
ID = 3081
trigger1 = time >= 60
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 60

;======================================================================================================================================================
;Fade Away
[Statedef 2052]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = -3

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Isaac"
trigger1 = teamside = 2
time = 1
add = 180,180,0
mul = 150,150,0
color = 0
ignorehitpause = 1

[State 1055, 1]
type = angledraw
trigger1 = time >= 1
scale = 3-time*.1,2-time*.05
ignorehitpause = 1

[State 0,]
type = velmul
trigger1 = time
x = .85
y = .85

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = modifyexplod
ID = 3081
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = removeexplod
ID = 3081
trigger1 = time >= 60
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 60

;======================================================================================================================================================
;Fade Away
[Statedef 2053]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 1

[State 0,]
type = velmul
trigger1 = time
x = .85
y = .85

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = modifyexplod
ID = 3081
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1

[State 1350, Assert]
type = removeexplod
ID = 3081
trigger1 = time >= 60
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 60

;======================================================================================================================================================
;Brimstone
[Statedef 3080]
type = S
physics = N
movetype = A
anim = 3080
ctrl = 0
velset = 0, 0
sprpriority = 8
poweradd = 0

[State 6061, Effect]
type = Explod
trigger1 = time = 0
anim = 3081
ID = 3081
scale = .3,.3
postype = p1
facing = 1
pos = 0,0
sprpriority = 3
ownpal = 1
removetime = -1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 1350, Assert]
type = modifyexplod
trigger1 = time >= 50
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1, ]
type = PlaySnd
trigger1 = var(10) = 0
value = 211, 0

[State 1, ]
type = varadd
trigger1 = 1
var(10) = 1
ignorehitpause = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = ,AA,AT
ignorehitpause = 1

[State 1350, HB]
type = hitoverride
trigger1 = 1
time = -1
ATTR = SCA,AP
ignorehitpause = 1
stateno = 3080

[State 1350, Hit]
type = hitdef
triggerall = p2stateno != [5200,5210]
trigger1 = var(10)%6 = 1
triggerall = enemynear,movetype != A
priority = 4, Hit
attr = S, HP
damage = ceil(10+(10*root,fvar(4))),1
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.pausetime = 0, 7
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -3
ground.cornerpush.veloff = 0
air.velocity = -25, -1
fall = 1
fall.recovertime = 45
getpower = 0, 0
guard.ctrltime = 18
airguard.velocity = -4, -1.5
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,56,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
envshake.time = 25
envshake.freq = 70
p1sprpriority = 6

[State 1350, Hit]
type = hitdef
triggerall = p2stateno != [5200,5210]
trigger1 = var(10)%6 = 1
triggerall = enemynear,movetype = A
priority = 4, Hit
attr = S, HP
damage = ceil(40+(10*root,fvar(4))),1
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 15
guard.pausetime = 0, 7
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -3
ground.cornerpush.veloff = 0
air.velocity = -25, -1
fall = 1
fall.recover = 0
getpower = 0, 0
guard.ctrltime = 18
airguard.velocity = -4, -1.5
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,56,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
envshake.time = 25
envshake.freq = 70
p1sprpriority = 6

[State 1300]
type = targetstate
trigger1 = movehit = 1
value = 5895
persistent = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = changestate
trigger1 = time >= 30
trigger2 = var(10) >= 30
trigger3 = root,movetype = H
trigger4 = root,stateno = [6060,6061]
value = 2053

;======================================================================================================================================================
;Mega Brimstone
[Statedef 3083]
type = S
physics = N
movetype = A
anim = 3083
ctrl = 0
velset = 0, 0
sprpriority = 8
poweradd = 0

[State 6061, Effect]
type = Explod
trigger1 = time = 0
anim = 3081
ID = 3081
scale = 1.25,1.25
postype = p1
facing = 1
pos = 0,0
sprpriority = 3
ownpal = 1
removetime = -1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 1, ]
type = bindtoroot
trigger1 = 1
pos = 75, -35

[State 1, ]
type = PlaySnd
trigger1 = var(10) = 0
value = 211, 1

[State 1, ]
type = varadd
trigger1 = 1
var(10) = 1
ignorehitpause = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = ,AA,AT
ignorehitpause = 1

[State 1350, HB]
type = hitoverride
trigger1 = 1
time = -1
ATTR = SCA,AP
ignorehitpause = 1
stateno = 3083

[State 1350, Hit]
type = hitdef
triggerall = p2stateno != [5200,5210]
trigger1 = var(10)%6 = 1
triggerall = enemynear,movetype != A
priority = 4, Hit
attr = S, HP
damage = ceil((6+(10+(3*numhelper(9884)))*(root,fvar(4)))),2
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.pausetime = 0, 7
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -3
ground.cornerpush.veloff = 0
air.velocity = -25, -1
fall = 1
fall.recovertime = 45
getpower = 0, 0
guard.ctrltime = 18
airguard.velocity = -4, -1.5
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,56,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
envshake.time = 25
envshake.freq = 70
p1sprpriority = 6

[State 1350, Hit]
type = hitdef
triggerall = p2stateno != [5200,5210]
trigger1 = var(10)%6 = 1
triggerall = enemynear,movetype = A
priority = 4, Hit
attr = S, HP
damage = ceil((25+(25+(10*numhelper(9884)))*(root,fvar(4)))),2
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 15
guard.pausetime = 0, 7
sparkno = 3
sparkxy = -10, -6+random%12
hitsound = S5,4
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -25, -2
guard.velocity = -3
ground.cornerpush.veloff = 0
air.velocity = -25, -1
fall = 1
fall.recover = 0
getpower = 0, 0
guard.ctrltime = 18
airguard.velocity = -4, -1.5
p2facing = 1
nochainID = 8000
palfx.time = 20
palfx.mul = 256,56,56
palfx.add = 0,10,10
palfx.sinadd = 100,100,100,6
envshake.time = 25
envshake.freq = 70
p1sprpriority = 6

[State 1300]
type = targetstate
trigger1 = movehit = 1
value = 5895
persistent = 1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,var(18) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1350, End]
type = changestate
trigger1 = time >= 100
trigger2 = var(10) >= 100
trigger3 = root,stateno != 3075
value = 2053

;======================================================================================================================================================
;Aura
[Statedef 3959]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -3

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 120,20,50
mul = var(18),0,0
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.25
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = root,fvar(19)*.000008
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 8

;======================================================================================================================================================
;D6 Aura
[Statedef 3958]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = 5

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoparent
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = time >= 0
value = parent,anim
elem  = parent,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
triggerall = parent,var(7) = 1
trigger1 = 1
time = 1
add = 255,255,0
color = 1
mul = 255,255,0

[State Pal, 1]
type = PalFX
triggerall = parent,var(7) = 2
trigger1 = 1
time = 1
add = 0,110,255
color = 1
mul = 0,255,255

[State Pal, 1]
type = PalFX
triggerall = parent,var(7) = 3
trigger1 = 1
time = 1
add = 255,255,255
color = 1
mul = 255,255,255

[State Pal, 1]
type = PalFX
triggerall = parent,var(7) = 4
trigger1 = 1
time = 1
add = 0,255,0
color = 1
mul = 0,255,0

[State Pal, 1]
type = PalFX
triggerall = parent,var(7) = 5
trigger1 = 1
time = 1
invertall = 1
add = -255,-255,-255
color = 1
mul = 255,255,255

[State Pal, 1]
type = PalFX
triggerall = parent,var(7) = 6
trigger1 = 1
time = 1
add = 255,0,0
color = 1
mul = 255,0,0

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 220
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -16
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),var(19)
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = .2
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(19) = 0

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(19) = 30

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .015
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 16

;======================================================================================================================================================
;The Helper of Permission
[Statedef 7777]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = [6060,6061]
trigger2 = root,movetype != A
persistent = 1

;======================================================================================================================================================
;The Helper of Healing
[Statedef 7778]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 5
persistent = 1

;======================================================================================================================================================
;The Helper of Charging
[Statedef 7779]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 5
persistent = 1

;======================================================================================================================================================
;Astral Heat Background
;======================================================================================================================================================
[Statedef 7005]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7005
ID = 7005
pos = -50,-50
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 2,2
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = timerfreeze
ignorehitpause = 1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = globalnoshadow
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7006
ID = 7005
pos = -680, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7006
ID = 7005
pos = -500, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7006
ID = 7005
pos = -260, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7006
ID = 7005
pos = -4, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7007
ID = 7005
pos = -300,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7007
ID = 7005
pos = -300,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3950]
trigger2 = root,winko
ID = 7005
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno != [3900,3950]
trigger2 = root,winko
ignorehitpause = 1

;======================================================================================================================================================
;Ultraburst Manager
[Statedef 9879]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State -2]
type = Explod
triggerall = TeamSide = 1
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = left
pos = 8,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = Explod
triggerall = TeamSide = 2
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = right
pos = -60,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = modifyExplod
trigger1 = root,fvar(19) > 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1
persistent = 1

[State -2]
type = RemoveExplod
trigger1 = root,fvar(19) <= 0
ID = 9879
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = !numhelper(8988)
helpertype = normal
stateno = 8988
ID = 8988
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
supermovetime=99999
pausemovetime=99999

[State -2]
type = assertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State -2]
type = poweradd
triggerall = root,stateno != [3000,4999]
trigger1 = root,movetype != H
value = 3
ignorehitpause = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = removeexplod
trigger1 = root,fvar(19) <= 0
ID = 7003
persistent = 1

[State 8000, ]
type = playsnd
trigger1 = root,fvar(19) <= 0
value = 8005,1
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;======================================================================================================================================================
;Aura
[Statedef 9883]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = 10

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = root,var(18) != 0
time = 1
add = 120,20,50
mul = var(18),0,0
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = root,var(18) = 0
time = 1
add = 120,120,120
mul = var(18),var(18),var(18)
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 180
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 256
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = .25,fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.25
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .004
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 16

;======================================================================================================================================================
;Not Over Yet Manager
[Statedef 9884]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1, 3]
type = playsnd
trigger1 = time = 0
trigger2 = root,time = 52
Trigger2 = root,stateno = 3000
trigger3 = root,time = [0,1]
Trigger3 = root,stateno = 3050
trigger4 = root,time = [0,1]
Trigger4 = root,stateno = 3075
value = 3000, 3

[State 1, 3]
type = poweradd
trigger1 = !time
value = 500

[State 1, 3]
type = poweradd
triggerall = root,stateno != [3000,3999]
trigger1 = time%10 = 0
value = 1

[State -2, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 9884
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 9884
pos = -95,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2]
type = Helper
Trigger1 = !time
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persistent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
triggerall = root,time = 52
Trigger1 = root,stateno = 3000
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
triggerall = root,time = 1
Trigger1 = root,stateno = 3050
Trigger2 = root,stateno = 3075
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 1350, End]
type = null;destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;---------------------------------------------------------------------------
;Super Finish
[Statedef 8992]
physics  = N
ctrl     = 0
Anim = 9999

[State 3020,]
type = pause
trigger1 = !time
time = 50
ignorehitpause = 1

[State 3020,]
type = playsnd
trigger1 = !time
value = 7005,0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID =7002
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7004
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale =1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7005
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -5
ownpal = 1
scale = 1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7006
ID = 7006
facing = 1
postype = back
pos = 160,120
sprpriority = -7
ownpal = 1
scale =.7,.7
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time < 20
ID=7006
;trans=addalpha
scale = .7+time*.1,.7+time*.1
;alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7006
trans=addalpha
scale = .7+time*.1,.7+time*.1
alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7002
trans=addalpha
alpha=256-((time-20)*5),256

[State 3020,]
type = removeexplod
trigger1 = time >= 100
ID = 7002
ignorehitpause = 1

[State 3020,]
type = DestroySelf
trigger1 = time >= 100
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion BG
[Statedef 8985]
physics  = N
ctrl     = 0
Anim = 7100

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State AssertS, 1]
type = AssertSpecial
trigger1 = time >= 16
flag = nobg
flag2 = nofg

[State BGPalF, 1]
type = BGPalFX
trigger1 = time < 16
mul = 256-(time)*5,256-(time)*5,256-(time)*5
time = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7002
id = 7002
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7003
id = 7003
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7100
id = 7100
postype = left
pos = -10, 120
facing = 1
sprpriority = -2000
bindtime = -1
ownpal = 0
ignorehitpause = 1
persistent = 0
scale=150,.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7200
id = 7200
postype = left
pos = 160,120
facing = 1
sprpriority = -1950
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale =.5,.5
pausemovetime = 9999
supermovetime = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7003)
trigger1 = time 
ID=7003
trans=addalpha
alpha = 256,256
scale = 0.1+(time*.03),0.1+(time*.03)
ignorehitpause = 1

[State 3007,]
type = Helper
trigger1 = time%15 = 0
helpertype = Normal
name = "Effect"
stateno = 7000
ID = 7000
pos = 0,-80
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 1

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = !numhelper(9884)
source = 7,0
dest = 7,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = numhelper(9884)
source = 7,0
dest = 8,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = ishelper(7003)
source = 7,0
dest = 9,0
ignorehitpause = 1
persistent = 0

[State 3020,]
type = changestate
trigger1 = ishelper(7001)
trigger1 = time >= 40
trigger2 = ishelper(7002)
trigger2 = time >= 50
trigger3 = ishelper(7003)
trigger3 = time >= 50
value = 8986
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3902,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3902,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3902,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion Effect
[Statedef 7000]
physics  = N
ctrl     = 0
Anim = 7000

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
pos=0,95
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
vfacing = -1
pos=0,145
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ]
type=varadd
trigger1=numexplod(7000)
var(0)=7

[State ]
type=varset
trigger1=var(0)>256
var(0)=256

[State ]
type=varadd
trigger1=numexplod(7000)
fvar(0)=.022

[State ]
type=modifyexplod
trigger1=numexplod(7000)
ID=7000
trans=addalpha
alpha=256-var(0),256
scale=.5,1-fvar(0)

[State ]
type=RemoveExplod
trigger1=var(0)>=256&&numexplod(7000)
trigger2 = root,stateno = [3901,3999]
ID=7000

[State 3020,]
type = destroyself
trigger1 = !numexplod(7000)
trigger1 = time >= 15
trigger2 = root,stateno = [3901,3999]
ignorehitpause = 1

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = !numhelper(9884)
source = 4,0
dest = 4,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = numhelper(9884)
source = 4,0
dest = 5,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003)
source = 4,0
dest = 6,0
ignorehitpause = 1
persistent = 0

;-------------------------------------------------------------------------------
;Distortion BG End
[Statedef 8986]
type = A
physics = N
anim = 9999

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State AssertS, 1]
type = AssertSpecial
trigger1 = time <= 16
flag = noBG

[State BGPalF, 1]
type = BGPalFX
trigger1 = numhelper(8988)
trigger2 = enemynear,numhelper(8988)
triggerall = time >= 16
mul = (time-15)*10,(time-15)*10,(time-15)*10
time = 1
ignorehitpause = 1

[State BGPalF, 1]
type = BGPalFX
trigger1 = !numhelper(8988)
trigger1 = time >= 16
mul = (time-15)*16,(time-15)*16,(time-15)*16
time = 1
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7100)
trigger1 = time 
ID=7100
trans=addalpha
alpha = 256-(time*10),256

[State RemoveE, 1]
type = RemoveExplod
triggerall = numexplod(7100)
trigger1 = time >= 25
ID = 7100

[State DestroyS, 1]
type = DestroySelf
trigger1 = !numhelper(7000)
trigger1 = time >= 26

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3902,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3902,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3902,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG
[Statedef 8988]
physics  = N
ctrl     = 0
Anim = 9999

[State 0, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time < 30
ID=7001
trans=addalpha
alpha=0+(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 256-time*10,256-time*10,256-time*10
ignorehitpause = 1
persistent = 1

[State 7005, ]
type = bgpalfx
trigger1 = time >= 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156,156,156
ignorehitpause = 1
persistent = 1

[State 3020,]
type = removeexplod
trigger1 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = winko
ignorehitpause = 1

[State 3020,]
type = changestate
trigger1 = root,fvar(19) <= 0
value = 8989
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG Fade
[Statedef 8989]
physics  = N
ctrl     = 0
Anim = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time
ID=7001
trans=addalpha
alpha=256-(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156+time*10,156+time*10,156+time*10
ignorehitpause = 1
persistent = 1


[State 3020,]
type = removeexplod
trigger1 = time >= 30
trigger2 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = time >= 30
trigger2 = winko
ignorehitpause = 1


;======================================================================================================================================================
;You Are Here
[Statedef 9999]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = roundstate > 1

;======================================================================================================================================================
;Ink's Projectile Detection
[Statedef 33333333]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
 
;==========================================================================
;                Config Section
;==========================================================================
anim = 9999                  ; blank animation
 
;==========================================================================
 
[state 33333333, Clipboard] 
type = DisplayToClipboard
trigger1 = 1
text = "Highest Playerid = %d , Projectile helper's PlayerId = %d\nBy Inktrebuchet"
params = var(0)-1, var(3)
;==========================================================================
;                Detect Enemy's Projectile Helper
;==========================================================================
[State 33333333, 0]
type = Null
trigger1 = var(0) = 0
trigger1 = (var(0) := id)
ignorehitpause = 1
 
[state 33333333, 1] 
type = varadd
trigger1 = PlayerIdExist(var(0)) 
trigger2 = PlayerIdExist(var(0)+1) 
trigger3 = PlayerIdExist(var(0)+2) 
trigger4 = PlayerIdExist(var(0)+3) 
trigger5 = PlayerIdExist(var(0)+4) 
trigger6 = PlayerIdExist(var(0)+5) 
trigger7 = PlayerIdExist(var(0)+6) 
trigger8 = PlayerIdExist(var(0)+7) 
trigger9 = PlayerIdExist(var(0)+8) 
trigger10 = PlayerIdExist(var(0)+9) 
trigger11 = PlayerIdExist(var(0)+10) 
trigger12 = PlayerIdExist(var(0)+11) 
trigger13 = PlayerIdExist(var(0)+12) 
trigger14 = PlayerIdExist(var(0)+13) 
trigger15 = PlayerIdExist(var(0)+14) 
trigger16 = PlayerIdExist(var(0)+15) 
trigger17 = PlayerIdExist(var(0)+16) 
trigger18 = PlayerIdExist(var(0)+17) 
trigger19 = PlayerIdExist(var(0)+18) 
trigger20 = PlayerIdExist(var(0)+19) 
trigger21 = PlayerIdExist(var(0)+20) 
trigger22 = PlayerIdExist(var(0)+21) 
trigger23 = PlayerIdExist(var(0)+22) 
trigger24 = PlayerIdExist(var(0)+23) 
trigger25 = PlayerIdExist(var(0)+24) 
trigger26 = PlayerIdExist(var(0)+25) 
v = 0
value = 1
ignorehitpause = 1
 
[State 33333333, 2]
type = Null
triggerall = PlayerIdExist(Root,ID)
trigger1 = PlayerIdExist(var(0)-1)
trigger1 = cond(root,teamside = 1, PlayerID(var(0)-1),teamside = 2, PlayerID(var(0)-1),teamside = 1)
trigger1 = PlayerID(var(0)-1),hitdefattr = ASC, NP, SP, HP
trigger1 = var(3) := (var(0)-1)
trigger2 = PlayerIdExist(var(0)-2)
trigger2 = cond(root,teamside = 1, PlayerID(var(0)-2),teamside = 2, PlayerID(var(0)-2),teamside = 1)
trigger2 = PlayerID(var(0)-2),hitdefattr = ASC, NP, SP, HP
trigger2 = var(3) := (var(0)-2)
trigger3 = PlayerIdExist(var(0)-3)
trigger3 = cond(root,teamside = 1, PlayerID(var(0)-3),teamside = 2, PlayerID(var(0)-3),teamside = 1)
trigger3 = PlayerID(var(0)-3),hitdefattr = ASC, NP, SP, HP
trigger3 = var(3) := (var(0)-3)
trigger4 = PlayerIdExist(var(0)-4)
trigger4 = cond(root,teamside = 1, PlayerID(var(0)-4),teamside = 2, PlayerID(var(0)-4),teamside = 1)
trigger4 = PlayerID(var(0)-4),hitdefattr = ASC, NP, SP, HP
trigger4 = var(3) := (var(0)-4)
trigger5 = PlayerIdExist(var(0)-5)
trigger5 = cond(root,teamside = 1, PlayerID(var(0)-5),teamside = 2, PlayerID(var(0)-5),teamside = 1)
trigger5 = PlayerID(var(0)-5),hitdefattr = ASC, NP, SP, HP
trigger5 = var(3) := (var(0)-5)
trigger6 = PlayerIdExist(var(0)-6)
trigger6 = cond(root,teamside = 1, PlayerID(var(0)-6),teamside = 2, PlayerID(var(0)-6),teamside = 1)
trigger6 = PlayerID(var(0)-6),hitdefattr = ASC, NP, SP, HP
trigger6 = var(3) := (var(0)-6)
trigger7 = PlayerIdExist(var(0)-7)
trigger7 = cond(root,teamside = 1, PlayerID(var(0)-7),teamside = 2, PlayerID(var(0)-7),teamside = 1)
trigger7 = PlayerID(var(0)-7),hitdefattr = ASC, NP, SP, HP
trigger7 = var(3) := (var(0)-7)
trigger8 = PlayerIdExist(var(0)-8)
trigger8 = cond(root,teamside = 1, PlayerID(var(0)-8),teamside = 2, PlayerID(var(0)-8),teamside = 1)
trigger8 = PlayerID(var(0)-8),hitdefattr = ASC, NP, SP, HP
trigger8 = var(3) := (var(0)-8)
trigger9 = PlayerIdExist(var(0)-9)
trigger9 = cond(root,teamside = 1, PlayerID(var(0)-9),teamside = 2, PlayerID(var(0)-9),teamside = 1)
trigger9 = PlayerID(var(0)-9),hitdefattr = ASC, NP, SP, HP
trigger9 = var(3) := (var(0)-9)
trigger10 = PlayerIdExist(var(0)-10)
trigger10 = cond(root,teamside = 1, PlayerID(var(0)-10),teamside = 2, PlayerID(var(0)-10),teamside = 1)
trigger10 = PlayerID(var(0)-10),hitdefattr = ASC, NP, SP, HP
trigger10 = var(3) := (var(0)-10)
ignorehitpause = 1
 
[State 33333333, BindToRoot]
type = BindToRoot
trigger1 = PlayerIdExist(Root,ID)
time = 1
facing = 1
pos =0,-2
ignorehitpause = 1 