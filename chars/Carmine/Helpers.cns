;======================================================================================================================================================
;Shield
[Statedef 6140]
Type = A
Physics = N
VelSet = 0,0
SprPriority = 2
anim = 6130

[State -1]
Type = BindToParent
Trigger1 = root,anim = 120
Trigger2 = root,anim = 130
Trigger3 = root,anim = 140
Trigger4 = root,anim = 150
Pos = 10,-80
Persistent = 1
IgnoreHitPause = 1
time = 2
[State -1]
Type = BindToParent
Trigger1 = root,anim = 121
Trigger2 = root,anim = 131
Trigger3 = root,anim = 141
Trigger4 = root,anim = 151
Pos = 20,-35
Persistent = 1
IgnoreHitPause = 1
time = 2
[State -1]
Type = BindToParent
Trigger1 = root,anim = 122
Trigger2 = root,anim = 132
Trigger3 = root,anim = 142
Trigger4 = root,anim = 152
Pos = 10,-75
Persistent = 1
IgnoreHitPause = 1
time = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.25,1.25
ignorehitpause = 1

[State -1]
Type = ChangeAnim
Triggerall = root, anim != [120,122]
Triggerall = root, anim != [130,132]
Triggerall = root, anim != [150,152]
trigger1 = anim = 6130
Value = 6131

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = anim = 6131
trigger1 = animtime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;Dissolve
[Statedef 2000]
type = A
movetype = I
physics = N
Anim = 2000+random%3
ctrl = 0
sprpriority = -6
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

;Because there is no rootvarset (Seriously, What the fuck?)
[State 1350, Hit]
type = projectile
trigger1 = !time
projID = 2000
projanim = 9999
attr = S, SA
damage = 0, 0
animtype = Hard
hitflag = MAFD
guardflag = H
pausetime = 0, 0
sparkno = 0
ground.type = High
projremovetime = 1
getpower = 0, 0
persistent = 0

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,1

[State 1001,]
type = angledraw
trigger1 = time < 10
scale = .02+(time*.1),.02+(time*.1)

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = root,stateno = 211
trigger2 = root,stateno = 615
triggerall = root,movetype != H
value = 2001

[State 1001,]
type = ChangeState
trigger1 = root,stateno = [1100,1101]
trigger1 = root,animelem = 1
triggerall = root,movetype != H
value = 2110

[State 1001,]
type = ChangeState
trigger1 = root,stateno = 1300
trigger1 = root,animelem = 8
triggerall = root,movetype != H
value = 2130

[State 1001,]
type = ChangeState
trigger1 = root,stateno = [1000,1001]
trigger2 = root,stateno = [1003,1004]
triggerall = root,animelem = 1
triggerall = root,movetype != H
value = 2100

[State 1001,]
type = ChangeState
trigger1 = root,stateno = 1002
trigger2 = root,stateno = 1005
triggerall = root,animelem = 1
triggerall = root,movetype != H
value = 2101

[State 1001,]
type = ChangeState
triggerall = time >= 35
trigger1 = ishelper(2000)
trigger1 = numhelper(2000) > 1
trigger2 = ishelper(2001)
trigger2 = numhelper(2001) > 1
trigger3 = ishelper(2002)
trigger3 = numhelper(2002) > 1
triggerall = root,movetype != H
value = 2010

[State 1001,]
type = ChangeState
trigger1 = root,stateno = 3050
trigger1 = root,animelem = 1
triggerall = root,movetype != H
value = 2350

[State 1001,]
type = destroyself
trigger1 = root,stateno = [3901,3903]

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Dissolve 5BB
[Statedef 2001]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -6
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = time = 5
helpertype = normal
stateno = 6211
ID = 6211
name = "Blood Arc"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 30
value = 2010

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1



;======================================================================================================================================================
;Dissolve Fade
[Statedef 2010]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = -6

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

[State 0,]
type = angledraw
trigger1 = 1
scale = 1-(time*.03),1-(time*.03)

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*22), 0+ceil(time*20)
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 20

;---------------------------------------------------------------------------
;Dissolve Spin
[Statedef 2100]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -6
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = time = 34
helpertype = normal
stateno = 6206
ID = 6206
name = "SPIN!"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .44
size.yscale = .44

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 35
value = 2010

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Dissolve Spin
[Statedef 2101]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -6
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = time = 16
helpertype = normal
stateno = 6206
ID = 6206
name = "SPIN!"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .44
size.yscale = .44

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 35
value = 2010

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Dissolve Launch
[Statedef 2110]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -6
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = time = 12
helpertype = normal
stateno = 6111
ID = 6111
name = "LAUNCH!"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .44
size.yscale = .44

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 30
value = 2010

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Dissolve Thrust
[Statedef 2130]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -6
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = time = 35
helpertype = normal
stateno = 6135
ID = 6135
name = "Detonate"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .44
size.yscale = .44

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 40
value = 2010

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Dissolve Trap
[Statedef 2350]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -6
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = enemynear,name = "Carmine"
trigger1 = teamside = 2
time = 1
add = 200,0,0
mul = 150,0,0
color = 0
ignorehitpause = 1

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = time = 11
helpertype = normal
stateno = 6111
ID = 6111
name = "LAUNCH!"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .44
size.yscale = .44

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 30
value = 2010

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Blood Spike
[Statedef 6210]
type = A
movetype = A
physics = N
Anim = 215
ctrl = 0
sprpriority = 5
velset = .3,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,0

[State 1001,]
type = veladd
trigger1 = time
x = 0.6

[State 1001,]
type = angledraw
trigger1 = time < 12
scale = .05+(time*.05),.05+(time*.05)

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1063
time = -1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(50*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 16
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
air.fall = 1
fall.recovertime = 30

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(68*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
trigger2 = FrontEdgeDist <= -10
helpertype = normal
stateno = 7777
ID = 7778
name = "You May Auto combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = FrontEdgeDist <= -10
value = 1063

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Blood Spike Downward
[Statedef 6212]
type = A
movetype = A
physics = N
Anim = 217
ctrl = 0
sprpriority = 5
velset = .3,.3

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,0

[State 1001,]
type = veladd
trigger1 = time
x = 0.6
y = 0.6

[State 1001,]
type = angledraw
trigger1 = time < 12
scale = .05+(time*.05),.05+(time*.05)
value = -45
ignorehitpause = 1

[State 1001,]
type = angledraw
trigger1 = time >= 12
value = -45
ignorehitpause = 1

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1063
time = -1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(50*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,40
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 16
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
air.fall = 1
fall.recovertime = 30

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(68*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,40
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
trigger2 = FrontEdgeDist <= -10
trigger3 = pos Y >= -65
helpertype = normal
stateno = 7777
ID = 7778
name = "You May Auto combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = FrontEdgeDist <= -10
trigger3 = pos Y >= -65
value = 1063

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Blood Arc
[Statedef 6211]
type = A
movetype = A
physics = N
Anim = 216
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(53*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,-60+ceil(p2dist Y*.5)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -2,-6.5
air.velocity = -2,-6.5
air.hittime = 16
fall = 1
fall.recovertime = 35

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(71*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-60+ceil(p2dist Y*.5)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2,-6.5
air.velocity = -2,-6.5
air.hittime = 16
fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7779
name = "You May Auto combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 25
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;jC Blood Spikes
[Statedef 6620]
type = A
movetype = A
physics = N
Anim = 625
ctrl = 0
sprpriority = 5
velset = 0,1

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,0

[State 1001,]
type = veladd
trigger1 = time
y = 1.5

[State 1001,]
type = angledraw
trigger1 = time
scale = .5+(time*.03),.03+(time*.17)

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(50*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = 0,45
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
air.fall = 1
fall.recovertime = 30

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(68*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = 0,45
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
air.fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = targetstate
trigger1 = movehit
value = 854
persistent = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
trigger2 = FrontEdgeDist <= -5
helpertype = normal
stateno = 7777
ID = 7778
name = "You May Auto combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = pos Y >= -10
value = 1065

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;jC Blood Spikes
[Statedef 6621]
type = A
movetype = A
physics = N
Anim = 626
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = posset
trigger1 = time
y = 0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(53*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,-15
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -.5,-6.75
air.velocity = -.5,-6.75
air.hittime = 16
fall = 1
fall.recovertime = 40
p1sprpriority = 5

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(71*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-15
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -.5,-6.75
air.velocity = -.5,-6.75
air.hittime = 16
fall = 1
fall.recover = 0
p1sprpriority = 5

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7779
name = "You May Auto combo"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = time = 1
helpertype = normal
stateno = 2000
ID = 2000+root,var(8)
name = "Dissolve"
postype = p1
pos = 50, 0
ownpal = 1
size.xscale = .33
size.yscale = .33

[State 1300]
type = helper
trigger1 = time = 2
helpertype = normal
stateno = 2000
ID = 2000+root,var(8)
name = "Dissolve"
postype = p1
pos = -50, 0
ownpal = 1
size.xscale = .33
size.yscale = .33

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 25
value = 1066

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;LAUNCH!
[Statedef 6110]
type = A
movetype = A
physics = N
Anim = 2110
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 200, 2]
type = posadd
trigger1 = p2dist x = [-40,40]
trigger1 = !time
x = ceil(p2dist x)*.95

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(63*root,fvar(4)),8
hitflag = MAFD
guardflag = LA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-40+ceil(p2dist Y*.75)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -2,-6.5
air.velocity = -2,-6
air.hittime = 16
fall = 1
fall.recovertime = 45

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(81*root,fvar(4)),8
hitflag = MAFD
guardflag = LA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-40+ceil(p2dist Y*.75)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2,-6.5
air.velocity = -2,-6
air.hittime = 16
fall = 1
fall.recover = 0

[State 1300]
type = helper
trigger1 = !time
helpertype = normal
stateno = 2000
ID = 2000+root,var(8)
name = "Dissolve"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .33
size.yscale = .33

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 25
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;LAUNCH! (Dissolve)
[Statedef 6111]
type = A
movetype = A
physics = N
Anim = 2111
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(50*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -0,-7.5
air.velocity = -0,-7.5
air.hittime = 16
fall = 1
fall.recovertime = 40

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(70*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -0,-7.5
air.velocity = -0,-7.5
air.hittime = 16
fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 25
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;THRUST!
[Statedef 6130]
type = A
movetype = A
physics = N
Anim = 2130
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 200, 2]
type = posadd
trigger1 = p2dist x = [-40,40]
trigger1 = !time
x = ceil(p2dist x)*.95

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(70*root,fvar(4)),6
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -2,-6.5
air.velocity = -2,-4.5
air.hittime = 16
fall = 1
fall.recovertime = 42

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(90*root,fvar(4)),06
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2,-6.5
air.velocity = -2,-4.5
air.hittime = 16
fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = targetstate
trigger1 = movehit
value = 853
persistent = 0

[State 1300]
type = helper
trigger1 = !time
helpertype = normal
stateno = 2000
ID = 2000+root,var(8)
name = "Dissolve"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .33
size.yscale = .33

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 20
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Detonate
[Statedef 6135]
type = A
movetype = A
physics = N
Anim = 2135
ctrl = 0
sprpriority = 5
velset = 0,-15

[State 1001,]
type = playsnd
trigger1 = animelemtime(1) = 8
value = 400,3

[State 1001,]
type = playsnd
trigger1 = animelemtime(1) = 8
value = 400,0

[State 1001,]
type = angledraw
trigger1 = animelemtime(2) < 0
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = velmul
trigger1 = animelemtime(3) < 0
y = .9

[State 1001,]
type = velmul
trigger1 = animelemtime(3) >= 0
y = .5

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(70*root,fvar(4)),5
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -0,-7.5
air.velocity = -0,-7.5
air.hittime = 16
fall = 1
fall.recovertime = 35

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(90*root,fvar(4)),5
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -0,-7.5
air.velocity = -0,-7.5
air.hittime = 16
fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 25
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;SPIN! A
[Statedef 6200]
type = A
movetype = A
physics = N
Anim = 2100
ctrl = 0
sprpriority = 5
velset = 3.5,2.5

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,0

[State 1001,]
type = playsnd
trigger1 = animelemtime(1) = 33
value = 500,4

[State 1001,]
type = parentvarset
trigger1 = !time
var(25) = 1

[State 1001,]
type = varset
trigger1 = !time
var(5) = 20

[State 1001,]
type = varadd
trigger1 = animelemtime(3) >= 0
trigger1 = var(5) > 0
var(5) = -2

[State 1001,]
type = veladd
trigger1 = animelemtime(2) < 0
y = -0.2

[State 1001,]
type = angledraw
trigger1 = animelemtime(2) < 0
scale = .05+(time*.025),.05+(time*.025)

[State 1001,]
type = angledraw
trigger1 = time
value = time*var(5)

[State 1001,]
type = velset
trigger1 = animelem = 2
y = 0
x = -1

[State 1001,]
type = velmul
trigger1 = animelemtime(3) >= 0
x = .9

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = animelem = 2
helpertype = normal
stateno = 6205
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .6
size.yscale = .6

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || movecontact = 12 || movereversed = 12
attr = A, SP
damage    = ceil(30*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,9
sparkno = 3
sparkxy = -10,0
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -1,-4
air.velocity = -1,-4
air.hittime = 16
fall = 1
fall.recovertime = 35

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || movecontact = 12 || movereversed = 12
attr = A, SP
damage    = ceil(54*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,9
sparkno = 3
sparkxy = -10,0
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -1,-4
air.velocity = -1,-4
air.hittime = 16
fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 110
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,155]
value = 1067

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;SPIN! B
[Statedef 6201]
type = A
movetype = A
physics = N
Anim = 2100
ctrl = 0
sprpriority = 5
velset = 6.5,2.5

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,0

[State 1001,]
type = playsnd
trigger1 = animelemtime(1) = 33
value = 500,4

[State 1001,]
type = parentvarset
trigger1 = !time
var(25) = 1

[State 1001,]
type = varset
trigger1 = !time
var(5) = 20

[State 1001,]
type = varadd
trigger1 = animelemtime(3) >= 0
trigger1 = var(5) > 0
var(5) = -2

[State 1001,]
type = veladd
trigger1 = animelemtime(2) < 0
y = -0.2

[State 1001,]
type = angledraw
trigger1 = animelemtime(2) < 0
scale = .05+(time*.025),.05+(time*.025)

[State 1001,]
type = angledraw
trigger1 = time
value = time*var(5)

[State 1001,]
type = velset
trigger1 = animelem = 2
y = 0
x = -1

[State 1001,]
type = velmul
trigger1 = animelemtime(3) >= 0
x = .9

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = animelem = 2
helpertype = normal
stateno = 6205
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .6
size.yscale = .6

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || movecontact = 12 || movereversed = 12
attr = A, SP
damage    = ceil(30*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,9
sparkno = 3
sparkxy = -10,0
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -1,-6
air.velocity = -1,-6
air.hittime = 16
fall = 1
fall.recovertime = 35

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || movecontact = 12 || movereversed = 12
attr = A, SP
damage    = ceil(54*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,9
sparkno = 3
sparkxy = -10,0
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -1,-6
air.velocity = -1,-6
air.hittime = 16
fall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 110
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,155]
value = 1067

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;SPIN! EX
[Statedef 6202]
type = A
movetype = A
physics = N
Anim = 2101
ctrl = 0
sprpriority = 5
velset = 13,3
poweradd = 0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,0

[State 1001,]
type = playsnd
trigger1 = animelemtime(1) = 7
value = 500,4

[State 1001,]
type = parentvarset
trigger1 = !time
var(25) = 1

[State 1001,]
type = varset
trigger1 = !time
var(5) = 20

[State 1001,]
type = varadd
trigger1 = animelemtime(3) >= 0
trigger1 = var(5) > 0
var(5) = -2

[State 1001,]
type = veladd
trigger1 = animelemtime(2) < 0
y = -1

[State 1001,]
type = angledraw
trigger1 = animelemtime(2) < 0
scale = .05+(time*.085),.05+(time*.085)

[State 1001,]
type = angledraw
trigger1 = time
value = time*var(5)

[State 1001,]
type = velset
trigger1 = animelem = 2
y = 0
x = -1

[State 1001,]
type = velmul
trigger1 = animelemtime(3) >= 0
x = .9

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1300]
type = helper
trigger1 = animelem = 2
helpertype = normal
stateno = 6205
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || movecontact = 6 || movereversed = 6
attr = A, SP
damage    = ceil(20*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,5
sparkno = 3
sparkxy = -10,0
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -2,-5
air.velocity = -2,-5
air.hittime = 16
fall = 1
fall.recovertime = 35
getpower = 0,0

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || movecontact = 6 || movereversed = 6
attr = A, SP
damage    = ceil(45*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,5
sparkno = 3
sparkxy = -10,0
hitsound   = S5,6
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2,-5
air.velocity = -2,-5
air.hittime = 16
fall = 1
fall.recover = 0
getpower = 0,0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 80
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,155]
value = 1067

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;SPIN! Effect
[Statedef 6205]
type = A
movetype = A
physics = N
Anim = 2105
ctrl = 0
sprpriority = 4
velset = 0,0

[State 1001,]
type = bindtoparent
trigger1 = 1

[State 1001,]
type = varset
trigger1 = !time
var(4) = 256

[State 1001,]
type = varadd
trigger1 = parent,animelemtime(3) >= 0
var(4) = -50

[State 1001,]
type = varset
trigger1 = !time
var(5) = 20

[State 1001,]
type = angledraw
trigger1 = animelemtime(2) < 0
scale = .05+(time*.02),.05+(time*.02)

[State 1001,]
type = angledraw
trigger1 = time
value = time*var(5)

[State 1001,]
type = trans
trigger1 = parent,animelemtime(3) >= 0
trans = addalpha
alpha = var(4),256

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = destroyself
trigger1 = parent,stateno != [6200,6204]

;---------------------------------------------------------------------------
;SPIN! (Dissolve)
[Statedef 6206]
type = A
movetype = A
physics = N
Anim = 2106
ctrl = 0
sprpriority = 5
velset = 0,0
poweradd = 0

[State 1001,]
type = playsnd
trigger1 = time = 3
value = 400,2

[State 1001,]
type = velset
trigger1 = time = 5
x = 14

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.3),.05+(time*.3)

[State 1001,]
type = turn
trigger1 = p2dist x < 0
trigger1 = !time

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(35*root,fvar(4)),2
hitflag = MAFD
guardflag = LA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = 0,-4.5
air.velocity = 0,-4.5
air.hittime = 16
fall = 1
fall.recovertime = 30
getpower = 0,0

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(50*root,fvar(4)),2
hitflag = MAFD
guardflag = LA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = 0,-4.5
air.velocity = 0,-4.5
air.hittime = 16
fall = 1
fall.recover = 0
getpower = 0,0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 22
value = 1068

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Devouring Spikes
[Statedef 6300]
type = A
movetype = A
physics = N
Anim = 2300
ctrl = 0
poweradd = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, HA
damage = ceil(((25+(5*numhelper(9884)))*(root,fvar(4)))),8
hitflag = MAFD
guardflag = LA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-30
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -2,-6.5
air.velocity = -2,-6
air.hittime = 16
fall = 1
fall.recovertime = 45
p1sprpriority = 5
p2facing = 1
kill = 0
getpower = 0,0

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, HA
damage = ceil(((30+(6*numhelper(9884)))*(root,fvar(4)))),8
hitflag = MAFD
guardflag = LA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-30
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2,-6.5
air.velocity = -2,-6
air.hittime = 16
p2facing = 1
fall = 1
fall.recover = 0
p1sprpriority = 5
kill = 0
getpower = 0,0

[State -2, Ultra Bust Active]
type = targetstate
trigger1 = movehit
value = 5840
ignorehitpause = 1
persistent = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = root,stateno != [3000,3005]
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Devouring Needle
[Statedef 6305]
type = A
movetype = A
physics = N
Anim = 2305
ctrl = 0
sprpriority = 5

[State 1001,]
type = veladd
trigger1 = time
x = 0.6

[State ]
type = AngleSet
Trigger1 = 1
value = ceil(ATan(Vel Y/(Vel X+0.000001))*(-180.0/Pi)+((Vel X<0)*180))

[State ]
type = Angleadd
Trigger1 = 1
value = 0

[State ]
type = AngleDraw
trigger1 = 1
scale = 1+time*.5,1

[State ]
type = velset
Trigger1 = ishelper(2303)
x = 4
y = -16

[State ]
type = velset
Trigger1 = ishelper(2304)
x = 7
y = -13

[State ]
type = velset
Trigger1 = ishelper(2305)
x = 10
y = -10

[State ]
type = velset
Trigger1 = ishelper(2306)
x = 13
y = -7

[State ]
type = velset
Trigger1 = ishelper(2307)
x = 16
y = -4

[State ]
type = velset
Trigger1 = ishelper(2308)
x = 19
y = -1

[State ]
type = velset
Trigger1 = ishelper(2309)
x = 17
y = 4

[State ]
type = velmul
Trigger1 = 1
x = 1.5
y = 1.5
persistent = 1

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage = ceil(((8+(2*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -9,-5
air.velocity = -9,-5
air.hittime = 16
fall = 1
fall.recovertime = 45
p2facing = 1
kill = 0
getpower = 0,0

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage = ceil(((25+(5*numhelper(9884)))*(root,fvar(4)))),1
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -9,-5
air.velocity = -9,-5
air.hittime = 16
fall = 1
fall.recover = 0
p2facing = 1
kill = 0
getpower = 0,0

[State -2,]
type = targetstate
triggerall = root,p2dist x = [-150,150]
trigger1 = movehit
value = 5842
ignorehitpause = 1
persistent = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999
[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = FrontEdgeDist <= -80
value = 1068

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;TRAP!
[Statedef 6350]
type = A
movetype = A
physics = N
Anim = 2110
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 200, 2]
type = posadd
trigger1 = !time
x = ceil(p2dist x)

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
;triggerall = enemynear,stateno != 5145
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage = ceil(((63+(13*numhelper(9884)))*(root,fvar(4)))),7
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-60+ceil(p2dist Y*.5)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.ctrltime = 5
ground.velocity = -0,-6
air.velocity = -0,-6
air.hittime = 16
fall = 1
fall.recover = 0
kill = 0
getpower = 0,0

[State 600, 2]
type = HitDef
;triggerall = enemynear,stateno != 5145
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage = ceil(((81+(16*numhelper(9884)))*(root,fvar(4)))),7
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-60+ceil(p2dist Y*.5)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.ctrltime = 22
ground.velocity = -0,-6
air.velocity = -0,-6
air.hittime = 16
fall = 1
fall.recover = 0
kill = 0
getpower = 0,0

[State 200,]
type = targetstate
trigger1 = movehit = 1
value = 5145
ignorehitpause = 1

[State 600]
Type = Helper
trigger1 = movehit = 1
;trigger1 = numhelper(6805) < 1
trigger1 = enemynear,stateno = [5145,5147]
StateNo = 6805
ID = 6805
Name = "Frozen"
pos = 0,0
PosType = P2
Ownpal = 1
IgnoreHitPause = 1
Persistent = 1
Size.XScale = 0.75
Size.YScale = 0.7

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 25
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;TRAP! (Dissolve)
[Statedef 6351]
type = A
movetype = A
physics = N
Anim = 2111
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 5145
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage    = ceil(50*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.ctrltime = 2
ground.velocity = -0,-6
air.velocity = -0,-6
air.hittime = 16
fall = 1
fall.recover = 0
kill = 0
p2sprpriority = 5
getpower = 0,0

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 5145
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage    = ceil(70*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = 35
guard.ctrltime = 22
ground.velocity = -0,-6
air.velocity = -0,-6
air.hittime = 16
fall = 1
fall.recover = 0
kill = 0
p2sprpriority = 5
getpower = 0,0

[State 200,]
type = targetstate
trigger1 = movehit = 1
value = 5145
ignorehitpause = 1

[State 600]
Type = Helper
trigger1 = movehit = 1
;trigger1 = numhelper(6805) < 1
trigger1 = enemynear,stateno = [5145,5147]
StateNo = 6805
ID = 6805
Name = "Frozen"
pos = 0,0
PosType = P2
Ownpal = 1
IgnoreHitPause = 1
Persistent = 1
Size.XScale = 0.75
Size.YScale = 0.7

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 25
value = 1064

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;Frozen
[Statedef 6805]
type    = S                      
movetype= I                     
physics = N                                          
ctrl = 0                         
anim = 2110               
poweradd = 0       
sprpriority = 6     

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 50, 0
ignorehitpause = 1
persistent = 1

[State 0, PosAdd]
type = sprpriority
trigger1 = enemynear,stateno = 5149
value = -2
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = (p2dist x)
y = (p2dist y)
ignorehitpause = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 600]
Type = Helper
trigger1 = !time
StateNo = 6806
Name = "Frozen"
pos = 0,0
PosType = P2
Ownpal = 1
IgnoreHitPause = 1
Persistent = 1
Size.XScale = 0.75
Size.YScale = 0.7

[State 1001]
Type= changestate
trigger1 = numhelper(6805) > 1
trigger1 = time > 25
trigger2 = time > 10
trigger2 = enemynear,stateno != [5144,5150]
value = 1069

;---------------------------------------------------------------------------
;Frozen
[Statedef 6806]
type    = S                      
movetype= I                     
physics = N                                          
ctrl = 0                         
anim = 2110               
poweradd = 0       
sprpriority = 8     

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 175, 256
ignorehitpause = 1
persistent = 1

[State 0, PosAdd]
type = sprpriority
trigger1 = enemynear,stateno = 5149
value = -2
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = (p2dist x)
y = (p2dist y)
ignorehitpause = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1001]
Type= changestate
trigger1 = numhelper(6805) > 1
trigger1 = time > 25
trigger2 = time > 10
trigger2 = enemynear,stateno != [5144,5150]
value = 1069

;======================================================================================================================================================
;Shot End
[Statedef 1063]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5

[State 0,]
type = angledraw
trigger1 = 1
scale = 1+(time*.03),1+(time*.03)

[State 0,]
type = velmul
trigger1 = !time
x = .35
y = .35

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*22), 0+ceil(time*20)
ignorehitpause = 1
persistent = 1

[State 1300]
type = helper
trigger1 = !time
trigger1 = frontedgedist > 45
helpertype = normal
stateno = 2000
ID = 2000+root,var(8)
name = "Dissolve"
postype = p1
pos = 45, 0
ownpal = 1
size.xscale = .33
size.yscale = .33

[State 1300]
type = helper
trigger1 = !time
trigger1 = frontedgedist <= 75
helpertype = normal
stateno = 2000
ID = 2000+root,var(8)
name = "Dissolve"
postype = p1
pos = frontedgedist-30, 0
ownpal = 1
size.xscale = .33
size.yscale = .33

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 75

;======================================================================================================================================================
;Shot End
[Statedef 1064]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5

[State 0,]
type = angledraw
trigger1 = 1
scale = 1-(time*.005),1-(time*.005)

[State 0,]
type = velmul
trigger1 = !time
x = .65
y = .65

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*22), 0+ceil(time*20)
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 75

;======================================================================================================================================================
;Shot End
[Statedef 1065]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5

[State 0,]
type = angledraw
trigger1 = 1
scale = 1+(time*.03),1+(time*.03)

[State 0,]
type = velmul
trigger1 = !time
x = .05
y = .05

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*55), 0+ceil(time*50)
ignorehitpause = 1
persistent = 1

[State 1300]
type = helper
trigger1 = !time
helpertype = normal
stateno = 6621
ID = 6621
name = "Dissolve"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .33
size.yscale = .33

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 75

;======================================================================================================================================================
;Shot End
[Statedef 1066]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5

[State 0,]
type = angledraw
trigger1 = 1
scale = 1-(time*.005),1-(time*.03)

[State 0,]
type = velmul
trigger1 = !time
x = .65
y = .65

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*22), 0+ceil(time*20)
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 75

;======================================================================================================================================================
;Shot End
[Statedef 1067]
type = S
physics = N
movetype = I
ctrl = 0
velset = 0,0
sprpriority = 5

[State 1001,]
type = parentvarset
trigger1 = !time
var(25) = 0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,2

[State 0,]
type = angledraw
trigger1 = 1
scale = 1-(time*.05),1+(time*.03)

[State 0,]
type = veladd
trigger1 = time
y = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*15), 0+ceil(time*5)
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = assertspecial
trigger1 = pos Y >= -20
flag = invisible
ignorehitpause = 1
persistent = 1

[State 1300]
type = helper
trigger1 = pos Y >= -20
helpertype = normal
stateno = 2000
ID = 2000+root,var(8)
name = "Dissolve"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .33
size.yscale = .33
persistent = 0

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 75

;======================================================================================================================================================
;Shot End
[Statedef 1068]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5

[State 0,]
type = angledraw
trigger1 = 1
scale = 1-(time*.15),1-(time*.15)

[State 0,]
type = velmul
trigger1 = !time
x = .35
y = .35

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*40), 0+ceil(time*35)
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 75

;======================================================================================================================================================
;Shot End
[Statedef 1069]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5

[State 0,]
type = angledraw
trigger1 = 1
scale = 1+(time*.045),1-(time*.1)

[State 0,]
type = playsnd
trigger1 = !time
value = 400,2

[State 0,]
type = velset
trigger1 = !time
y = .75

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*40), 0+ceil(time*25)
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 3007,]
type = Helper
triggerall = prevstateno = 6805
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = time >= 20

;---------------------------------------------------------------------------
;End Crystal
[Statedef 3950]
type = A
movetype = A
physics = N
Anim = 3950
ctrl = 0
sprpriority = 5
velset = 0,0
poweradd = 0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage    = ceil(50*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-40+ceil(p2dist Y*.75)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 10
ground.velocity = -0,-7.5
air.velocity = -0,-7.5
air.hittime = 16
fall = 1
kill = 0
guard.kill = 0
fall.recovertime = 40
getpower = 0,0

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, HP
damage    = ceil(70*root,fvar(4)),4
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,-40+ceil(p2dist Y*.75)
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -0,-7.5
air.velocity = -0,-7.5
air.hittime = 16
fall = 1
kill = 0
guard.kill = 0
fall.recover = 0
getpower = 0,0

[State 1300]
type = helper
trigger1 = numtarget
trigger1 = movehit = 1
helpertype = normal
stateno = 7777
ID = 7977
name = "You May Astral"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = time >= 15
value = 1064

[State 1001,]
type = destroyself
trigger1 = movehit
trigger1 = time >= 8

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;---------------------------------------------------------------------------
;End Spike
[Statedef 3975]
type = A
movetype = A
physics = N
Anim = 3975
ctrl = 0
sprpriority = 4+random%4
velset = 0,0

[State 1001,]
type = changeanim
trigger1 = ishelper(3976)
value = 3976

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = turn
trigger1 = facing != root,facing

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = destroyself
trigger1 = root,stateno != 3901
trigger2 = root,stateno = 3901
trigger2 = root,time >= 645

;---------------------------------------------------------------------------
;End Spike
[Statedef 3976]
type = A
movetype = A
physics = N
Anim = 3977
ctrl = 0
sprpriority = 4+random%3
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = null;changeanim
triggerall = ishelper(3978)
trigger1 = time < 5
value = 3978

[State 1001,]
type = angledraw
trigger1 = time < 5
scale = .05+(time*.1),.05+(time*.1)

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = destroyself
trigger1 = root,stateno != 3901
trigger2 = root,stateno = 3901
trigger2 = root,time >= 645

;---------------------------------------------------------------------------
;End
[Statedef 3905]
type = A
movetype = A
physics = N
Anim = 3905
ctrl = 0
sprpriority = 15
velset = 0,0

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,3

[State 1001,]
type = playsnd
trigger1 = !time
value = 3901,1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = sub
alpha = 256, 256
ignorehitpause = 1
persistent = 1

[State 1001,]
type = angledraw
trigger1 = time < 20
scale = .1+(time*.3),.1+(time*.3)

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 7017
ID = 7015
pos = -25,-25
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1.5,1.5
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3950]
ID = 7015

[State 1001,]
type = destroyself
trigger1 = root,stateno != 3901

;======================================================================================================================================================
;Aura
[Statedef 3959]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -3

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,0
mul = var(18),0,0
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = root,fvar(19)*.000008
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 8

;======================================================================================================================================================
;Aura
[Statedef 3958]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -1

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = -255,-255,-255
mul = 255,255,255
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .001
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 11

;======================================================================================================================================================
;Ultraburst Manager
[Statedef 9879]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State -2]
type = Explod
triggerall = TeamSide = 1
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = left
pos = 8,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = Explod
triggerall = TeamSide = 2
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = right
pos = -60,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = modifyExplod
trigger1 = root,fvar(19) > 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1
persistent = 1

[State -2]
type = RemoveExplod
trigger1 = root,fvar(19) <= 0
ID = 9879
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = !numhelper(8988)
helpertype = normal
stateno = 8988
ID = 8988
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
supermovetime=99999
pausemovetime=99999

[State -2]
type = assertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State -2]
type = poweradd
triggerall = root,stateno != [3000,4999]
trigger1 = root,movetype != H
value = 3
ignorehitpause = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = removeexplod
trigger1 = root,fvar(19) <= 0
ID = 7003
persistent = 1

[State 8000, ]
type = playsnd
trigger1 = root,fvar(19) <= 0
value = 8005,1
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;======================================================================================================================================================
;Aura
[Statedef 9883]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = 10

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,0
mul = var(18),0,0
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 180
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 256
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = .33,fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .005
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 16

;======================================================================================================================================================
;Not Over Yet Manager
[Statedef 9884]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1, 3]
type = playsnd
trigger1 = time = 0
trigger2 = root,time = [0,1]
Trigger2 = root,stateno = 3000
trigger3 = root,time = [0,1]
Trigger3 = root,stateno = 3050
value = 3000, 3

[State 1, 3]
type = poweradd
trigger1 = !time
value = 500

[State 1, 3]
type = poweradd
triggerall = root,stateno != [3000,3999]
trigger1 = time%10 = 0
value = 1

[State -2, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 9884
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 9884
pos = -95,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2]
type = Helper
Trigger1 = !time
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
trigger1 = root,time = [0,1]
Trigger1 = root,stateno = [3000,3001]
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
trigger1 = root,time = [0,1]
Trigger1 = root,stateno = 3050
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 1350, End]
type = null;destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;---------------------------------------------------------------------------
;Super Finish
[Statedef 8992]
physics  = N
ctrl     = 0
Anim = 9999

[State 3020,]
type = pause
trigger1 = !time
time = 50
ignorehitpause = 1

[State 3020,]
type = playsnd
trigger1 = !time
value = 7005,0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID =7002
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7004
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale =1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7005
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -5
ownpal = 1
scale = 1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7006
ID = 7006
facing = 1
postype = back
pos = 160,120
sprpriority = -7
ownpal = 1
scale =.7,.7
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time < 20
ID=7006
;trans=addalpha
scale = .7+time*.1,.7+time*.1
;alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7006
trans=addalpha
scale = .7+time*.1,.7+time*.1
alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7002
trans=addalpha
alpha=256-((time-20)*5),256

[State 3020,]
type = removeexplod
trigger1 = time >= 100
ID = 7002
ignorehitpause = 1

[State 3020,]
type = DestroySelf
trigger1 = time >= 100
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion BG
[Statedef 8985]
physics  = N
ctrl     = 0
Anim = 7100

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State AssertS, 1]
type = AssertSpecial
trigger1 = time >= 16
flag = nobg
flag2 = nofg

[State BGPalF, 1]
type = BGPalFX
trigger1 = time < 16
mul = 256-(time)*5,256-(time)*5,256-(time)*5
time = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7002
id = 7002
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7003
id = 7003
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7100
id = 7100
postype = left
pos = -10, 120
facing = 1
sprpriority = -2000
bindtime = -1
ownpal = 0
ignorehitpause = 1
persistent = 0
scale=150,.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7200
id = 7200
postype = left
pos = 160,120
facing = 1
sprpriority = -1950
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale =.5,.5
pausemovetime = 9999
supermovetime = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7003)
trigger1 = time 
ID=7003
trans=addalpha
alpha = 256,256
scale = 0.1+(time*.03),0.1+(time*.03)

[State 3007,]
type = Helper
trigger1 = time%15 = 0
helpertype = Normal
name = "Effect"
stateno = 7000
ID = 7000
pos = 0,-80
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 1

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = !numhelper(9884)
source = 7,0
dest = 7,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = numhelper(9884)
source = 7,0
dest = 8,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = ishelper(7003)
source = 7,0
dest = 9,0
ignorehitpause = 1
persistent = 0

[State 3020,]
type = changestate
trigger1 = ishelper(7001)
trigger1 = time >= 50
trigger2 = ishelper(7002)
trigger2 = time >= 40
trigger3 = ishelper(7003)
trigger3 = time >= 60
value = 8986
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion Effect
[Statedef 7000]
physics  = N
ctrl     = 0
Anim = 7000

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
pos=0,95
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
vfacing = -1
pos=0,145
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ]
type=varadd
trigger1=numexplod(7000)
var(0)=7

[State ]
type=varset
trigger1=var(0)>256
var(0)=256

[State ]
type=varadd
trigger1=numexplod(7000)
fvar(0)=.022

[State ]
type=modifyexplod
trigger1=numexplod(7000)
ID=7000
trans=addalpha
alpha=256-var(0),256
scale=.5,1-fvar(0)

[State ]
type=RemoveExplod
trigger1=var(0)>=256&&numexplod(7000)
trigger2 = root,stateno = [3901,3999]
ID=7000

[State 3020,]
type = destroyself
trigger1 = !numexplod(7000)
trigger1 = time >= 15
trigger2 = root,stateno = [3901,3999]
ignorehitpause = 1

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = !numhelper(9884)
source = 4,0
dest = 4,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = numhelper(9884)
source = 4,0
dest = 5,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003)
source = 4,0
dest = 6,0
ignorehitpause = 1
persistent = 0

;-------------------------------------------------------------------------------
;Distortion BG End
[Statedef 8986]
type = A
physics = N
anim = 9999

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State AssertS, 1]
type = AssertSpecial
trigger1 = time <= 16
flag = noBG

[State BGPalF, 1]
type = BGPalFX
trigger1 = numhelper(8988)
trigger2 = enemynear,numhelper(8988)
triggerall = time >= 16
mul = (time-15)*10,(time-15)*10,(time-15)*10
time = 1
ignorehitpause = 1

[State BGPalF, 1]
type = BGPalFX
trigger1 = !numhelper(8988)
trigger1 = time >= 16
mul = (time-15)*16,(time-15)*16,(time-15)*16
time = 1
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7100)
trigger1 = time 
ID=7100
trans=addalpha
alpha = 256-(time*10),256

[State RemoveE, 1]
type = RemoveExplod
triggerall = numexplod(7100)
trigger1 = time >= 25
ID = 7100

[State DestroyS, 1]
type = DestroySelf
trigger1 = !numhelper(7000)
trigger1 = time >= 26

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG
[Statedef 8988]
physics  = N
ctrl     = 0
Anim = 9999

[State 0, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time < 30
ID=7001
trans=addalpha
alpha=0+(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 256-time*10,256-time*10,256-time*10
ignorehitpause = 1
persistent = 1

[State 7005, ]
type = bgpalfx
trigger1 = time >= 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156,156,156
ignorehitpause = 1
persistent = 1

[State 3020,]
type = removeexplod
trigger1 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = winko
ignorehitpause = 1

[State 3020,]
type = changestate
trigger1 = root,fvar(19) <= 0
value = 8989
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG Fade
[Statedef 8989]
physics  = N
ctrl     = 0
Anim = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time
ID=7001
trans=addalpha
alpha=256-(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156+time*10,156+time*10,156+time*10
ignorehitpause = 1
persistent = 1


[State 3020,]
type = removeexplod
trigger1 = time >= 30
trigger2 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = time >= 30
trigger2 = winko
ignorehitpause = 1


;======================================================================================================================================================
;Astral Heat Background
;======================================================================================================================================================
[Statedef 7005]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = timerfreeze
ignorehitpause = 1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = globalnoshadow
flag2 = nobardisplay
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7018
ID = 7015
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 171
anim = 7015
ID = 7015
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 176
anim = 7016
ID = 7015
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7026
ID = 7005
pos = -680, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7026
ID = 7005
pos = -500, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7026
ID = 7005
pos = -260, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7026
ID = 7005
pos = -4, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 0
anim = 7026
ID = 7005
pos = 222, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7027
ID = 7005
pos = -556,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 106
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7027
ID = 7005
pos = -556,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 106
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7027
ID = 7005
pos = -300,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7027
ID = 7005
pos = -300,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7027
ID = 7005
pos = -44,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 66
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7027
ID = 7005
pos = -44,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 66
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3901]
trigger2 = root,winko
trigger3 = root,anim = 3902
trigger3 = root,animelemtime(10) >= 0
trigger4 = root,anim = 3903
ID = 7005

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3901]
trigger2 = root,winko
ID = 7015

[State 1350, End]
type = destroyself
trigger1 = root,stateno != [3900,3950]
trigger2 = root,winko

;======================================================================================================================================================
;The Helper of Permission
[Statedef 7777]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = [6060,6061]
trigger2 = root,movetype != A
persistent = 1

;======================================================================================================================================================
;Ink's Projectile Detection
[Statedef 33333333]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
 
;==========================================================================
;                Config Section
;==========================================================================
anim = 9999                  ; blank animation
 
;==========================================================================
 
[state 33333333, Clipboard] 
type = DisplayToClipboard
trigger1 = 1
text = "Highest Playerid = %d , Projectile helper's PlayerId = %d\nBy Inktrebuchet"
params = var(0)-1, var(3)
;==========================================================================
;                Detect Enemy's Projectile Helper
;==========================================================================
[State 33333333, 0]
type = Null
trigger1 = var(0) = 0
trigger1 = (var(0) := id)
ignorehitpause = 1
 
[state 33333333, 1] 
type = varadd
trigger1 = PlayerIdExist(var(0)) 
trigger2 = PlayerIdExist(var(0)+1) 
trigger3 = PlayerIdExist(var(0)+2) 
trigger4 = PlayerIdExist(var(0)+3) 
trigger5 = PlayerIdExist(var(0)+4) 
trigger6 = PlayerIdExist(var(0)+5) 
trigger7 = PlayerIdExist(var(0)+6) 
trigger8 = PlayerIdExist(var(0)+7) 
trigger9 = PlayerIdExist(var(0)+8) 
trigger10 = PlayerIdExist(var(0)+9) 
trigger11 = PlayerIdExist(var(0)+10) 
trigger12 = PlayerIdExist(var(0)+11) 
trigger13 = PlayerIdExist(var(0)+12) 
trigger14 = PlayerIdExist(var(0)+13) 
trigger15 = PlayerIdExist(var(0)+14) 
trigger16 = PlayerIdExist(var(0)+15) 
trigger17 = PlayerIdExist(var(0)+16) 
trigger18 = PlayerIdExist(var(0)+17) 
trigger19 = PlayerIdExist(var(0)+18) 
trigger20 = PlayerIdExist(var(0)+19) 
trigger21 = PlayerIdExist(var(0)+20) 
trigger22 = PlayerIdExist(var(0)+21) 
trigger23 = PlayerIdExist(var(0)+22) 
trigger24 = PlayerIdExist(var(0)+23) 
trigger25 = PlayerIdExist(var(0)+24) 
trigger26 = PlayerIdExist(var(0)+25) 
v = 0
value = 1
ignorehitpause = 1
 
[State 33333333, 2]
type = Null
triggerall = PlayerIdExist(Root,ID)
trigger1 = PlayerIdExist(var(0)-1)
trigger1 = cond(root,teamside = 1, PlayerID(var(0)-1),teamside = 2, PlayerID(var(0)-1),teamside = 1)
trigger1 = PlayerID(var(0)-1),hitdefattr = ASC, NP, SP, HP
trigger1 = var(3) := (var(0)-1)
trigger2 = PlayerIdExist(var(0)-2)
trigger2 = cond(root,teamside = 1, PlayerID(var(0)-2),teamside = 2, PlayerID(var(0)-2),teamside = 1)
trigger2 = PlayerID(var(0)-2),hitdefattr = ASC, NP, SP, HP
trigger2 = var(3) := (var(0)-2)
trigger3 = PlayerIdExist(var(0)-3)
trigger3 = cond(root,teamside = 1, PlayerID(var(0)-3),teamside = 2, PlayerID(var(0)-3),teamside = 1)
trigger3 = PlayerID(var(0)-3),hitdefattr = ASC, NP, SP, HP
trigger3 = var(3) := (var(0)-3)
trigger4 = PlayerIdExist(var(0)-4)
trigger4 = cond(root,teamside = 1, PlayerID(var(0)-4),teamside = 2, PlayerID(var(0)-4),teamside = 1)
trigger4 = PlayerID(var(0)-4),hitdefattr = ASC, NP, SP, HP
trigger4 = var(3) := (var(0)-4)
trigger5 = PlayerIdExist(var(0)-5)
trigger5 = cond(root,teamside = 1, PlayerID(var(0)-5),teamside = 2, PlayerID(var(0)-5),teamside = 1)
trigger5 = PlayerID(var(0)-5),hitdefattr = ASC, NP, SP, HP
trigger5 = var(3) := (var(0)-5)
trigger6 = PlayerIdExist(var(0)-6)
trigger6 = cond(root,teamside = 1, PlayerID(var(0)-6),teamside = 2, PlayerID(var(0)-6),teamside = 1)
trigger6 = PlayerID(var(0)-6),hitdefattr = ASC, NP, SP, HP
trigger6 = var(3) := (var(0)-6)
trigger7 = PlayerIdExist(var(0)-7)
trigger7 = cond(root,teamside = 1, PlayerID(var(0)-7),teamside = 2, PlayerID(var(0)-7),teamside = 1)
trigger7 = PlayerID(var(0)-7),hitdefattr = ASC, NP, SP, HP
trigger7 = var(3) := (var(0)-7)
trigger8 = PlayerIdExist(var(0)-8)
trigger8 = cond(root,teamside = 1, PlayerID(var(0)-8),teamside = 2, PlayerID(var(0)-8),teamside = 1)
trigger8 = PlayerID(var(0)-8),hitdefattr = ASC, NP, SP, HP
trigger8 = var(3) := (var(0)-8)
trigger9 = PlayerIdExist(var(0)-9)
trigger9 = cond(root,teamside = 1, PlayerID(var(0)-9),teamside = 2, PlayerID(var(0)-9),teamside = 1)
trigger9 = PlayerID(var(0)-9),hitdefattr = ASC, NP, SP, HP
trigger9 = var(3) := (var(0)-9)
trigger10 = PlayerIdExist(var(0)-10)
trigger10 = cond(root,teamside = 1, PlayerID(var(0)-10),teamside = 2, PlayerID(var(0)-10),teamside = 1)
trigger10 = PlayerID(var(0)-10),hitdefattr = ASC, NP, SP, HP
trigger10 = var(3) := (var(0)-10)
ignorehitpause = 1
 
[State 33333333, BindToRoot]
type = BindToRoot
trigger1 = PlayerIdExist(Root,ID)
time = 1
facing = 1
pos =0,-2
ignorehitpause = 1 