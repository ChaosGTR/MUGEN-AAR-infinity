;======================================================================================================================================================
;Graviton
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 1200, 6]
type = explod
trigger1 = time%8 = 0
anim = 6971
id = 6971
pos = 0,0
facing = 1
sprpriority = -5
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.13,0.13
pausemovetime = 9999
supermovetime = 9999

[State 6808, Sparks]
type = explod
trigger1 = time%7 = 0
anim = 6808+random%3
ID = 6808
sprpriority = 3
scale=.5,.5
pos = 20-random%40,20-random%40
bindtime = 4
ignorehitpause = 1
ownpal = 1

[State 8000, ]
type = varset
trigger1 = !time
var(1) = enemynear,facing

[State 8000, ]
type = varset
trigger1 = !time
trigger1 = root,p2dist X >= 0
var(2) = 0

[State 8000, ]
type = varset
trigger1 = !time
trigger1 = facing = enemynear,facing
var(2) = 1

[State 8000, ]
type = varset
trigger1 = !time
trigger1 = facing != enemynear,facing
var(2) = 2

[State 8000, ]
type = varset
triggerall = var(2) = 1
trigger1 = p2dist X  = [-15,15]
var(2) = 3

[State 2900, 1]
type = helper
triggerall = p2dist X > 10
triggerall = numhelper(705) <= 0
trigger1 = enemynear,facing = var(1)
trigger1 = var(2) = 0
id = 705
name = "Windbox"
facing = (enemynear,facing)
pos = -30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < -10
triggerall = numhelper(705) <= 0
trigger1 = enemynear,facing = var(1)
trigger1 = var(2) = 0
id = 705
name = "Windbox"
facing = -(enemynear,facing)
pos = 30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X > 10
triggerall = numhelper(705) <= 0
trigger1 = var(2) = 3
id = 705
name = "Windbox"
facing = -(enemynear,facing)
pos = -30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < -10
triggerall = numhelper(705) <= 0
trigger1 = var(2) = 3
id = 705
name = "Windbox"
facing = (enemynear,facing)
pos = 30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X > 10
triggerall = numhelper(705) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 1
id = 705
name = "Windbox"
facing = -(enemynear,facing)
pos = 30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < -10
triggerall = numhelper(705) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 1
id = 705
name = "Windbox"
facing = (enemynear,facing)
pos = -30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < 10
triggerall = numhelper(705) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 2
id = 705
name = "Windbox"
facing = -(enemynear,facing)
pos = 30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X > -10
triggerall = numhelper(705) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 2
id = 705
name = "Windbox"
facing = (enemynear,facing)
pos = -30,0
postype = p2
stateno = 705
helpertype = normal
keyctrl = 0
ownpal = 1

[State 8000, ]
type = palfx
trigger1 = animelem = 1
time = 5
add = 255,255,255

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 700, 0
channel = 7

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = stopSnd
trigger1 = root,movetype = H
trigger1 = root,stateno != [120,155]
trigger2 = root,stateno = [3050,3051]
trigger3 = root,stateno = 3025
channel = 7

[State 1350, End]
type = changestate
trigger1 = numhelper(7776) != 0
value = 702

[State 1350, End]
type = changestate
trigger1 = time >= 288
trigger1 = root,stateno != 215
trigger1 = root,stateno != 615
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,155]
trigger3 = root,stateno = [3050,3051]
trigger4 = root,stateno = 3025
trigger5 = root,stateno = 3901
value = 701

[State 1350, End]
type = destroyself
trigger1 = root,stateno = 3901

;======================================================================================================================================================
;Deactivated Graviton
[Statedef 701]
type = S
physics = N
movetype = I
anim = 701
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = changestate
trigger1 = numhelper(7776) != 0
value = 702

[State 1350, End]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno = 3901

;======================================================================================================================================================
;Activated Graviton
[Statedef 702]
type = S
physics = N
movetype = A
anim = 702
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6970
id = 6970
pos = 0,0
facing = 1
sprpriority = -5
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(40*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,9
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 38
guard.ctrltime = 28
ground.velocity = 0
air.velocity = 0,-6.5
air.hittime = 16
air.fall = 1
fall.recovertime = 50
nochainID = 8000

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,9
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 45
guard.ctrltime = 28
ground.velocity = 0
air.velocity = 0,-6.5
air.hittime = 16
air.fall = 1
fall.recover = 0
nochainID = 8000

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 2900, 1]
type = helper
trigger1 = !time
id = 706
name = "Windbox"
facing = 1
pos = 0,0
stateno = 706
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
trigger1 = !time
id = 706
name = "Windbox"
facing = -1
pos = 0,0
stateno = 706
helpertype = normal
keyctrl = 0
ownpal = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 700, 1
channel = 7

[State 200, 2]
type = statetypeset
trigger1 = time >= 30
movetype = I

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno = 3901

;---------------------------------------------------------------------------
;Graviton Wind Box
[Statedef 705]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 705

[state 2901,1]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[State 8000,]
type = Turn
trigger1 = p2dist X < 0

[State 1000, 0]
type = PlayerPush
trigger1 = 1
value = 1

[State 1000, 0]
type = posset
trigger1 = 1
y = enemynear,pos y

[State 0, PosAdd]
type = velset
trigger1 = 1
x = 2.8

[state 0,]
type = destroyself
trigger1 = parent,stateno != 700
trigger2 = root,numhelper(700)=0
trigger3 = enemynear,pos x = [parent,pos x-15,parent,pos x+15]
trigger4 = p2bodydist X != [-20,20]
trigger5 = enemynear,stateno = [5800,5810]
trigger6 = p2dist X = [-5,5]

;---------------------------------------------------------------------------
;Outward Wind Box
[Statedef 706]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 705

[state 2901,1]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[State 1000, 0]
type = PlayerPush
trigger1 = 1
value = 1

[State 1000, 0]
type = posset
trigger1 = 1
y = enemynear,pos y

[State 0, PosAdd]
type = velset
trigger1 = 1
x = 15

[state a]
type = destroyself
trigger1 = time >= 10

;======================================================================================================================================================
;Bunker Bomb
[Statedef 1030]
type = S
physics = N
movetype = I
anim = 1030
ctrl = 0
velset = 0, 0
sprpriority = 7

[State 21000, T]
type = Trans
trigger1 = 1
Trans = Addalpha
alpha = 256,256
ignorehitpause = 1

[State 21000, T]
type = playsnd
trigger1 = time < 240
trigger1 = time%40 = 0
value = 1030,0
ignorehitpause = 1

[State 21000, T]
type = playsnd
trigger1 = time = 240
value = 1030,1
ignorehitpause = 1

[State 1000, AD]
type = AngleDraw
trigger1 = time >= 240
scale = .2+((time-190)*.015),.2+((time-190)*.015)
ignorehitpause = 1

[State 1200, 6]
type = posset
trigger1 = enemynear,statetype != L
trigger2 = enemynear,stateno = 5120
x = ceil(enemynear,pos x)
y = ceil(enemynear,pos y + (enemynear,const(size.mid.pos.y)))
ignorehitpause = 1

[State 1200, 6]
type = posset
trigger1 = enemynear,statetype = L
trigger1 = enemynear,stateno != 5120
x = ceil(enemynear,pos x)
y = ceil(enemynear,pos y)
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = time < 240
trigger1 = time%12 = 0
anim = 6970
id = 6970
pos = 0,0
facing = 1
sprpriority = 6
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 1
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = time >= 240
trigger1 = time%6 = 0
anim = 6970
id = 6970
pos = 0,0
facing = 1
sprpriority = 6
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 1
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1001]
Type = statetypeset
trigger1 = time >= 290
movetype = A
ignorehitpause = 1

[State 600]
Type = Helper
trigger1 = time >= 300
StateNo = 1036
ID = 1036
Name = "Explosion"
Pos = 0,0
PosType = P1
Ownpal = 1
ignorehitpause = 1
Persistent = 0
Size.XScale = 0.5
Size.YScale = 0.5

[State 600]
Type = Helper
trigger1 = ishelper(1031)
trigger1 = enemynear,stateno = 5810
StateNo = 1035
ID = 1035
Name = "Explosion"
Pos = 0,0
PosType = P1
Ownpal = 1
ignorehitpause = 1
Persistent = 0
Size.XScale = 0.5
Size.YScale = 0.5

[State 1350, End]
type = destroyself
trigger1 = time >= 300
trigger2 = ishelper(1031)
trigger2 = enemynear,stateno = 5810
trigger3 = root,movetype = H
trigger3 = root,stateno != [120,155]
trigger4 = enemynear,stateno = 3090
trigger5 = root,stateno = 3901

[State 1350, End]
type = destroyself
trigger1 = root,stateno = 3901

;---------------------------------------------------------------------------
;Explosion
[Statedef 1035]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 1035
sprpriority = 5

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 500, 2

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 2301]
Type = NotHitby
Trigger1 = 1
value = SCA,AP,SP,NP,HP

[State 810, 3]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, SP
damage = ceil(20*root,fvar(4)),12
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 8,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 5
ground.velocity = -0,-7.8
guard.velocity = 0
air.velocity = -0,-7.8
fall = 1
fall.recovertime = 25
envshake.time = 15
envshake.freq = 50
getpower = 30*(root,var(49)),6*(root,var(49))

[State 810, 3]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, SP
damage = ceil(60*root,fvar(4)),13
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 8,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0,-8.2
guard.velocity = 0
air.velocity = -0,-8.2
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 50
getpower = 50*(root,var(49)),7*(root,var(49))

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 1001]
Type = statetypeset
trigger1 = animelemtime(13) >= 0
movetype = I
ignorehitpause = 1

[State 1001]
Type = Destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Explosion
[Statedef 1036]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 1035
sprpriority = 5

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 500, 2

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 2301]
Type = NotHitby
Trigger1 = 1
value = SCA,AP,SP,NP,HP

[State 810, 3]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, SP
damage = ceil(40*root,fvar(4)),12
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 8,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 5
ground.velocity = -0,-7.8
guard.velocity = 0
air.velocity = -0,-7.8
fall = 1
fall.recovertime = 35
envshake.time = 15
envshake.freq = 50
getpower = 30*(root,var(49)),6*(root,var(49))

[State 810, 3]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, SP
damage = ceil(60*root,fvar(4)),13
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 8,8
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0,-8.2
guard.velocity = 0
air.velocity = -0,-8.2
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 50
getpower = 50*(root,var(49)),7*(root,var(49))

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 200,]
type = varset
trigger1 = movecontact
var(1) = 1
ignorehitpause = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 1001]
Type = statetypeset
trigger1 = animelemtime(13) >= 0
movetype = I
ignorehitpause = 1

[State 1001]
Type = Destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;======================================================================================================================================================
;Banishing Ray
[Statedef 1150]
type = S
physics = N
movetype = I
anim = 1150
ctrl = 0
velset = 0, 0
sprpriority = 5

[State 215, Effect]
type = PalFX
trigger1 = animelemtime(14) >= 0
trigger1 = time%6 = 0
time = 3
add = 64,64,64

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 500, 3

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 500, 3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = changestate
trigger1 = root,stateno = 1100
trigger1 = animelem = 5
value = 1151

[State 1350, End]
type = changestate
triggerall = root,stateno != 1100
triggerall = animelemtime(14) >= 0
trigger1 = p2dist x = [-40,40]
trigger2 = time >= 300
value = 1152

[State 1350, End]
type = changestate
trigger1 = root,movetype = H
trigger1 = root,stateno != [120,155]
trigger2 = root,stateno = 3901
value = 1153

[State 1350, End]
type = destroyself
trigger1 = root,stateno = 3901

;======================================================================================================================================================
;Activated Ray A
[Statedef 1151]
type = S
physics = N
movetype = A
anim = 1151
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 1100, 0

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 1100, 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 1155
id = 1155
pos = 0,0
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 1
scale = 0.5,3
pausemovetime = 9999
supermovetime = 9999

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(40*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,25
sparkno = 3
sparkxy = -10,ceil(enemynear,pos Y - 60)
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 38
guard.ctrltime = 28
ground.velocity = 0,-6.5
air.velocity = 0,-6.5
air.hittime = 16
fall = 1
fall.recovertime = 30
palfx.time = 25
;palfx.mul = 100,100,180
palfx.add = 100,100,180
palfx.sinadd = -80,-80,-80,10
nochainID = 8000

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,35
sparkno = 3
sparkxy = -10,ceil(enemynear,pos Y - 60)
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 45
guard.ctrltime = 28
ground.velocity = 0,-6.5
air.velocity = 0,-6.5
air.hittime = 16
fall = 1
fall.recover = 0
palfx.time = 35
;palfx.mul = 100,100,180
palfx.add = 100,100,180
palfx.sinadd = -80,-80,-80,10
nochainID = 8000

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 200, 2]
type = null;PlaySnd
trigger1 = !time
value = 700, 1

[State 200, 2]
type = statetypeset
trigger1 = time >= 30
movetype = I

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno = 3901

;======================================================================================================================================================
;Activated Ray B
[Statedef 1152]
type = S
physics = N
movetype = A
anim = 1151
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 1100, 0

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 1100, 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 1155
id = 1155
pos = 0,0
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 1
scale = 0.5,3
pausemovetime = 9999
supermovetime = 9999

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || movecontact = 5 || movereversed = 5
attr = A, SP
damage    = ceil(25*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,25
sparkno = 3
sparkxy = -10,ceil(enemynear,pos Y - 60)
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 38
guard.ctrltime = 28
ground.velocity = 0,-6.5
air.velocity = 0,-6.5
air.hittime = 16
fall = 1
fall.recovertime = 30
palfx.time = 25
;palfx.mul = 100,100,180
palfx.add = 100,100,180
palfx.sinadd = -80,-80,-80,10
nochainID = 8000

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || movecontact = 5 || movereversed = 5
attr = A, SP
damage    = ceil(65*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,35
sparkno = 3
sparkxy = -10,ceil(enemynear,pos Y - 60)
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 45
guard.ctrltime = 28
ground.velocity = 0,-6.5
air.velocity = 0,-6.5
air.hittime = 16
fall = 1
fall.recover = 0
palfx.time = 35
;palfx.mul = 100,100,180
palfx.add = 100,100,180
palfx.sinadd = -80,-80,-80,10
nochainID = 8000

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 200, 2]
type = null;PlaySnd
trigger1 = !time
value = 700, 1

[State 200, 2]
type = statetypeset
trigger1 = time >= 30
movetype = I

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno = 3901

;======================================================================================================================================================
;Banishing Ray Canceled
[Statedef 1153]
type = S
physics = N
movetype = I
anim = 1152
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;Flame Cage
[Statedef 1250]
type = S
physics = N
movetype = A
anim = 1250
ctrl = 0
velset = 0, 0
sprpriority = 4

[State -2,]
type = changeanim
trigger1 = teamside = 2
value = 1251
persistent = 0

[State -2,]
type = playsnd
trigger1 = !time
value = 1200, 1

[State -2,]
type = playsnd
trigger1 = !time
value = 1200, 0
channel = 8
loop = 1

[State -2,]
type = velset
trigger1 = root,stateno = 1200 || root,stateno = 1205
trigger1 = !time
x = 1.5
y = -3

[State -2,]
type = velset
trigger1 = root,stateno = 1201 || root,stateno = 1206
trigger1 = !time
x = 2
y = -4.5

[State -2,]
type = velset
trigger1 = root,stateno = 1202 || root,stateno = 1207
trigger1 = !time
x = 3
y = -6

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X != [(helper(700),pos X) - 180, (helper(700),pos X) + 180]
x = 1*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X != [(helper(700),pos X) - 180, (helper(700),pos X) + 120]
x = -1*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y != [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = 1

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y != [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = -1

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 180, (helper(700),pos X) + 180]
x = .5*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 180, (helper(700),pos X) + 120]
x = -.5*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = .5

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = -.5

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 120, (helper(700),pos X) + 120]
x = .05*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 120, (helper(700),pos X) + 120]
x = -.05*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 120, (helper(700),pos Y) + 120]
Y = .05

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 120, (helper(700),pos Y) + 120]
Y = -.05

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 80, (helper(700),pos X) + 80]
x = .005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 80, (helper(700),pos X) + 80]
x = -.005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 80, (helper(700),pos Y) + 80]
Y = .005

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 80, (helper(700),pos Y) + 80]
Y = -.005

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 40, (helper(700),pos X) + 40]
x = .0005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 40, (helper(700),pos X) + 40]
x = -.0005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 40, (helper(700),pos Y) + 40]
Y = .0005

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 40, (helper(700),pos Y) + 40]
Y = -.0005

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist X >= 50
X = 11

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist X < -50
X = -11

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist Y >= 70
Y = 11

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist Y < -70
Y = -11

[State -2,]
type = velmul
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 50, (helper(700),pos Y) + 50]
trigger1 =  Pos X = [(helper(700),pos X) - 50, (helper(700),pos X) + 50]
Y = 1.5
X = 1.5

[State -2,]
type = veladd
trigger1 = numhelper(700) = 0
trigger2 = numhelper(700) > 0
trigger2 = helper(700),stateno != 700
y = 0.1

[State -2,]
type = playsnd
trigger1 = pos Y >= -15
trigger1 = vel Y > 0
value = 1200,2

[State -2,]
type = velset
trigger1 = pos Y >= -15
trigger1 = vel Y > 0
y = -((vel y)*.8)

[State -2,]
type = velmul
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
x = .8

[State -2,]
type = velmul
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
y = .9

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 5145
triggerall = enemynear,stateno != [811,851]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
attr = A, SP
damage    = ceil(30*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,5
sparkno = 3
sparkxy = 0,0
hitsound   = S5,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
guard.ctrltime = 17
ground.velocity = 0
air.velocity = ceil(-(vel x)*.01),-6.5
air.hittime = 16
air.fall = 1
fall.recovertime = 30
nochainID = 8000

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 5145
triggerall = enemynear,stateno != [811,851]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
attr = A, SP
damage    = ceil(65*root,fvar(4)),2
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,5
sparkno = 3
sparkxy = 0,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 45
guard.ctrltime = 28
ground.velocity = 0
air.velocity = ceil(-(vel x)*.01),-6.5
air.hittime = 16
air.fall = 1
fall.recover = 0
nochainID = 8000

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = !movehit
value = 1.2
ignorehitpause = 1

[State -2, damage dampener]
type = attackmulset
trigger1 = movehit = 1
value = .3
ignorehitpause = 1
persistent = 1

[State -2,]
type = varadd
trigger1 = movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
triggerall = teamside = 1
trigger1 = time < 298
anim = 6800
pos = -30+random%60,-30+random%60
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 0
scale = 0.3,0.3

[State 1200, 6]
type = explod
triggerall = teamside = 2
trigger1 = time < 298
anim = 6801
pos = -30+random%60,-30+random%60
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 0
scale = 0.3,0.3

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State -2,]
type = stopsnd
trigger1 = time >= 300
trigger2 = var(1) = 8
trigger3 = root,stateno = [3000,3005]
trigger4 = root,numhelper(6805) != 0
channel = 8

[State 1350, End]
type = changestate
trigger1 = time >= 300
trigger2 = var(1) = 8
trigger3 = root,stateno = [3000,3005]
trigger4 = root,numhelper(6805) != 0
trigger5 = root,stateno = 3901
trigger6 = root,stateno = 8000
value = 1251
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = 3901

;======================================================================================================================================================
;Flame Cage Cool Down Period
[Statedef 1251]
type = S
physics = N
movetype = A
ctrl = 0
sprpriority = 4

[State -2,]
type = stopsnd
trigger1 = !time
channel = 8

[State 21000, T]
type = Trans
trigger1 = 1
Trans = Addalpha
alpha = 256-(time*22),256
ignorehitpause = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
triggerall = prevstateno != 3250
trigger1 = time >= 100

[State 1350, End]
type = destroyself
triggerall = prevstateno = 3250
trigger1 = time >= 60

[State 1350, End]
type = destroyself
trigger1 = root,stateno = 3901

;---------------------------------------------------------------------------
;Greed Rocket
[Statedef 1550]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,-15
anim = 1550
sprpriority = 5

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 1501, 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 2301]
Type = NotHitby
Trigger1 = 1
value = SCA,AP,SP,NP,HP

[State 1200, 6]
type = explod
trigger1 = Time < 5
anim = 6800
pos = 0,(root,pos Y)
facing = 1
sprpriority = 10
bindtime = 1
ownpal = 1
ignorehitpause = 0
vel = -8,0
scale = 1,1

[State 1200, 6]
type = explod
trigger1 = Time < 5
anim = 6800
pos = 0,(root,pos Y)
facing = 1
sprpriority = 10
bindtime = 1
ownpal = 1
ignorehitpause = 0
vel = 8,0
scale = 1,1

[State 1200, 6]
type = explod
trigger1 = Time < 5
anim = 6804
pos = 0,(root,pos Y)
facing = 1
sprpriority = 9
bindtime = 1
ownpal = 1
ignorehitpause = 0
vel = -2,0
scale = 1,1

[State 1200, 6]
type = explod
trigger1 = Time < 5
anim = 6804
pos = 0,(root,pos Y)
facing = 1
sprpriority = 9
bindtime = 1
ownpal = 1
ignorehitpause = 0
vel = 2,0
scale = 1,1

[State 810, 3]
type = HitDef
triggerall = var(1) <= 9
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = !movecontact && !movereversed || movecontact = 4 || movereversed = 4
trigger1 = enemynear,movetype != A
attr = A, HP
damage    = ceil(((15+(3*numhelper(9884)))*(root,fvar(4)))),12
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 4,3
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 5
ground.velocity = 0,-8
guard.velocity = 0
air.velocity = 0,-8
fall = 1
fall.recovertime = 30
envshake.time = 10
envshake.freq = 120
getpower = 0,0
p2sprpriority = -2

[State 810, 3]
type = HitDef
triggerall = var(1) <= 9
triggerall = enemynear,stateno != 811
triggerall = enemynear,stateno != 851
trigger1 = !movecontact && !movereversed || movecontact = 4 || movereversed = 4
trigger1 = enemynear,movetype = A
attr = A, HP
damage    = ceil(((50+(10*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 5
pausetime = 4,3
sparkno = 3
sparkxy = -10,0
hitsound   = S5,4
guardsound = S6,0
ground.type = high
ground.slidetime = 6
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = 0,-8
guard.velocity = 0
air.velocity = 0,-8
fall = 1
fall.recover = 0
envshake.time = 10
envshake.freq = 120
getpower = 0,0
p2sprpriority = -2

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 200,]
type = varadd
trigger1 = movecontact = 1
var(1) = 1

[State 200,]
type = statetypeset
trigger1 = time >= 90
movetype = I
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = 1
anim = 6800
pos = 0,145
facing = 1
sprpriority = 0
bindtime = 1
ownpal = 1
ignorehitpause = 0
vel = 0,6
scale = 0.7,0.7

[State 1200, 6]
type = explod
trigger1 = 1
anim = 6804
pos = 0,145
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
vel = 0,1
scale = 0.8,0.8

[State 1200, 6]
type = explod
trigger1 = 1
anim = 6800
pos = 22,138
facing = 1
sprpriority = 0
bindtime = 1
ownpal = 1
ignorehitpause = 0
vel = 0,5
scale = 0.7,0.7

[State 1200, 6]
type = explod
trigger1 = 1
anim = 6800
pos = -22,138
facing = 1
sprpriority = 0
bindtime = 1
ownpal = 1
ignorehitpause = 0
vel = 0,5
scale = 0.7,0.7

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
trigger1 = movehit
trigger1 = movetype = A
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 1001]
Type = Destroyself
trigger1 = time >= 300
ignorehitpause = 1

;======================================================================================================================================================
;Flaming Belobog
[Statedef 3250]
type = S
physics = N
movetype = A
anim = 3250
ctrl = 0
velset = 0, 0
sprpriority = 8

[State -2,]
type = changeanim
trigger1 = teamside = 2
value = 3251
persistent = 0

[State -2,]
type = playsnd
trigger1 = !time
value = 1200, 1

[State -2,]
type = playsnd
trigger1 = !time
value = 1200, 0
channel = 8
loop = 1

[State -2,]
type = velset
trigger1 = !time
x = 0
y = -7.4

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X != [(helper(700),pos X) - 180, (helper(700),pos X) + 180]
x = 1*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X != [(helper(700),pos X) - 180, (helper(700),pos X) + 120]
x = -1*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y != [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = 1

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y != [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = -1

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 180, (helper(700),pos X) + 180]
x = .5*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 180, (helper(700),pos X) + 120]
x = -.5*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = .5

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 180, (helper(700),pos Y) + 180]
Y = -.5

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 120, (helper(700),pos X) + 120]
x = .05*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 120, (helper(700),pos X) + 120]
x = -.05*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 120, (helper(700),pos Y) + 120]
Y = .05

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 120, (helper(700),pos Y) + 120]
Y = -.05

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 80, (helper(700),pos X) + 80]
x = .005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 80, (helper(700),pos X) + 80]
x = -.005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 80, (helper(700),pos Y) + 80]
Y = .005

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 80, (helper(700),pos Y) + 80]
Y = -.005

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X < (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 40, (helper(700),pos X) + 40]
x = .0005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos X > (helper(700),pos X)
trigger1 =  Pos X = [(helper(700),pos X) - 40, (helper(700),pos X) + 40]
x = -.0005*facing

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y < (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 40, (helper(700),pos Y) + 40]
Y = .0005

[State -2,]
type = veladd
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 = Pos Y > (helper(700),pos Y)
trigger1 =  Pos Y = [(helper(700),pos Y) - 40, (helper(700),pos Y) + 40]
Y = -.0005

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist X >= 50
X = 11

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist X < -50
X = -11

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist Y >= 70
Y = 11

[State -2,]
type = velset
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
trigger1 =  p2dist Y < -70
Y = -11

[State -2,]
type = velmul
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 702
trigger1 = helper(700),time < 6
trigger1 =  Pos Y = [(helper(700),pos Y) - 50, (helper(700),pos Y) + 50]
trigger1 =  Pos X = [(helper(700),pos X) - 50, (helper(700),pos X) + 50]
Y = 1.5
X = 1.5

[State -2,]
type = veladd
trigger1 = numhelper(700) = 0
trigger2 = numhelper(700) > 0
trigger2 = helper(700),stateno != 700
y = 0.1

[State -2,]
type = playsnd
trigger1 = pos Y >= -15
trigger1 = vel Y > 0
value = 1200, 2

[State -2,]
type = velset
trigger1 = pos Y >= -15
trigger1 = vel Y > 0
y = -((vel y)*.8)

[State -2,]
type = velmul
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 =  Pos X = [(helper(700),pos X) - 20, (helper(700),pos X) + 20]
x = .8

[State -2,]
type = velmul
trigger1 = numhelper(700) > 0
trigger1 = helper(700),stateno = 700
trigger1 =  Pos Y = [(helper(700),pos Y) - 20, (helper(700),pos Y) + 20]
y = .9

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 5145
triggerall = enemynear,stateno != [811,851]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
attr = A, HP
damage    = ceil(((40+(8*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 1,2
sparkno = 3
sparkxy = 0,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
guard.ctrltime = 23
ground.velocity = 0
air.velocity = 0,-7.5
air.hittime = 16
air.fall = 1
fall.recovertime = 30
getpower = 0,0
nochainID = 8000

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != 5145
triggerall = enemynear,stateno != [811,851]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || movecontact = 3 || movereversed = 3
attr = A, HP
damage    = ceil(((85+(17*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,5
sparkno = 3
sparkxy = 0,0
hitsound   = S5,4
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = 45
guard.ctrltime = 28
ground.velocity = 0
air.velocity = 0,-7.5
air.hittime = 16
air.fall = 1
fall.recover = 0
getpower = 0,0
nochainID = 8000

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = !movehit
value = 1.2
ignorehitpause = 1

[State -2, damage dampener]
type = attackmulset
trigger1 = movehit = 1
value = .25
ignorehitpause = 1
persistent = 1

[State -2,]
type = varadd
trigger1 = movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
triggerall = teamside = 1
trigger1 = time < 298
anim = 6800
pos = -60+random%120,-60+random%120
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 0
scale = 0.5,0.5

[State 1200, 6]
type = explod
triggerall = teamside = 2
trigger1 = time < 298
anim = 6801
pos = -60+random%120,-60+random%120
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 0
scale = 0.5,0.5

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State -2,]
type = stopsnd
trigger1 = time >= 300
trigger2 = var(1) = 40
trigger4 = root,numhelper(6805) != 0
channel = 8

[State 1350, End]
type = changestate
triggerall = roundstate > 2
trigger1 = time >= 75
value = 1251
ignorehitpause = 1

[State 1350, End]
type = changestate
triggerall = roundstate <= 2
trigger1 = time >= 300
trigger2 = var(1) = 40
trigger3 = root,numhelper(6805) != 0
trigger4 = root,stateno = 3901
trigger5 = root,stateno = 8000
value = 1251
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = 3901

;======================================================================================================================================================
;Black Hole
[Statedef 3080]
type = S
physics = N
movetype = A
anim = 3080
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 2125, 1]
type = varset
trigger1 = enemynear,statetype = L
var(10) = 18

[State 2125, 1]
type = varadd
triggerall = var(10) > 0
trigger1 = enemynear,statetype != L
var(10) = -1

[State 2125, 1]
type = AngleDraw
triggerall = !movecontact
trigger1 = time < 10
scale = 0+(time*0.1),0+(time*0.1)

[State 2125, 1]
type = AngleDraw
triggerall = !movecontact
trigger1 = time >= 10
trigger1 = time < 200
scale = 1+(time*0.003),1+(time*0.003)

[State 1200, 6]
type = explod
trigger1 = time%8 = 0
anim = 6972
id = 6972
pos = 0,0
facing = 1
sprpriority = -5
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.25,0.25
pausemovetime = 9999
supermovetime = 9999

[State 6800, flames]
type = explod
trigger1 = 1
anim = 6804
ID = 6800
sprpriority = -6
pos = 0,0
scale=.3,.3
bindtime = 1
vel = -3+random%6,-3+random%6
ignorehitpause = 1
persistent = 1

[State 8000, ]
type = varset
trigger1 = !time
var(1) = enemynear,facing

[State 8000, ]
type = varset
trigger1 = !time
trigger1 = root,p2dist X >= 0
var(2) = 0

[State 8000, ]
type = varset
trigger1 = !time
trigger1 = facing = enemynear,facing
var(2) = 1

[State 8000, ]
type = varset
trigger1 = !time
trigger1 = facing != enemynear,facing
var(2) = 2

[State 8000, ]
type = varset
triggerall = var(2) = 1
trigger1 = p2dist X  = [-15,15]
var(2) = 3

[State 2900, 1]
type = helper
triggerall = p2dist X > 10
triggerall = numhelper(905) <= 0
trigger1 = enemynear,facing = var(1)
trigger1 = var(2) = 0
id = 905
name = "Windbox"
facing = (enemynear,facing)
pos = -30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < -10
triggerall = numhelper(905) <= 0
trigger1 = enemynear,facing = var(1)
trigger1 = var(2) = 0
id = 905
name = "Windbox"
facing = -(enemynear,facing)
pos = 30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X > 10
triggerall = numhelper(905) <= 0
trigger1 = var(2) = 3
id = 905
name = "Windbox"
facing = -(enemynear,facing)
pos = -30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < -10
triggerall = numhelper(905) <= 0
trigger1 = var(2) = 3
id = 905
name = "Windbox"
facing = (enemynear,facing)
pos = 30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X > 10
triggerall = numhelper(905) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 1
id = 905
name = "Windbox"
facing = -(enemynear,facing)
pos = 30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < -10
triggerall = numhelper(905) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 1
id = 905
name = "Windbox"
facing = (enemynear,facing)
pos = -30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X < 10
triggerall = numhelper(905) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 2
id = 905
name = "Windbox"
facing = -(enemynear,facing)
pos = 30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 2900, 1]
type = helper
triggerall = p2dist X > -10
triggerall = numhelper(905) <= 0
trigger1 = enemynear,facing != var(1)
trigger2 = var(2) = 2
id = 905
name = "Windbox"
facing = (enemynear,facing)
pos = -30,0
postype = p2
stateno = 905
helpertype = normal
keyctrl = 0
ownpal = 1

[State 210, 2]
type = HitDef
triggerall = Var(10) <= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, HP
animtype  = Hard
damage    = ceil(0),0
hitflag = MAFD
guardflag = 
pausetime = 0,0
numhits = 0
sparkno = -1
sparkxy = -2,-30
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = 0
air.velocity = 0,0
guard.velocity = 4
airguard.velocity = 4,-.5
p2facing = 1
p2stateno = 3090
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.dist = 0
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = Var(10) <= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, HP
animtype  = Hard
damage    = ceil(10),0
hitflag = MAFD
guardflag = 
pausetime = 0,0
numhits = 0
sparkno = -1
sparkxy = -2,-30
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = 0
air.velocity = 0,0
guard.velocity = 4
airguard.velocity = 4,-.5
p2facing = 1
p2stateno = 3090
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.dist = 0
kill = 0
nochainID = 8000

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = roundstate = 2
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 3051, 0
channel = 8
loop = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = changestate
trigger1 = movecontact
value = 3082

[State 1350, End]
type = changestate
trigger1 = time >= 245
trigger2 = root,stateno != [3050,3051]
value = 3081

;======================================================================================================================================================
;Black hole end
[Statedef 3081]
type = S
physics = N
movetype = I
anim = 3077
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 3051, 1

[State 200, 2]
type = stopSnd
trigger1 = time >= 2
channel = 8

[State 200, 2]
type = stopSnd
trigger1 = time >= 2
channel = 9

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;Black Hole Contact
[Statedef 3082]
type = S
physics = N
movetype = A
anim = 3080
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 6800, flames]
type = explod
trigger1 = 1
anim = 6804
ID = 6800
sprpriority = -6
pos = 0,0
scale=.6,.6
bindtime = 1
vel = -5+random%10,-5+random%10
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = envshake
trigger1 = time%2 = 0
time = 10
freq = 90

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 3051, 2

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 3051, 0
channel = 8
loop = 1

[State 200, 2]
type = PlaySnd
trigger1 = !time
value = 3051, 3
channel = 9
loop = 1

[State 2125, 1]
type = AngleDraw
triggerall = !movecontact
trigger1 = time < 5
scale = 1+(time*0.2),1+(time*0.2)

[State 2125, 1]
type = AngleDraw
triggerall = !movecontact
trigger1 = time >= 5
trigger1 = time < 40
scale = 2.1+(time*0.002),2.1+(time*0.002)

[State 2125, 1]
type = AngleDraw
triggerall = !movecontact
trigger1 = time >= 40
scale = 2.18-((time-40)*0.06),2.18-((time-40)*0.06)

[State 1200, 6]
type = explod
trigger1 = time%8 = 0
anim = 6972
id = 6972
pos = 0,0
facing = 1
sprpriority = -5
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3085
id = 3085
pos = 0,0
facing = 1
sprpriority = 5
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0,0
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3086
id = 3085
pos = 0,0
facing = 1
sprpriority = 6
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0,0
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3087
id = 3085
pos = 0,0
facing = 1
sprpriority = 7
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0,0
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = modifyexplod
trigger1 = time <= 20
scale = 0+(time*0.05),0+(time*0.05)
id = 3085

[State 0]
type = modifyexplod
trigger1 = time > 20
scale = 1-((time-20)*0.018),1-((time-20)*0.018)
id = 3085

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = removeexplod
trigger1 = time >= 75
trigger2 = root,stateno != [3050,3051]
ID = 3085

[State 1350, End]
type = changestate
trigger1 = time >= 75
trigger2 = root,stateno != [3050,3051]
value = 3081

;---------------------------------------------------------------------------
;Jamming Dark Wind Box
[Statedef 905]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 705

[state 2901,1]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[State 8000,]
type = Turn
trigger1 = p2dist X < 0

[State 1000, 0]
type = PlayerPush
trigger1 = 1
value = 1

[State 1000, 0]
type = posset
trigger1 = 1
y = enemynear,pos y

[State 0, PosAdd]
type = velset
trigger1 = 1
x = 4.5

[state a]
type = destroyself
trigger1 = parent,stateno != 3080
trigger2 = root,numhelper(3080)=0
trigger3 = enemynear,pos x = [parent,pos x-15,parent,pos x+15]
trigger4 = p2bodydist X != [-20,20]
trigger5 = p2dist X = [-5,5]

;======================================================================================================================================================
;Aura
[Statedef 3959]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -3

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 200,0,145
mul = var(18),0,var(18)
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = root,fvar(19)*.000008
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 8

;---------------------------------------------------------------------------
[Statedef 3090]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 5
velset = 0,0

[State 2125, 1]
type = posset
trigger1 = !time
y = const(size.mid.pos.y)

[State 3000,]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 2125, ]
type = ChangeAnim2
trigger1 = Time = 0
value = 3090

[State 2125, 1]
type = AngleDraw
trigger1 = 1
value = time * 30
scale = 1-(time*0.022),1-(time*0.022)

[State 2125, ]
type = AssertSpecial
trigger1 = time >= 45
flag = invisible

[State 2125,]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, LifeSet]
type = LifeAdd
triggerall = enemynear,fvar(19) <= 0
trigger1 = time = 75
value = -ceil(((270+(54*enemynear,numhelper(9884)))*(enemynear,fvar(4))))
absolute = 1
kill = 0

[State 0, LifeSet]
type = LifeAdd
triggerall = enemynear,fvar(19) > 0
trigger1 = time = 75
value = -ceil(((324+(69*enemynear,numhelper(9884)))*(enemynear,fvar(4))))
absolute = 1
kill = 1

[State 2125, ]
type = ChangeState
trigger1 = Time >= 75
value = 3910
;======================================================================================================================================================
;Welcome to the Machine
[Statedef 3925]
type = S
physics = N
movetype = I
anim = 3928
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 1000, AD]
type = AngleDraw
trigger1 = 1
value = Var(1)+3
ignorehitpause = 1

[State 1000, AD]
type = varadd
triggerall = time%2 = 0
trigger1 = var(2) = 1
var(1) = 1
ignorehitpause = 1

[State 1000, AD]
type = varadd
triggerall = time%2 = 0
trigger1 = var(2) = -1
var(1) = -1
ignorehitpause = 1

[State 1000, AD]
type = varset
trigger1 = !time
var(2) = 1
ignorehitpause = 1

[State 1000, AD]
type = varset
trigger1 = time%15 = 0
var(2) = -(var(2))
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3926
id = 3925
pos = 0,0
facing = 1
sprpriority = 6
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.33,0.33
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3925
id = 3925
pos = 0,0
facing = 1
sprpriority = 2
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.33,0.33
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3927
id = 3925
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.33,0.33
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3933
id = 3925
pos = -106,-63
facing = 1
sprpriority = 6
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.15,0.15
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3933
id = 3925
pos = 100,-63
facing = -1
sprpriority = 6
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.15,0.15
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3934
id = 3925
pos = 56,-68
facing = 1
sprpriority = 2
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.085,0.025
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3934
id = 3925
pos = -53,-68
facing = -1
sprpriority = 2
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.085,0.025
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3933
id = 3925
pos = -53,-68
facing = 1
sprpriority = 3
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3933
id = 3925
pos = 56,-68
facing = -1
sprpriority = 3
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3932
id = 3925
pos = -106,-63
facing = 1
sprpriority = 4
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3932
id = 3925
pos = 100,-63
facing = 1
sprpriority = 4
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3932
id = 3925
pos = -53,-64
facing = 1
sprpriority = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.4,0.4
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3932
id = 3925
pos = 56,-64
facing = 1
sprpriority = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.4,0.4
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = helper
trigger1 = time%12 = 0
trigger1 = time <= 300
stateno = 3930
pos = 0,-55
facing = 1
sprpriority = 5
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 200, 2]
type = posset
trigger1 = 1
x = enemynear,pos X
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time >= 20
trigger1 = time%6 = 0
trigger1 = time < 150
value = 3902, 3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3901]
ID = 3925

[State 1350, End]
type = destroyself
trigger1 = root,stateno != [3900,3901]

;======================================================================================================================================================
;Electric Ring
[Statedef 3930]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, -3.5
sprpriority = 0

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3930
id = 3925
pos = 0,0
facing = 1
sprpriority = 5
bindtime = -1
vel = 0,0
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 3931
id = 3925
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
vel = 0,0
ownpal = 1
ignorehitpause = 1
persistent = 1
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0,]
type = posset
trigger1 = 1
x = parent,pos X
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno != [3900,3901]
trigger2 = time >= 70
;======================================================================================================================================================
;Throw Away
[Statedef 6950]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
sprpriority = -4

[State 8000, ]
type = changeanim
trigger1 = !time
trigger1 = ishelper(6950)
value = 6950

[State 8000, ]
type = changeanim
trigger1 = !time
trigger1 = ishelper(6951)
value = 6951

[State 8000, ]
type = changeanim
trigger1 = !time
trigger1 = ishelper(6952)
value = 6952

[State 8000, ]
type = changeanim
trigger1 = !time
trigger1 = ishelper(6953)
value = 6953

[State 8000, ]
type = changeanim
trigger1 = !time
trigger1 = ishelper(6954)
value = 6954

[State 8000, ]
type = changeanim
trigger1 = !time
trigger1 = ishelper(6955)
value = 6955

[State 8000, ]
type = changeanim
trigger1 = !time
trigger1 = ishelper(6956)
value = 6956

[State 8000, ]
type = velset
trigger1 = !time
trigger1 = ishelper(6950)
x = -3
y = -.5

[State 8000, ]
type = velset
trigger1 = !time
trigger1 = ishelper(6951)
x = -4
y = 3

[State 8000, ]
type = velset
trigger1 = !time
trigger1 = ishelper(6952)
x = -6
y = -.5

[State 8000, ]
type = velset
trigger1 = !time
trigger1 = ishelper(6953)
x = -2
y = -4

[State 8000, ]
type = velset
trigger1 = !time
trigger1 = ishelper(6954)
x = -3
y = -3

[State 8000, ]
type = velset
trigger1 = !time
trigger1 = ishelper(6955)
x = 3
y = -3

[State 8000, ]
type = velset
trigger1 = !time
trigger1 = ishelper(6956)
x = -2
y = -.5

[State 8000, ]
type = veladd
trigger1 = 1
y = 0.4

[State 8000, ]
type = velset
trigger1 = pos y >= 0
y = -(vel y)

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;drop
[Statedef 6960]
type = S
physics = N
movetype = I
anim = 6960
ctrl = 0
sprpriority = 5

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6961
pos = 0,0
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 0
supermovetime=99
pausemovetime=99
scale = 0.33,0.33

[State 8000, ]
type = velset
trigger1 = !time
y = 1

[State 8000, ]
type = velset
trigger1 = pos Y >= 0
y = 0

[State 1405, 4]
type = PlaySnd
trigger1 = pos Y >= 0
value = F7, 1
persistent = 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;Rotated Radius
[Statedef 6970]
type = S
physics = N
movetype = I
anim = 6970
ctrl = 0
sprpriority = 5
velset = 0,0

[State 200, 2]
type = angledraw
trigger1 = 1
value = 60
scale = 0.2,1.3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;Portal
[Statedef 6990]
type = S
physics = N
movetype = I
anim = 6990
ctrl = 0
velset = 0, 0
sprpriority = -4

[State 1, 3]
type = playsnd
trigger1 = time = 0
value = 500, 6

[State 8000, ]
type = palfx
trigger1 = animelem = 1
time = 5
add = 255,255,255

[State 200, 2]
type = null;PlaySnd
trigger1 = !time
value = 700, 2

[State 200, 2]
type = angledraw
trigger1 = ishelper(6991)
value = -45

[State 200, 2]
type = angledraw
trigger1 = ishelper(6992)
value = 45

[State 200, 2]
type = angledraw
trigger1 = ishelper(6993)
value = 90

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Frozen
[Statedef 6805]
type    = S                      
movetype= I                     
physics = N                                          
ctrl = 0                         
anim = 6805                
poweradd = 0       
sprpriority = 5     

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 1500, 0   
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = (p2dist x) - 10
y = (p2dist y)
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = time%11 = 0
anim = 6802
id = 6140
pos = -10+random%20,-70-random%70
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
scale = 1,1

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1001]
Type=Destroyself
trigger1 = numhelper(6805) > 1

[State 1001]
Type=changestate
trigger1 = time > 10
trigger1 = enemynear,stateno != [5145,5149]
value = 6806

;---------------------------------------------------------------------------
;Ice Break
[Statedef 6806]
type    = S                      
movetype= I                     
physics = N                                          
ctrl = 0                         
anim = 6806                
poweradd = 0       
sprpriority = 5     

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 1500, 1  

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1001]
Type=Destroyself
trigger1 = animtime = 0
trigger2 = numhelper(6805) > 1

;======================================================================================================================================================
;The Helper of activation
[Statedef 7776]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, End]
type = Destroyself
trigger1 = time >= 10

;======================================================================================================================================================
;The Helper of Permission
[Statedef 7777]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = [6060,6061]
trigger2 = root,movetype != A
persistent = 1

;======================================================================================================================================================
;Astral Heat Background
;======================================================================================================================================================
[Statedef 7005]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7015
ID = 7005
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = timerfreeze
ignorehitpause = 1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = globalnoshadow
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -680, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -500, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -260, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -4, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 0
anim = 7016
ID = 7005
pos = 222, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7017
ID = 7005
pos = -556,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 106
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7017
ID = 7005
pos = -556,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 106
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7017
ID = 7005
pos = -300,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7017
ID = 7005
pos = -300,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7017
ID = 7005
pos = -44,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 66
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 0
anim = 7017
ID = 7005
pos = -44,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 66
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3950]
trigger2 = root,winko
ID = 7005

[State 1350, End]
type = destroyself
trigger1 = root,stateno != [3900,3950]
trigger2 = root,winko

;======================================================================================================================================================
;Ultraburst Manager
[Statedef 9879]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State -2]
type = Explod
triggerall = TeamSide = 1
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = left
pos = 8,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = Explod
triggerall = TeamSide = 2
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = right
pos = -60,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = modifyExplod
trigger1 = root,fvar(19) > 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1
persistent = 1

[State -2]
type = RemoveExplod
trigger1 = root,fvar(19) <= 0
ID = 9879
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = !numhelper(8988)
helpertype = normal
stateno = 8988
ID = 8988
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
supermovetime=99999
pausemovetime=99999

[State -2]
type = assertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State -2]
type = poweradd
triggerall = root,stateno != [3000,4999]
trigger1 = root,movetype != H
value = 3
ignorehitpause = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = removeexplod
trigger1 = root,fvar(19) <= 0
ID = 7003
persistent = 1

[State 8000, ]
type = playsnd
trigger1 = root,fvar(19) <= 0
value = 8005,1
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;======================================================================================================================================================
;Aura
[Statedef 9883]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = 10

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 200,0,145
mul = var(18),0,var(18)
ignorehitpause = 1


[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 180
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 256
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = .33,fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.33
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .003
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 16

;======================================================================================================================================================
;Not Over Yet Manager
[Statedef 9884]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1, 3]
type = playsnd
trigger1 = time = 0
trigger2 = root,time = [0,1]
Trigger2 = root,stateno = [3000,3005]
trigger3 = root,time = 67
Trigger3 = root,stateno = 3050
trigger4 = root,time = [0,1]
Trigger4 = root,stateno = 3025
value = 3000, 3

[State 1, 3]
type = poweradd
trigger1 = !time
value = 500

[State 1, 3]
type = poweradd
triggerall = root,stateno != [3000,3999]
trigger1 = time%10 = 0
value = 1

[State -2, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 9884
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 9884
pos = -95,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2]
type = Helper
Trigger1 = !time
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
triggerall = root,time = [0,1]
Trigger1 = root,stateno = 3000
Trigger2 = root,stateno = 3005
Trigger3 = root,stateno = 3025
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
trigger1 = root,time = [67,68]
Trigger1 = root,stateno = 3050
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 1350, End]
type = null;destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;---------------------------------------------------------------------------
;Super Finish
[Statedef 8992]
physics  = N
ctrl     = 0
Anim = 9999

[State 3020,]
type = pause
trigger1 = !ishelper(8995)
trigger1 = !time
time = 50
ignorehitpause = 1

[State 3020,]
type = playsnd
trigger1 = !ishelper(8995)
trigger1 = !time
value = 7005,0
ignorehitpause = 1

[State 3020,]
type = playsnd
trigger1 = ishelper(8995)
trigger1 = !time
value = 7005,1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID =7002
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7004
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale =1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7005
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -5
ownpal = 1
scale = 1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7006
ID = 7006
facing = 1
postype = back
pos = 160,120
sprpriority = -7
ownpal = 1
scale =.7,.7
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time < 20
ID=7006
;trans=addalpha
scale = .7+time*.1,.7+time*.1
;alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7006
trans=addalpha
scale = .7+time*.1,.7+time*.1
alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7002
trans=addalpha
alpha=256-((time-20)*5),256

[State 3020,]
type = removeexplod
trigger1 = time >= 100
ID = 7002
ignorehitpause = 1

[State 3020,]
type = DestroySelf
trigger1 = time >= 100
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion BG
[Statedef 8985]
physics  = N
ctrl     = 0
Anim = 7100

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State AssertS, 1]
type = AssertSpecial
trigger1 = time >= 16
flag = nobg
flag2 = nofg

[State BGPalF, 1]
type = BGPalFX
trigger1 = time < 16
mul = 256-(time)*5,256-(time)*5,256-(time)*5
time = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7002
id = 7002
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7003
id = 7003
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7100
id = 7100
postype = left
pos = -10, 120
facing = 1
sprpriority = -2000
bindtime = -1
ownpal = 0
ignorehitpause = 1
persistent = 0
scale=150,.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7200
id = 7200
postype = left
pos = 160,120
facing = 1
sprpriority = -1950
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale =.5,.5
pausemovetime = 9999
supermovetime = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7003)
trigger1 = time 
ID=7003
trans=addalpha
alpha = 256,256
scale = 0.1+(time*.03),0.1+(time*.03)

[State 3007,]
type = Helper
trigger1 = time%15 = 0
helpertype = Normal
name = "Effect"
stateno = 7000
ID = 7000
pos = 0,-80
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 1

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = !numhelper(9884)
source = 7,0
dest = 7,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = numhelper(9884)
source = 7,0
dest = 8,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = ishelper(7003)
source = 7,0
dest = 9,0
ignorehitpause = 1
persistent = 0

[State 3020,]
type = changestate
trigger1 = ishelper(7001)
trigger1 = time >= 40
trigger2 = ishelper(7002)
trigger2 = time >= 40
trigger3 = ishelper(7003)
trigger3 = time >= 50
trigger4 = ishelper(7004)
trigger4 = time >= 40
value = 8986
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion Effect
[Statedef 7000]
physics  = N
ctrl     = 0
Anim = 7000

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
pos=0,95
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
vfacing = -1
pos=0,145
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ]
type=varadd
trigger1=numexplod(7000)
var(0)=7

[State ]
type=varset
trigger1=var(0)>256
var(0)=256

[State ]
type=varadd
trigger1=numexplod(7000)
fvar(0)=.022

[State ]
type=modifyexplod
trigger1=numexplod(7000)
ID=7000
trans=addalpha
alpha=256-var(0),256
scale=.5,1-fvar(0)

[State ]
type=RemoveExplod
trigger1=var(0)>=256&&numexplod(7000)
trigger2 = root,stateno = [3901,3999]
ID=7000

[State 3020,]
type = destroyself
trigger1 = !numexplod(7000)
trigger1 = time >= 15
trigger2 = root,stateno = [3901,3999]
ignorehitpause = 1

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = !numhelper(9884)
source = 4,0
dest = 4,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = numhelper(9884)
source = 4,0
dest = 5,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003)
source = 4,0
dest = 6,0
ignorehitpause = 1
persistent = 0

;-------------------------------------------------------------------------------
;Distortion BG End
[Statedef 8986]
type = A
physics = N
anim = 9999

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State AssertS, 1]
type = AssertSpecial
trigger1 = time <= 16
flag = noBG

[State BGPalF, 1]
type = BGPalFX
trigger1 = numhelper(8988)
trigger2 = enemynear,numhelper(8988)
triggerall = time >= 16
mul = (time-15)*10,(time-15)*10,(time-15)*10
time = 1
ignorehitpause = 1

[State BGPalF, 1]
type = BGPalFX
trigger1 = !numhelper(8988)
trigger1 = time >= 16
mul = (time-15)*16,(time-15)*16,(time-15)*16
time = 1
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7100)
trigger1 = time 
ID=7100
trans=addalpha
alpha = 256-(time*10),256

[State RemoveE, 1]
type = RemoveExplod
triggerall = numexplod(7100)
trigger1 = time >= 25
ID = 7100

[State DestroyS, 1]
type = DestroySelf
trigger1 = !numhelper(7000)
trigger1 = time >= 26

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG
[Statedef 8988]
physics  = N
ctrl     = 0
Anim = 9999

[State 0, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time < 30
ID=7001
trans=addalpha
alpha=0+(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 256-time*10,256-time*10,256-time*10
ignorehitpause = 1
persistent = 1

[State 7005, ]
type = bgpalfx
trigger1 = time >= 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156,156,156
ignorehitpause = 1
persistent = 1

[State 3020,]
type = removeexplod
trigger1 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = winko
ignorehitpause = 1

[State 3020,]
type = changestate
trigger1 = root,fvar(19) <= 0
value = 8989
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG Fade
[Statedef 8989]
physics  = N
ctrl     = 0
Anim = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time
ID=7001
trans=addalpha
alpha=256-(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156+time*10,156+time*10,156+time*10
ignorehitpause = 1
persistent = 1


[State 3020,]
type = removeexplod
trigger1 = time >= 30
trigger2 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = time >= 30
trigger2 = winko
ignorehitpause = 1


;======================================================================================================================================================
;You Are Here
[Statedef 9999]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = roundstate > 1

;======================================================================================================================================================
;Ink's Projectile Detection
[Statedef 33333333]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
 
;==========================================================================
;                Config Section
;==========================================================================
anim = 9999                  ; blank animation
 
;==========================================================================
 
[state 33333333, Clipboard] 
type = DisplayToClipboard
trigger1 = 1
text = "Highest Playerid = %d , Projectile helper's PlayerId = %d\nBy Inktrebuchet"
params = var(0)-1, var(3)
;==========================================================================
;                Detect Enemy's Projectile Helper
;==========================================================================
[State 33333333, 0]
type = Null
trigger1 = var(0) = 0
trigger1 = (var(0) := id)
ignorehitpause = 1
 
[state 33333333, 1] 
type = varadd
trigger1 = PlayerIdExist(var(0)) 
trigger2 = PlayerIdExist(var(0)+1) 
trigger3 = PlayerIdExist(var(0)+2) 
trigger4 = PlayerIdExist(var(0)+3) 
trigger5 = PlayerIdExist(var(0)+4) 
trigger6 = PlayerIdExist(var(0)+5) 
trigger7 = PlayerIdExist(var(0)+6) 
trigger8 = PlayerIdExist(var(0)+7) 
trigger9 = PlayerIdExist(var(0)+8) 
trigger10 = PlayerIdExist(var(0)+9) 
trigger11 = PlayerIdExist(var(0)+10) 
trigger12 = PlayerIdExist(var(0)+11) 
trigger13 = PlayerIdExist(var(0)+12) 
trigger14 = PlayerIdExist(var(0)+13) 
trigger15 = PlayerIdExist(var(0)+14) 
trigger16 = PlayerIdExist(var(0)+15) 
trigger17 = PlayerIdExist(var(0)+16) 
trigger18 = PlayerIdExist(var(0)+17) 
trigger19 = PlayerIdExist(var(0)+18) 
trigger20 = PlayerIdExist(var(0)+19) 
trigger21 = PlayerIdExist(var(0)+20) 
trigger22 = PlayerIdExist(var(0)+21) 
trigger23 = PlayerIdExist(var(0)+22) 
trigger24 = PlayerIdExist(var(0)+23) 
trigger25 = PlayerIdExist(var(0)+24) 
trigger26 = PlayerIdExist(var(0)+25) 
v = 0
value = 1
ignorehitpause = 1
 
[State 33333333, 2]
type = Null
triggerall = PlayerIdExist(Root,ID)
trigger1 = PlayerIdExist(var(0)-1)
trigger1 = cond(root,teamside = 1, PlayerID(var(0)-1),teamside = 2, PlayerID(var(0)-1),teamside = 1)
trigger1 = PlayerID(var(0)-1),hitdefattr = ASC, NP, SP, HP
trigger1 = var(3) := (var(0)-1)
trigger2 = PlayerIdExist(var(0)-2)
trigger2 = cond(root,teamside = 1, PlayerID(var(0)-2),teamside = 2, PlayerID(var(0)-2),teamside = 1)
trigger2 = PlayerID(var(0)-2),hitdefattr = ASC, NP, SP, HP
trigger2 = var(3) := (var(0)-2)
trigger3 = PlayerIdExist(var(0)-3)
trigger3 = cond(root,teamside = 1, PlayerID(var(0)-3),teamside = 2, PlayerID(var(0)-3),teamside = 1)
trigger3 = PlayerID(var(0)-3),hitdefattr = ASC, NP, SP, HP
trigger3 = var(3) := (var(0)-3)
trigger4 = PlayerIdExist(var(0)-4)
trigger4 = cond(root,teamside = 1, PlayerID(var(0)-4),teamside = 2, PlayerID(var(0)-4),teamside = 1)
trigger4 = PlayerID(var(0)-4),hitdefattr = ASC, NP, SP, HP
trigger4 = var(3) := (var(0)-4)
trigger5 = PlayerIdExist(var(0)-5)
trigger5 = cond(root,teamside = 1, PlayerID(var(0)-5),teamside = 2, PlayerID(var(0)-5),teamside = 1)
trigger5 = PlayerID(var(0)-5),hitdefattr = ASC, NP, SP, HP
trigger5 = var(3) := (var(0)-5)
trigger6 = PlayerIdExist(var(0)-6)
trigger6 = cond(root,teamside = 1, PlayerID(var(0)-6),teamside = 2, PlayerID(var(0)-6),teamside = 1)
trigger6 = PlayerID(var(0)-6),hitdefattr = ASC, NP, SP, HP
trigger6 = var(3) := (var(0)-6)
trigger7 = PlayerIdExist(var(0)-7)
trigger7 = cond(root,teamside = 1, PlayerID(var(0)-7),teamside = 2, PlayerID(var(0)-7),teamside = 1)
trigger7 = PlayerID(var(0)-7),hitdefattr = ASC, NP, SP, HP
trigger7 = var(3) := (var(0)-7)
trigger8 = PlayerIdExist(var(0)-8)
trigger8 = cond(root,teamside = 1, PlayerID(var(0)-8),teamside = 2, PlayerID(var(0)-8),teamside = 1)
trigger8 = PlayerID(var(0)-8),hitdefattr = ASC, NP, SP, HP
trigger8 = var(3) := (var(0)-8)
trigger9 = PlayerIdExist(var(0)-9)
trigger9 = cond(root,teamside = 1, PlayerID(var(0)-9),teamside = 2, PlayerID(var(0)-9),teamside = 1)
trigger9 = PlayerID(var(0)-9),hitdefattr = ASC, NP, SP, HP
trigger9 = var(3) := (var(0)-9)
trigger10 = PlayerIdExist(var(0)-10)
trigger10 = cond(root,teamside = 1, PlayerID(var(0)-10),teamside = 2, PlayerID(var(0)-10),teamside = 1)
trigger10 = PlayerID(var(0)-10),hitdefattr = ASC, NP, SP, HP
trigger10 = var(3) := (var(0)-10)
ignorehitpause = 1
 
[State 33333333, BindToRoot]
type = BindToRoot
trigger1 = PlayerIdExist(Root,ID)
time = 1
facing = 1
pos =0,-2
ignorehitpause = 1 