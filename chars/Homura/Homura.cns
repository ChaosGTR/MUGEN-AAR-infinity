[Data]
life = 1000
power = 2000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 15
airjuggle = 999
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 100
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 0.3           ;Horizontal scaling factor.
yscale = 0.3           ;Vertical scaling factor.
ground.back = 8     ;Player width (back, ground)
ground.front = 10    ;Player width (front, ground)
air.back = 8        ;Player width (back, air)
air.front = 10       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = 15, -72   ;Approximate position of head
mid.pos = 0, -48    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y). Recommended 0,0

[Velocity]
walk.fwd  = .9      ;Walk forward
walk.back = -.9     ;Walk backward
run.fwd  = 9.5, 0    ;Run forward (x, y)
run.back = -5.5,-3.5 ;Hop backward (x, y)
jump.neu = 0,-8.4    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-5.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -3       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 3         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -3         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 6      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**

[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
stand.friction.threshold = 2          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 25           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 15      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

[Quotes]
; Up to 100 victory quotes can be specified per language (victory0 - victory99)
victory1 = "You seem to have some fighting power, but you need to train more."
victory2 = "Oh by the way, where did Asuka go? Uh, I'm not worried!! She's strong enough to take care of herself."
victory3 = "Didn't even break a sweat."

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).


;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 195, 1]
type = playsnd
trigger1 = animelem = 4
value = 170,0+random%2
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = !matchover
triggerall = var(20) != 1
value = 181

[State 180, 1]
type = ChangeState
trigger1 = matchover
triggerall = var(20) != 1
value = 182

[State 180, 1]
type = ChangeState
trigger1 = var(20) = 1
value = 183

;---------------------------------------------------------------------------
; Round Win
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 195, 1]
type = playsnd
trigger1 = animelem = 6
value = 181,0+random%2
channel = 0

[State 181, 1]
type = assertspecial
trigger1 = time <= 300
flag = roundnotover

;Win By Perfect
[State -2, Explod];p1 Side
type = Explod
triggerall = teamside = 1
trigger1 = winperfect
trigger1 = !time
anim = 9889
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod];p2 Side
type = Explod
triggerall = teamside = 2
trigger1 = winperfect
trigger1 = !time
anim = 9889
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 195, 1]
type = playsnd
trigger1 = winperfect
trigger1 = !time
value = 8999,0

;---------------------------------------------------------------------------
; Match Win
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 195, 1]
type = playsnd
trigger1 = AnimElem = 5
value = 182,0+random%3
channel = 0

[State 195, 1]
type = playsnd
trigger1 = AnimElem = 2
value = 700,1

[State 182, 1]
type = assertspecial
trigger1 = time <= 400
flag = roundnotover

;Win By Perfect
[State -2, Explod];p1 Side
type = Explod
triggerall = teamside = 1
trigger1 = winperfect
trigger1 = !time
anim = 9889
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod];p2 Side
type = Explod
triggerall = teamside = 2
trigger1 = winperfect
trigger1 = !time
anim = 9889
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 195, 1]
type = playsnd
trigger1 = winperfect
trigger1 = !time
value = 8999,0

;---------------------------------------------------------------------------
; Astral Heat Win
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 195, 1]
type = playsnd
trigger1 = time = 10
value = 183,0
channel = 0

[State 182, 1]
type = assertspecial
trigger1 = time <= 400
flag = roundnotover

[State 0, Explod]
type = assertspecial
trigger1 = roundstate > 2
flag = nobg
flag2 = nofg

[State 6800, flames]
type = explod
trigger1 = time%3 = 0
anim = 6800
ID = 6800
sprpriority = -1+random%3
pos = -25+random%50,-10-random%95
scale=.2,.2
bindtime = 1
vel = -1+random%2,-1-random%2
supermovetime=99
pausemovetime=99
ownpal = 1

;Win By Perfect
[State -2, Explod];p1 Side
type = Explod
triggerall = teamside = 1
trigger1 = winperfect
trigger1 = !time
anim = 9889
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod];p2 Side
type = Explod
triggerall = teamside = 2
trigger1 = winperfect
trigger1 = !time
anim = 9889
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 195, 1]
type = playsnd
trigger1 = winperfect
trigger1 = !time
value = 8999,0


;---------------------------------------------------------------------------
;Intro
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 195, 1]
type = playsnd
trigger1 = !time
value = 191,0+random%3
channel = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Vs. Yumi Intro
[Statedef 192]
type = S
ctrl = 0
anim = 9999
velset = 0,0

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 3000,]
type = nothitby
trigger1 = 1
value = SCA

[State 3000,]
type = playerpush
trigger1 = 1
value = 0

[State 1300]
type = helper
trigger1 = !numhelper(9999)
helpertype = normal
stateno = 9999
ID = 9999
name = "You are Here"
postype = p1
pos = 0,0

[State 191, 2]
type = posadd
trigger1 = time = 50
x = 750

[State 191, 2]
type = turn
trigger1 = time = 50

[State 191, 2]
type = changeanim
trigger1 = time = 50
value = 1103

[State 1, Effect]
type = Explod
trigger1 = anim = 1103
trigger1 = animelem = 1
anim = 6150
scale = 0.3,0.3
postype = p1
facing = 1
pos = 5,0
ownpal = 1
sprpriority = 3
bindtime = 1
removetime = 14
ignorehitpause =0

[State 6061, Effect]
type = Explod
trigger1 = anim = 1103
trigger1 = animelem = 6
anim = 6005
scale = .35,.35
postype = p1
facing = -1
pos = 15,2
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 1103
trigger1 = animelem = 2
anim = 6225
scale = .35,.4
postype = p1
facing = 1
pos = 0,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = anim = 1103
trigger1 = animelem = 2
anim = 6002
id = 6110
pos = 5,-43
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 1200, 6]
type = explod
trigger1 = anim = 1103
trigger1 = animelem = 2
anim = 6002
id = 6110
pos = 5,-49
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,0.15

[State 1200, 6]
type = explod
trigger1 = anim = 1103
trigger1 = animelem = 2
anim = 6002
id = 6110
pos = 5,-54
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 200, 2]
type = PlaySnd
trigger1 = anim = 1103
trigger1 = animelem = 1
value = 102, 0

[State 200, 2]
type = PlaySnd
trigger1 = anim = 1103
trigger1 = animelem = 6
value = 101, 0

[State 0, VelSet]
type = VelSet
trigger1 = anim = 1103
x = ((helper(9999),rootdist x)/6)

[State a]
type = posset
trigger1 = anim = 5
y = 0
x = (helper(9999),pos x)

[State a]
type = velset
trigger1 = anim = 5
x = 0

[State 191, 2]
type = changeanim
trigger1 = anim = 1103
trigger1 = animtime = 0
value = 5

[State 191, 2]
type = turn
trigger1 = anim = 5
persistent = 0

[State 191, 2]
type = changeanim
trigger1 = anim = 5
trigger1 = animtime = 0
value = 192

[State 191, 2]
type = playsnd
trigger1 = anim = 192
trigger1 = animelem = 2
value = 192,0
channel = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = anim = 192
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 1200, 6]
type = removeexplod
triggerall = Prevstateno = 3951
trigger1 = !time
id = 7010
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = Prevstateno = 3951
trigger1 = !time
anim = 7011
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 195, 1]
type = playsnd
trigger1 = animelem = 1
value = 195,0
channel = 0

[State 195, 2]
type = poweradd
trigger1 = animtime = 0
value = 290

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 196]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 0

[State 0, Explod]
type = changeanim
trigger1 = roundstate <= 2
trigger1 = !time
value = 195

[State 0, Explod]
type = changeanim
trigger1 = roundstate > 2
trigger1 = !time
value = 3990

[State 0, Explod]
type = removeExplod
trigger1 = !time
ID = 7010

[State 0, Explod]
type = removeExplod
trigger1 = !time
ID = 7011

[State 0, Explod]
type = removeExplod
trigger1 = !winko
ID = 7018

[State 0, Explod]
type = assertspecial
trigger1 = roundstate > 2
flag = nobg
flag2 = nofg

[State 0, Explod]
type = Explod
trigger1 = roundstate > 2
anim = 3976
ID = 3950
anim = 7014
ID = 7014
pos = 0,110
postype = right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermovetime=99
pausemovetime=99
scale = 0.9,0.5
sprpriority = 8
ontop = 0
shadow = 0,0,0
ownpal = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = roundstate > 2
anim = 3976
ID = 3950
anim = 7014
ID = 7014
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermovetime=99
pausemovetime=99
scale = 0.6,0.5
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = roundstate > 2
anim = 3980
ID = 3950
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = .5,.5
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
persistent = 0

[State 6800, flames]
type = explod
trigger1 = time%3 = 0
anim = 6800
ID = 6800
sprpriority = -1+random%3
pos = -25+random%50,-10-random%95
scale=.2,.2
bindtime = 1
vel = -1+random%2,-1-random%2
supermovetime=99
pausemovetime=99
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7015
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 1200, 6]
type = explod
trigger1 = roundstate > 2
trigger1 = !time
anim = 3991
id = 3991
pos = 30,0
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.3
removetime = -1

[State 1200, 6]
type = explod
trigger1 = roundstate > 2
trigger1 = !time
anim = 3992
id = 3991
pos = 50,0
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.3
removetime = -1

[State 1200, 6]
type = explod
trigger1 = roundstate > 2
trigger1 = !time
anim = 3992
id = 3991
pos = 42,0
facing = 1
vfacing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.3
removetime = -1

[State 1200, 6]
type = explod
trigger1 = roundstate > 2
trigger1 = !time
anim = 3991
id = 3991
pos = -30,0
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.3
removetime = -1

[State 1200, 6]
type = explod
trigger1 = roundstate > 2
trigger1 = !time
anim = 3992
id = 3991
pos = -50,0
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.3
removetime = -1

[State 1200, 6]
type = explod
trigger1 = roundstate > 2
trigger1 = !time
anim = 3992
id = 3991
pos = -42,0
facing = -1
vfacing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.3
removetime = -1

[State 195, 2]
type = ChangeState
trigger1 = anim = 195
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 195, 2]
type = ChangeState
trigger1 = time >= 80
trigger1 = roundstate >= 3
value = 197
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 197]
type = S
velset = 0,0
movetype = I
physics = S
sprpriority = 0

[State 0, Explod]
type = assertspecial
trigger1 = roundstate > 2
flag = nobg
flag2 = nofg

[State 6800, flames]
type = explod
trigger1 = time%3 = 0
anim = 6800
ID = 6800
sprpriority = -1+random%3
pos = -25+random%50,-10-random%95
scale=.2,.2
bindtime = 1
vel = -1+random%2,-1-random%2
supermovetime=99
pausemovetime=99
ownpal = 1

[State 195, 2]
type = null;Ctrlset
trigger1 = 1
value = 1

;---------------------------------------------------------------------------
[Statedef 160];Dodge
type    = S
movetype= I
physics = N
ctrl = 0
anim = 160
sprpriority = -1

[State 160, ]
type = PlaySnd
trigger1 = Time = 0
value = 160, 0

[State 160, 1];
type = VelSet
trigger1 = 1
x = 0

[State 160, ]
type = afterimage
trigger1 = Time = 0
time = 20
framegap = 5
length = 15
PalBright   =  5, 5, 5
PalContrast =  150, 150, 150
PalAdd      = -1,-1,-1
trans = add

[State 161, ]
type = NotHitBy
trigger1 = time <= 20
value = ,AP

[State 160, ]
type = HitBy
trigger1 = time <= 17
value = SCA,AT

[State 215, Effect]
type = PalFX
trigger1 = time <= 17
time = 1
add = 64-time*3,64-time*3,64-time*3

[State 160,]
type = PlayerPush
trigger1 = 1
value = 0

[State 160, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 161]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 161
sprpriority = -1

[State 161, ]
type = PlaySnd
trigger1 = Time = 0
value = 160, 0

[State 161, ]
type = afterimage
trigger1 = Time = 0
trigger1 = var(13) = 0
time = 23
framegap = 5
length = 15
PalBright   =  5, 5, 5
PalContrast =  150, 150, 150
PalAdd      = -1,-1,-1
trans = add

[State 6061, Effect]
type = Explod
trigger1 = time = 0
anim = 6006
scale = .25,.25
postype = p1
facing = 1
pos = -15,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 161, 1]
type = VelSet
trigger1 = AnimElemTime(1) = 0
x = 5

[State 161, 1]
type = VelSet
trigger1 = AnimElemTime(3) >= 0
x = Vel X * 0.95

[State 161, ]
type = NotHitBy
triggerall = prevstateno != 5120
trigger1 = time <= 20
value = ,AP

[State 161, ]
type = NotHitBy
triggerall = prevstateno = 5120
trigger1 = time
value = SCA

[State 160, ]
type = HitBy
triggerall = prevstateno != 5120
trigger1 = time <= 16
value = SCA,AT

[State 215, Effect]
type = PalFX
triggerall = prevstateno != 5120
trigger1 = time <= 16
time = 1
add = 64-time*3,64-time*3,64-time*3

[State 215, Effect]
type = PalFX
triggerall = prevstateno = 5120
trigger1 = time <= 20
time = 1
add = 64-time*2,64-time*2,64-time*2

[State 161,]
type = PlayerPush
trigger1 = 1
value = 0

[State 161,]
type = Turn
trigger1 = AnimElemTime(4) >= 0
trigger1 = P2Dist X < 0

[State 161, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 162]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 162
sprpriority = -1

[State 162, ]
type = PlaySnd
trigger1 = Time = 0
value = 160, 0

[State 162, ]
type = afterimage
trigger1 = Time = 0
trigger1 = var(13) = 0
time = 22
framegap = 5
length = 15
PalBright   =  5, 5, 5
PalContrast =  150, 150, 150
PalAdd      = -1,-1,-1
trans = add

[State 161, ]
type = NotHitBy
triggerall = prevstateno != [5200,5210]
trigger1 = time <= 22
value = ,AP

[State 161, ]
type = NotHitBy
triggerall = prevstateno = [5200,5210]
trigger1 = time
value = SCA

[State 160, ]
type = HitBy
triggerall = prevstateno != [5200,5210]
trigger1 = time <= 17
value = SCA,AT

[State 215, Effect]
type = PalFX
triggerall = prevstateno != [5200,5210]
trigger1 = time <= 17
time = 1
add = 64-time*3,64-time*3,64-time*3

[State 215, Effect]
type = PalFX
triggerall = prevstateno = [5200,5210]
trigger1 = time <= 25
time = 1
add = 64-time*2,64-time*2,64-time*2

[State 162,]
type = PlayerPush
trigger1 = 1
value = 0

[State 162, 5]
type = changestate
trigger1 = Animtime = 0
value = 51

;---------------------------------------------------------------------------
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 25                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 200, 0+random%4
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6001
id = 6200
pos = 40,-46
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6001
id = 6200
pos = 42,-52
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6001
id = 6200
pos = 44,-57
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 200, 1]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(19), 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 1                      ;Spark anim no (Def: set above)
sparkxy = -11, -60               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 5                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16              ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-2.2           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 25
guard.ctrltime = 10
ground.cornerpush.veloff = -0.1
air.cornerpush.veloff = -0.1
nochainID = 8000

[State 200, 1]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(29), 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 1                      ;Spark anim no (Def: set above)
sparkxy = -11, -60               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 5                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16              ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-2.2           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 25
guard.ctrltime = 16
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.94
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 4
value = 0, 3

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 201]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 201                       ;Change animation (Def: no change)
poweradd = 29                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6002
id = 6201
pos = 37,-43
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6002
id = 6201
pos = 39,-49
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6002
id = 6201
pos = 41,-54
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(22), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 2                      ;Spark anim no (Def: set above)
sparkxy = -10, -58             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 5                 ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16            ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-2.5          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 31
guard.ctrltime = 12
nochainID = 8000
ground.cornerpush.veloff = -.5
air.cornerpush.veloff = -.5

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(34), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 2                      ;Spark anim no (Def: set above)
sparkxy = -10, -58             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 5                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16             ;Time opponent is in hit state
ground.velocity = -1           ;Velocity at which opponent is pushed
airguard.velocity = -1,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-2.5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 31
guard.ctrltime = 16
nochainID = 8000
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.94
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 202]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 202                       ;Change animation (Def: no change)
poweradd = 32                   ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6000
id = 6202
pos = 23,-70
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6000
id = 6202
pos = 26,-85
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6000
id = 6202
pos = 31,-98
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6002
id = 6202
pos = 23,-70
facing = 1
vfacing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6002
id = 6202
pos = 26,-85
facing = 1
vfacing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6002
id = 6202
pos = 31,-98
facing = 1
vfacing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(27), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                 ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 22             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.2,-3.8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
ground.cornerpush.veloff = -0.5
air.cornerpush.veloff = -0.5
fall.recovertime = 31
guard.ctrltime = 17
nochainID = 8000

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(39), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 6                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.2,-3.8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recovertime = 31
guard.ctrltime = 22
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.93
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 5
value = 0, 4

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 203]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 203                       ;Change animation (Def: no change)
poweradd = 75                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 18,-65
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.45

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 21,-80
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.85,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 26,-93
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 18,-65
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.45

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 21,-80
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.85,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 26,-93
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.55

[State 1, ]
type = velset
trigger1 = animelem = 4
x = 6

[State 1, ]
type = PlaySnd
trigger1 = animelem = 2
value = 210, 0+random%4
channel = 0

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(55), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11, 11                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -82             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5,-5              ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-5            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 18
nochainID = 8000

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(70), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11, 11                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -82             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5,-5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-5            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
guard.ctrltime = 22
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.85
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 5

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 204]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 0
ctrl = 0
anim = 202
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 1
value = 204, 0+random%2
channel = 0

[State 1, ]
type = poweradd
trigger1 = !time
value = -1000

[State 1, ]
type = PlaySnd
trigger1 = !time
value = 150, 0

[State 215, Effect]
type = PalFX
trigger1 = !time
time = 12
add = 64,64,64

[State 215,]
type = nothitby
trigger1 = 1
value = SCA

[State 410, 1]
type = PlaySnd
trigger1 = Time = 3
value = 0, 5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 18,-65
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.45

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 21,-80
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.85,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 26,-93
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 18,-65
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.45

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 21,-80
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.85,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 26,-93
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.55

[State 410, 2]
type = HitDef
trigger1 = !movecontact && !movereversed
attr = C, NA
damage    = ceil(32)
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 11,11
sparkno = 3
sparkxy = -10,-65
hitsound   = S5,6
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -7,-3.5
air.velocity = -7,-3.5
fall = 1
fall.recovertime = 45
kill = 0
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.94
ignorehitpause = 1
persistent = 0

[State 410]
type = varset
trigger1 = movehit
var(40) = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 5812]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 15
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5813

[Statedef 5813]
type    = A
movetype = H
physics = N

[State 813,1]
type = Velset
trigger1 = time = 1 
x = 0
y = 15

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 1

[State 1200, 6]
type = explod
triggerall = time > 1
trigger1 = Pos Y >= 0
anim = F62
id = 1
pos = -17,-10
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5814

[Statedef 5814]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 0

[State 814,1]
type = Velset
trigger1 = time = 0
x = 0
y = -5

[State 814,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 814,]
type = PlayerPush
trigger1 = 1
value = 1

[State 814, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5160

[State 814, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 814, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 814, ChangeState]
type = selfstate
trigger1 = time > 10
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
[Statedef 5832]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 15
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5833

[Statedef 5833]
type    = A
movetype = H
physics = N

[State 813,1]
type = Velset
trigger1 = time = 1 
x = -3
y = 15.5

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 1

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5834

[Statedef 5834]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814,1]
type = posset
trigger1 = !time
y = 0

[State 814, 4]
type = PlaySnd
trigger1 = time = 0
value = F7, 2

[State 1200, 6]
type = explod
trigger1 = time  = 0
anim = F62
id = 1
pos = -17,0
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 814,1]
type = Velset
trigger1 = time = 0
x = -1
y = -2.5

[State 814,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 814,]
type = PlayerPush
trigger1 = 1
value = 1

[State 814, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5160

[State 814, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 814, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 814, ChangeState]
type = selfstate
trigger1 = time > 10
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
[Statedef 5836]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 831, 1]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5837

[Statedef 5837]
type    = A
movetype = H
physics = N

[State 831, 1]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 813,1]
type = Velset
trigger1 = time = 1 
x = -16
y = 27

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 1

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5838

[Statedef 5838]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814,]
type = changeanim
trigger1 = !time
value = 5160

[State 814,1]
type = posset
trigger1 = !time
y = 0

[State 1200, 6]
type = explod
trigger1 = !time
anim = F62
id = 1
pos = -17,0
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 814, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 2

[State 814,1]
type = Velset
trigger1 = time = 0
x = 0
y = -4

[State 814,]
type = PlayerPush
trigger1 = 1
value = 1

[State 814,]
type = selfstate
trigger1 = time >= 5
value = 5050

;---------------------------------------------------------------------------
[Statedef 5840]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 831, 1]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5841

[Statedef 5841]
type    = A
movetype = H
physics = N

[State 831, 1]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 813,1]
type = Velset
trigger1 = time = 1 
x = -20
y = 30

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 1

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5842

[Statedef 5842]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814,]
type = changeanim
trigger1 = !time
value = 5160

[State 814,1]
type = posset
trigger1 = !time
y = 0

[State 1200, 6]
type = explod
trigger1 = !time
anim = F62
id = 1
pos = -17,0
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 814, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 2

[State 814,1]
type = Velset
trigger1 = time = 0
x = -2
y = -7

[State 814,]
type = PlayerPush
trigger1 = 1
value = 1

[State 814,]
type = selfstate
trigger1 = time >= 5
value = 5050

;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 50
ctrl = 0
anim = 210
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 5

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 202, 0+random%4
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6001
id = 6210
pos = 25,-70
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6001
id = 6210
pos = 31,-85
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6001
id = 6210
pos = 36,-98
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 410, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
trigger1 = enemynear,movetype != H
attr = C, NA
damage    = ceil(35),0
animtype  = Hard
hitflag = MAFD
guardflag = M
pausetime = 7,7
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -2.32
air.velocity = -3,-5
down.velocity = -3,-5
air.fall = 1
fall.recovertime = 45
nochainID = 8000

[State 410, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = C, NA
damage    = ceil(68),0
animtype  = Hard
hitflag = MAFD
guardflag = M
pausetime = 12,14
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 23
guard.ctrltime = 17
ground.velocity = -2.32
air.velocity = -3,-5
down.velocity = -3,-5
fall = 1
fall.recover = 0
nochainID = 8000

[State 410, 2]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
attr = C, NA
damage    = ceil(35),0
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 12,12
sparkno = 2
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -2.32
air.velocity = -3,-5
down.velocity = -3,-5
air.fall = 1
fall.recovertime = 45
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 2

[State 1, ]
type = velset
trigger1 = animelemtime(6) < 0 
x = 8

[State 1, ]
type = velset
trigger1 = animelemtime(6) = 0 
x = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6002
id = 6211
pos = 25,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.65,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6002
id = 6211
pos = 31,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6002
id = 6211
pos = 36,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.65,0.6

[State 210, 1]
type = width
trigger1 = animelemtime(6) < 0
value = 20,15

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 4

[State 210, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Hard
damage    = ceil(33)
hitflag = MAFD
guardflag = MA
pausetime = 8,8
sparkno = 3
sparkxy = -15,-80
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = -3.5
air.velocity = -2.5,0.6
air.fall = 1
fall.recovertime = 45
guard.ctrltime = 17
nochainID = 8000

[State 210, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Hard
damage    = ceil(44)
hitflag = MAFD
guardflag = MA
pausetime = 8,9
sparkno = 3
sparkxy = -15,-80
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 27
ground.velocity = -3.5
air.velocity = -2.5,0.6
air.fall = 1
fall.recovertime = 45
guard.ctrltime = 25
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 50
ctrl = 0
anim = 212
sprpriority = 2

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 205, 0+random%3
channel = 0

[State 410, 1]
type = PlaySnd
triggerall = anim = 212
trigger1 = animelem = 3
value = 0, 5

[State 410, 1]
type = PlaySnd
triggerall = anim = 212
trigger1 = animelem = 5
value = 50, 0

[State 410, 1]
type = velset
triggerall = anim = 212
trigger1 = animelem = 5
x = 3
y = -6

[State 410, 1]
type = statetypeset
triggerall = anim = 212
trigger1 = animelem = 5
statetype = A
Physics = N

[State 410, 1]
type = veladd
triggerall = anim = 212
trigger1 = animelemtime(5) >= 0
y = .36
persistent = 1

[State 410, 1]
type = changeanim
triggerall = anim = 212
trigger1 = animelemtime(6) >= 0
trigger1 = pos Y >= 0
value = 213

[State 410, 1]
type = posset
trigger1 = anim = 213
y = 0

[State 410, 1]
type = velset
trigger1 = anim = 213
y = 0

[State 410, 1]
type = PlaySnd
trigger1 = anim = 213
value = 40, 0
persistent = 0

[State 410, 1]
type = statetypeset
trigger1 = anim = 213
statetype = S
Physics = S

[State 1200, 6]
type = explod
triggerall = anim = 212
trigger1 = AnimElem = 5
anim = 6001
id = 6210
pos = 15,-70
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.8

[State 1200, 6]
type = explod
triggerall = anim = 212
trigger1 = AnimElem = 5
anim = 6001
id = 6210
pos = 21,-85
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.8

[State 1200, 6]
type = explod
triggerall = anim = 212
trigger1 = AnimElem = 5
anim = 6001
id = 6210
pos = 26,-98
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.8

[State 410, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = C, HA
damage    = ceil(35),0
animtype  = Hard
hitflag = MAFD
guardflag = M
pausetime = 7,7
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.32,-6.5
air.velocity = -2.32,-6.5
down.velocity = -2.32,-6.5
fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1

[State 410, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = C, HA
damage    = ceil(68),0
animtype  = Hard
hitflag = MAFD
guardflag = M
pausetime = 12,14
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 23
guard.ctrltime = 20
ground.velocity = -2.32,-6.5
air.velocity = -2.32,-6.5
down.velocity = -2.32,-6.5
fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1

[State 410, 2]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = H
attr = C, HA
damage    = ceil(35),0
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 12,12
sparkno = 2
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 23
guard.ctrltime = 20
ground.velocity = -2.32,-6.5
air.velocity = -2.32,-6.5
down.velocity = -2.32,-6.5
fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1

[State 1200, 6]
type = playsnd
trigger1 = movehit
value = 1310,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5910
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = Animelem = 8
value = 1309

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 220]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 65
ctrl = 0
anim = 620
sprpriority = 2

[State 1300]
type = null;helper
triggerall = anim = 620
trigger1 = animelem = 3
helpertype = normal
stateno = 6610
ID = 6610
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .4
size.yscale = .3
persistent = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 620
trigger1 = animelem = 5
value = 220, 0+random%3
channel = 0

[State 620, 2]
type = PlaySnd
triggerall = anim = 620
trigger1 = animelem = 6
value = 0, 5

[State 620, 2]
type = PlaySnd
trigger1 = !time
value = 50, 0

[State 620, 2]
type = velset
triggerall = anim = 620
trigger1 = animelem = 3
x = 0
y = -.5

[State 1200, 6]
type = explod
triggerall = anim = 620
trigger1 = time = 22
anim = 6000
pos = -3,-60
facing = -1
sprpriority = 4
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 1200, 6]
type = explod
triggerall = anim = 620
trigger1 = time = 22
anim = 6001
pos = -3,-60
facing = -1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 620, 2]
type = velset
triggerall = anim = 620
trigger1 = time = 22
x = 0
y = 30

[State 220]
type = Velset
trigger1 = !time
trigger1 = p2dist X > 175
x = 15
y = -9

[State 220]
type = Velset
trigger1 = !time
trigger1 = p2dist X <= 175
x = p2dist X/10
y = -9

[State 620, 2]
type = playerpush
triggerall = anim = 620
trigger1 = time >= 22
value = 0

[State 620, 3]
type = HitDef
triggerall = anim = 620
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, NA
damage = ceil(49)
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 620, 3]
type = HitDef
triggerall = anim = 620
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, NA
damage = ceil(60)
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 30
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X >= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, NA
damage = ceil(49)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -6,-8.5
air.velocity = -6,-8.5
air.hittime = 30
guard.ctrltime = 19
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X >= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, NA
damage = ceil(60)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -6,-8.5
air.velocity = -6,-8.5
air.hittime = 30
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X < 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, NA
damage = ceil(49)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 6,-8.5
air.velocity = 6,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X < 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, NA
damage = ceil(60)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 6,-8.5
air.velocity = 6,-8.5
air.hittime = 30
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 1, Helper]
type = Helper
trigger1 = anim = 621
trigger1 = movehit = 1
helpertype = normal ;player
name = "burn"
ID = 6800
stateno = 6800
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = 6116
scale = 0.33,0.33
postype = p1
facing = 1
pos = 18,8
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = f61
scale = 1,1
postype = p1
facing = 1
pos = 18,8
sprpriority = 0
ownpal = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 6800, flames]
type = explod
trigger1 = anim = 621
trigger1 = animelemtime(4) < 0
anim = 6800
ID = 6800
sprpriority = 3
pos = -30+random%100,0
scale=.4,.4
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = 1
vel = 0,-4-random%8

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = 6117
scale = 0.65,0.5
postype = p1
facing = 1
pos = 25,-20
sprpriority = 5
ownpal = 1
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 621
value = 500, 6
persistent = 0

[State 1200, 6]
type = explod
trigger1 = time >= 10
trigger1 = pos Y >= 0
anim = 6806
pos = -20,10
facing = 1
sprpriority = 5
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = .55,.15
persistent = 0

[State 200, Damage Scaling]
type = targetstate
trigger1 = anim = 620
trigger1 = movehit
value = 5832
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.89
ignorehitpause = 1
persistent = 0

[State 5100, EnvShake]
type = EnvShake
trigger1 = anim = 621
time = 5
freq = 30
ampl = 3
persistent = 0

[State 600, 3]
type = changeanim
trigger1 = time >= 10
trigger1 = pos Y >= 0
value = 621
persistent = 0

[State 600, 3]
type = statetypeset
trigger1 = anim = 621
statetype = C
physics = C
persistent = 0

[State 600, 3]
type = movehitreset
trigger1 = anim = 621
persistent = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 621
trigger1 = animelem = 1
value = 40,0
persistent = 0

[State 1, ]
type = velset
trigger1 = anim = 621
y = 0

[State 1, ]
type = posset
trigger1 = anim = 621
y = 0

[State 52, 5]
type = ChangeState
triggerall = anim = 621
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 230]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 45
ctrl = 0
anim = 610
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 210, 0+random%4
channel = 0

[State 610, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 5

[State 610, 2]
type = PlaySnd
trigger1 = !time
value = 50, 0

[State 610, 2]
type = velset
trigger1 = !time
y = -3
persistent = 0

[State 610, 2]
type = velmul
trigger1 = !time
x = .6
persistent = 0

[State 610, 2]
type = statetypeset
trigger1 = time = 5
physics = A

[State 610, 2]
type = velset
trigger1 = movecontact
y = -1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 25,-65
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 31,-80
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 36,-93
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 10,-65
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 16,-80
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 21,-93
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage = ceil(49)
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -10,-55
hitsound   = S5,7
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = ceil(26*(fvar(11)))
ground.velocity = -6
air.velocity = -3,4
air.hittime  = 27
air.fall = 1
fall.recovertime = 35
nochainID = 8000
p2facing = 1
p1sprpriority = 2

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage = ceil(66)
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 12,13
sparkno = 3
sparkxy = -10,-55
hitsound   = S5,7
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 27
ground.velocity = -6
air.velocity = -3,4
air.hittime  = 30
air.fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1
p1sprpriority = 2

[State 8000, ]
type = targetstate
trigger1 = movehit
value = 5836
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.89
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = changestate
trigger1 = AnimTime = 0
value = 51

;---------------------------------------------------------------------------
[Statedef 240]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 240                       ;Change animation (Def: no change)
poweradd = 75                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6002
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6002
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6002
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6000
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6000
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6000
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1, ]
type = velset
trigger1 = animelem = 6
x = 6

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 205, 0+random%3
channel = 0

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(55), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11, 11                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -82             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 35             ;Time opponent is in hit state
ground.velocity = -5,-5              ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-5            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 35
nochainID = 8000
p2facing = 1

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(70), 0                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11, 11                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -82             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 35             ;Time opponent is in hit state
ground.velocity = -5,-5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-5            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
guard.ctrltime = 35
nochainID = 8000
p2facing = 1

[State 1200, 6]
type = playsnd
trigger1 = movehit
value = 1310,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5910
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = Animelem = 9
value = 1309

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 5

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 300]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 300                       ;Change animation (Def: no change)
poweradd = 15                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(9), 0                   ;Damage that move inflicts, guard damage
animtype = light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -25, -75               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 1                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 14              ;Time opponent is in hit state
ground.velocity = -2.4             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.7,-1.3           ;X-velocity at which opponent is pushed,
guard.ctrltime = 14
nochainID = 8000

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(14), 0                   ;Damage that move inflicts, guard damage
animtype = light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -25, -75             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 1                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 18              ;Time opponent is in hit state
ground.velocity = -2.4             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.7,-1.3           ;X-velocity at which opponent is pushed,
guard.ctrltime = 14
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.97
ignorehitpause = 1
persistent = 0

[State 300, Var]
type = varadd
trigger1 = !time
var(30) = -1

[State 300, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 23
ctrl = 0
anim = 400
sprpriority = 2

[State 300, Var]
type = varadd
trigger1 = !time
var(30) = -1

[State 400, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 1, ]
type = PlaySnd
trigger1 = time = 0
trigger1 = random <= 499
value = 200, 0+random%4
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6002
id = 6400
pos = 37,-3
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6002
id = 6400
pos = 39,-12
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6002
id = 6400
pos = 41,-19
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 400, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = C, NA
damage    = ceil(7),0
priority  = 3
animtype  = medium
hitflag = MAFD
guardflag = L
pausetime = 10,11
sparkno = 1
sparkxy = -10,-10
hitsound   = S5,5
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
guard.ctrltime = 10
ground.velocity = -1.5
air.velocity = -.5,-2
down.velocity = -.5,-2
air.fall = 1
fall.recovertime = 20
guard.ctrltime = 14
ground.cornerpush.veloff = -.2
air.cornerpush.veloff = -.2
nochainID = 8000

[State 400, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = C, NA
damage    = ceil(16),0
priority  = 3
animtype  = medium
hitflag = MAFD
guardflag = L
pausetime = 10,11
sparkno = 1
sparkxy = -10,-10
hitsound   = S5,5
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 22
guard.ctrltime = 9
ground.velocity = -1.5
air.velocity = -.25,-2
down.velocity = -.25,-2
air.fall = 1
fall.recovertime = 20
guard.ctrltime = 14
ground.cornerpush.veloff = -.2
air.cornerpush.veloff = -.2
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.99
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 202, 0+random%4
channel = 0

[State 210, 1]
type = width
trigger1 = animelem = 4
value = 18,11

[State 210, 1]
type = width
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(7) < 0
value = 28,11

[State 410, 2]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = C, NA
damage    = ceil(46),0
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 7,7
sparkno = 3
sparkxy = -10,-35
hitsound   = S5,6
guardsound = S6,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 24
guard.ctrltime = 13
ground.velocity = -3.2,0
air.velocity = -3.7,-3
down.velocity = -3.7,-3
air.fall = 1
fall.recovertime = 45
nochainID = 8000

[State 410, 2]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = C, NA
damage    = ceil(68),0
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 12,14
sparkno = 3
sparkxy = -10,-35
hitsound   = S5,6
guardsound = S6,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 30
guard.ctrltime = 13
ground.velocity = -3.2,0
air.velocity = -3.7,-3
down.velocity = -3.7,-3
air.fall = 1
fall.recovertime = 45
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 65
ctrl = 0
anim = 420
sprpriority = 2

[State 420, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 5

[State 1, ]
type = PlaySnd
trigger1 = !time
value = 210, 0+random%4
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6420
pos = 43,0
facing = -1
vfacing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6420
pos = 43,-7
facing = -1
vfacing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6420
pos = 43,-15
facing = -1
vfacing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6002
id = 6420
pos = -13,0
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6002
id = 6420
pos = -13,-7
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6002
id = 6420
pos = -13,-15
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 420, 3]
type = HitDef
trigger1 = !movecontact && !movereversed
triggerall = enemynear,movetype != A
attr = C, NA
damage    = ceil(53),0
hitflag = MAFD
guardflag = L
pausetime = 9,9
sparkno = 3
sparkxy = -5,-10
hitsound   = S5,7
guardsound = S6,0
ground.type = Trip
air.type = high
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1.5,-2.4
air.velocity = -1.2,-3
guard.velocity = -5
down.velocity = -1.1,-3
fall = 1
fall.recover = 0
guard.ctrltime = 17
nochainID = 8000

[State 420, 3]
type = HitDef
trigger1 = !movecontact && !movereversed
triggerall = enemynear,movetype = A
attr = C, NA
damage    = ceil(65),0
hitflag = MAFD
guardflag = L
pausetime = 12,15
sparkno = 3
sparkxy = -5,-10
hitsound   = S5,7
guardsound = S6,0
ground.type = Trip
air.type = high
ground.slidetime = 10
ground.hittime  = 22
ground.velocity = -1.5,-2.4
air.velocity = -1.2,-3
guard.velocity = -5
down.velocity = -1.1,-3
fall = 1
fall.recover = 0
guard.ctrltime = 17
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.96
ignorehitpause = 1
persistent = 0

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 28
ctrl = 0
anim = 600
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 200, 0+random%4
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 4

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6002
id = 6600
pos = 27,-44
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6002
id = 6600
pos = 29,-54
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6002
id = 6600
pos = 31,-60
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage    = ceil(29)
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 10,11
sparkno = 2
sparkxy = -10,-62
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = ceil(15*(fvar(11)))
ground.velocity = -2
air.velocity = -.3,-3
air.hittime = 16
air.fall = 1
fall.recovertime = 25
nochainID = 8000

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage    = ceil(39)
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 10,12
sparkno = 2
sparkxy = -10,-62
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = ceil(15*(fvar(11)))
ground.velocity = -2
air.velocity = -.3,-3
air.hittime = 16
air.fall = 1
fall.recovertime = 60
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = changestate
trigger1 = AnimTime = 0
value = 51

;---------------------------------------------------------------------------
[Statedef 601]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 28
ctrl = 0
anim = 601
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 200, 0+random%4
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 3
value = 0, 4

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6601
pos = 27,-44
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6601
pos = 29,-54
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6601
pos = 31,-60
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage    = ceil(29)
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 10,11
sparkno = 2
sparkxy = -10,-62
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = ceil(15*(fvar(11)))
ground.velocity = -2
air.velocity = -.3,-3
air.hittime = 16
air.fall = 1
fall.recovertime = 25
nochainID = 8000

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage    = ceil(39)
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 10,12
sparkno = 2
sparkxy = -10,-62
hitsound   = S5,5
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 5
ground.hittime  = ceil(15*(fvar(11)))
ground.velocity = -2
air.velocity = -.3,-3
air.hittime = 16
air.fall = 1
fall.recovertime = 60
nochainID = 8000

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = changestate
trigger1 = AnimTime = 0
value = 51

;---------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 45
ctrl = 0
anim = 610
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 5
value = 210, 0+random%4
channel = 0

[State 610, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 5

[State 610, 2]
type = velset
trigger1 = movehit
trigger1 = numtarget
trigger1 = target,stateno = 5836
y = -1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 25,-60
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.45,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 31,-75
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 36,-88
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.45,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 10,-60
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.45,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 16,-75
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.55

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 21,-88
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.45,0.55

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage = ceil(49)
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -10,-55
hitsound   = S5,7
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = ceil(26*(fvar(11)))
ground.velocity = -6
air.velocity = -3,4
air.hittime  = 27
air.fall = 1
fall.recovertime = 35
nochainID = 8000
p2facing = 1
p1sprpriority = 2

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, NA
damage = ceil(66)
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 12,13
sparkno = 3
sparkxy = -10,-55
hitsound   = S5,7
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 27
ground.velocity = -6
air.velocity = -3,4
air.hittime  = 30
air.fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1
p1sprpriority = 2

[State 8000, ]
type = targetstate
trigger1 = movehit
trigger1 = enemynear,statetype = A
value = 5836
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.92
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = changestate
trigger1 = AnimTime = 0
value = 51

;---------------------------------------------------------------------------
[Statedef 620]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 65
ctrl = 0
anim = 620
sprpriority = 2
velset = 4,-7

[State 1300]
type = null;helper
triggerall = anim = 620
trigger1 = animelem = 3
helpertype = normal
stateno = 6610
ID = 6610
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = .4
size.yscale = .3
persistent = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 620
trigger1 = animelem = 5
value = 220, 0+random%3
channel = 0

[State 620, 2]
type = PlaySnd
triggerall = anim = 620
trigger1 = animelem = 6
value = 0, 5

[State 620, 2]
type = velset
triggerall = anim = 620
trigger1 = animelem = 3
x = 0
y = -.5

[State 1200, 6]
type = explod
triggerall = anim = 620
trigger1 = time = 22
anim = 6000
pos = -3,-60
facing = -1
sprpriority = 4
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 1200, 6]
type = explod
triggerall = anim = 620
trigger1 = time = 22
anim = 6001
pos = -3,-60
facing = -1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 620, 2]
type = velset
triggerall = anim = 620
trigger1 = time = 22
x = 0
y = 30

[State 620, 2]
type = playerpush
triggerall = anim = 620
trigger1 = time >= 22
value = 0

[State 620, 3]
type = HitDef
triggerall = anim = 620
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, NA
damage = ceil(49)
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 620, 3]
type = HitDef
triggerall = anim = 620
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, NA
damage = ceil(60)
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 40
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X >= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, NA
damage = ceil(49)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -6,-8.5
air.velocity = -6,-8.5
air.hittime = 30
guard.ctrltime = 19
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X >= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, NA
damage = ceil(60)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -6,-8.5
air.velocity = -6,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X < 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, NA
damage = ceil(49)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 6,-8.5
air.velocity = 6,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X < 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, NA
damage = ceil(60)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 6,-8.5
air.velocity = 6,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 1, Helper]
type = Helper
trigger1 = anim = 621
trigger1 = movehit = 1
helpertype = normal ;player
name = "burn"
ID = 6800
stateno = 6800
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = 6116
scale = 0.33,0.33
postype = p1
facing = 1
pos = 18,8
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = f61
scale = 1,1
postype = p1
facing = 1
pos = 18,8
sprpriority = 0
ownpal = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 6800, flames]
type = explod
trigger1 = anim = 621
trigger1 = animelemtime(4) < 0
anim = 6800
ID = 6800
sprpriority = 3
pos = -30+random%100,0
scale=.4,.4
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = 1
vel = 0,-4-random%8

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = 6117
scale = 0.65,0.5
postype = p1
facing = 1
pos = 25,-20
sprpriority = 5
ownpal = 1
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 621
value = 500, 6
persistent = 0

[State 1200, 6]
type = explod
trigger1 = time >= 10
trigger1 = pos Y >= 0
anim = 6806
pos = -20,10
facing = 1
sprpriority = 5
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = .55,.15
persistent = 0

[State 200, Damage Scaling]
type = targetstate
trigger1 = anim = 620
trigger1 = movehit
value = 5832
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.89
ignorehitpause = 1
persistent = 0

[State 5100, EnvShake]
type = EnvShake
trigger1 = anim = 621
time = 5
freq = 30
ampl = 3
persistent = 0

[State 600, 3]
type = changeanim
trigger1 = time >= 10
trigger1 = pos Y >= 0
value = 621
persistent = 0

[State 600, 3]
type = statetypeset
trigger1 = anim = 621
statetype = C
physics = C
persistent = 0

[State 600, 3]
type = movehitreset
trigger1 = anim = 621
persistent = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 621
trigger1 = animelem = 1
value = 40,0
persistent = 0

[State 1, ]
type = velset
trigger1 = anim = 621
y = 0

[State 1, ]
type = posset
trigger1 = anim = 621
y = 0

[State 52, 5]
type = ChangeState
triggerall = anim = 621
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 5842]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5843

[Statedef 5843]
type    = A
movetype = H
physics = N

[State 813,1]
type = Velset
trigger1 = time = 1 
x = 0
y = 15

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 1

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5844

[Statedef 5844]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814,]
type = changeanim
trigger1 = anim != 5110
value = 5110
persistent = 0

[State 814,]
type = posset
trigger1 = 1
y = 0

[State 814,]
type = velset
trigger1 = 1
y = 0
x = 0

[State 814, 4]
type = PlaySnd
trigger1 = !time
value = F7, 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = F62
id = 1
pos = -17,0
facing = 1
sprpriority = 4
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 999
supermovetime = 999

[State 814,]
type = selfstate
triggerall = alive
trigger1 = anim = 5110
trigger1 = time >= 60
value = 5120

[State 814,]
type = selfstate
triggerall = !alive
trigger1 = anim = 5110
trigger1 = time >= 60
value = 5150

;---------------------------------------------------------------------------
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = animelemtime(4) = 2
value = 801, 1
channel = 0

[State 800, 1]
type = HitDef
triggerall = enemynear,movetype != A
Triggerall = !Movecontact && !movereversed
triggerall = var(59) = 0
trigger1 = command != "holdback"
trigger2 = Ailevel
attr = S, NT          
hitflag = M-          
priority = 1, Miss    
sparkno = -1          
p1sprpriority = 1     
p1facing = 1
p2facing = 1          
p1stateno = 801       
p2stateno = 805       
guard.dist = 0        
fall = 1           
fall.recover = 0 
nochainID = 8000   

[State 800, 1]
type = HitDef
triggerall = enemynear,movetype = A
Triggerall = !Movecontact && !movereversed
triggerall = var(59) = 0
trigger1 = command != "holdback"
trigger2 = Ailevel
attr = S, NT          
hitflag = M-          
priority = 1, Miss    
sparkno = -1          
p1sprpriority = 1     
p1facing = 1
p2facing = 1          
p1stateno = 810      
p2stateno = 811       
guard.dist = 0        
fall = 1           
fall.recover = 0 
nochainID = 8000

[State 800, 1]
type = HitDef
triggerall = enemynear,movetype != A
triggerall = !ailevel
trigger1 = !movecontact && !movereversed
trigger1 = command = "holdback"
trigger1 = var(59) = 0
attr = S, NT         
hitflag = M-          
priority = 1, Miss    
sparkno = -1          
p1sprpriority = 1     
p1facing = 1
p2facing = 1          
p1stateno = 802       
p2stateno = 805       
guard.dist = 0        
fall = 1       
fall.recover = 0 
nochainID = 8000  

[State 800, 1]
type = HitDef
triggerall = enemynear,movetype = A
triggerall = !ailevel
trigger1 = !movecontact && !movereversed
trigger1 = command = "holdback"
trigger1 = var(59) = 0
attr = S, NT         
hitflag = M-          
priority = 1, Miss    
sparkno = -1          
p1sprpriority = 1     
p1facing = 1
p2facing = 1          
p1stateno = 819       
p2stateno = 811       
guard.dist = 0        
fall = 1       
fall.recover = 0 
nochainID = 8000     

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 801]
type    = S
movetype= I
physics = N
velset = 0,0
sprpriority = -1
anim = 801

[State -2, Explod]
type = Explod
trigger1 = !time
anim = 9887
pos = -27,enemynear,const(size.head.pos.y)
postype = p2
removetime = -2
supermove = 1
facing = 1
scale = 0.25,0.25
sprpriority = 0
id = 9887
bindtime = 1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 810, Grab Sound]
type = PlaySnd
trigger1 = time = 0
value = 1, 1

[State 810, Bind 1]
type = TargetBind
trigger1 = !time
pos = 35, 0

[State 811, 1]
type = Changestate
trigger1 = time >= 1
trigger1 = ((enemy,command="z")||(enemy,command="a"&&enemy,command="b")||(enemy,command="b"&&enemy,command="c")||(enemy,command="x"&&enemy,command="y"))
value = 806

[State 811, 1]
type = Changestate
trigger1 = time >= 14
value = 810
;---------------------------------------------------------------------------
[Statedef 802]
type    = S
movetype= I
physics = N
velset = 0,0
sprpriority = -1
anim = 801

[State -2, Explod]
type = Explod
trigger1 = !time
anim = 9887
pos = -27,enemynear,const(size.head.pos.y)
postype = p2
removetime = -2
supermove = 1
facing = 1
scale = 0.25,0.25
sprpriority = 0
id = 9887
bindtime = 1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 810, Bind 1]
type = TargetBind
trigger1 = !time
pos = 35, 0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = time = 0
value = 1, 1

[State 811, 1]
type = Changestate
trigger1 = time >= 1
trigger1 = ((enemy,command="z")||(enemy,command="a"&&enemy,command="b")||(enemy,command="b"&&enemy,command="c")||(enemy,command="x"&&enemy,command="y"))
value = 806

[State 811, 1]
type = Changestate
trigger1 = time >= 14
value = 819

;---------------------------------------------------------------------------
[Statedef 805]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 811, 1]
type = playerpush
Trigger1 = 1
value = 0

[State 811, 1]
type = nothitby
Trigger1 = 1
value = SCA

[State 811, 1]
type = ChangeAnim
Trigger1 = !time
value = 150

;---------------------------------------------------------------------------
[Statedef 806]
type    = S
movetype= H
physics = N
velset = -7,0
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = F71
id = 1
pos = 30,-60
facing = -1
sprpriority = -4
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1, ]
type = PlaySnd
trigger1 = !time
value = 801, 0
channel = 0

[State 811, 1]
type = playsnd
Trigger1 = !time
value = 150, 0

[State 811, 1]
type = targetstate
Trigger1 = !time
value = 807

[State 811, 1]
type = playerpush
Trigger1 = 1
value = 0

[State 811, 1]
type = velmul
Trigger1 = time
x = 0.9

[State 811, 1]
type = nothitby
Trigger1 = 1
value = SCA

[State 811, 1]
type = ChangeAnim
Trigger1 = !time
value = 5000

[State 811, 1]
type = ChangeAnim
Trigger1 = anim = 5000
trigger1 = animtime = 0
value = 5005

[State 811, 1]
type = Changestate
Trigger1 = time >= 40
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 807]
type    = S
movetype= H
physics = N
velset = -7,0
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = F71
id = 1
pos = 30,-60
facing = -1
sprpriority = -4
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 811, 1]
type = playerpush
Trigger1 = 1
value = 0

[State 811, 1]
type = velmul
Trigger1 = time
x = 0.9

[State 811, 1]
type = nothitby
Trigger1 = 1
value = SCA

[State 811, 1]
type = ChangeAnim
Trigger1 = !time
value = 5000

[State 811, 1]
type = ChangeAnim
Trigger1 = anim = 5000
trigger1 = animtime = 0
value = 5005

[State 811, 1]
type = selfstate
Trigger1 = time >= 40
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 810]
type    = S
movetype= A
physics = S
anim = 810
poweradd = 25
sprpriority = -1
velset = 0,0

[State 810, Bind 1]
type = Targetstate
trigger1 = !time
value = 811

[State 810, Grab Sound]
type = PlaySnd
triggerall = prevstateno != [801,805]
trigger1 = time = 0
value = 1, 1

[State 810]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800, 0
channel = 0

[State 810, Bind 1]
type = TargetBind
trigger1 = time < 10
pos = 40, 0

[State 810]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 810]
type = PlaySnd
trigger1 = animelem = 9
value = 0, 5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6002
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6002
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6002
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1, ]
type = velset
trigger1 = animelem = 10
x = 6

[State 620, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NT
damage = ceil(35)
hitflag = MAFD
guardflag = 
priority = 4
pausetime = 7,7
sparkno = 2
sparkxy = -15,-60
hitsound   = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -.5,-6
air.velocity = -.5,-6
forcenofall = 1
fall = 1
fall.recover = 0
snap = 60,-1
nochainID = 8000

[State 620, 3]
type = HitDef
trigger1 = animelem = 11
attr = A, NT
damage = ceil(40)
hitflag = MAFD
guardflag = 
priority = 4
pausetime = 7,7
sparkno = 3
sparkxy = -5,-80
hitsound   = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -9,-6
air.velocity = -9,-6
forcenofall = 1
fall = 1
fall.recover = 0
nochainID = 8000

[State 210, 1]
type = targetstate
triggerall = animelemtime(11) > 0
trigger1 = movehit = 1
value = 5800
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
triggerall = animelemtime(11) > 0
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.85
ignorehitpause = 1
persistent = 0

[State 810, State End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 819]
type    = S
movetype= A
physics = S
anim = 810
poweradd = 25
sprpriority = -1
velset = 0,0

[State 810, Bind 1]
type = turn
trigger1 = !time

[State 810, Bind 1]
type = Targetstate
trigger1 = !time
value = 811

[State 810, Grab Sound]
type = PlaySnd
triggerall = prevstateno != [801,805]
trigger1 = time = 0
value = 1, 1

[State 810]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800, 0
channel = 0

[State 810, Bind 1]
type = TargetBind
trigger1 = time < 10
pos = 40, 0

[State 810]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 810]
type = PlaySnd
trigger1 = animelem = 9
value = 0, 5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6002
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6002
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6002
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1, ]
type = velset
trigger1 = animelem = 10
x = 6

[State 620, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NT
damage = ceil(35)
hitflag = MAFD
guardflag = 
priority = 4
pausetime = 7,7
sparkno = 2
sparkxy = -15,-60
hitsound   = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -.5,-6
air.velocity = -.5,-6
forcenofall = 1
fall = 1
fall.recover = 0
snap = 60,-1
nochainID = 8000

[State 620, 3]
type = HitDef
trigger1 = animelem = 11
attr = A, NT
damage = ceil(40)
hitflag = MAFD
guardflag = 
priority = 4
pausetime = 7,7
sparkno = 3
sparkxy = -5,-80
hitsound   = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -9,-6
air.velocity = -9,-6
forcenofall = 1
fall = 1
fall.recover = 0
nochainID = 8000

[State 210, 1]
type = targetstate
triggerall = animelemtime(11) > 0
trigger1 = movehit = 1
value = 5800
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
triggerall = animelemtime(11) > 0
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.85
ignorehitpause = 1
persistent = 0

[State 810, State End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 811]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 3000,]
type = turn
trigger1 = p2dist X < 0

[State 811, 1]
type = ChangeAnim
Trigger1 = !time
value = 5000

[State 811, 1]
type = ChangeAnim
Trigger1 = anim = 5000
trigger1 = animtime = 0
value = 5005

;---------------------------------------------------------------------------
[Statedef 812]
type    = A
movetype = H
physics = N

[State 812,1]
type = posset
trigger1 = time < 30
y = -10

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5160;5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 813

[Statedef 813]
type    = A
movetype = H
physics = N

[State 813,1]
type = Velset
trigger1 = time = 1 
x = -1
y = 0.5

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1200, 6]
type = explod
trigger1 = Pos Y >= 0
anim = F60
id = 1
pos = -17,0
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 814

[Statedef 814]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 0

[State 814,1]
type = Velset
trigger1 = time = 0
x = -0.5
y = -5.5

[State 814,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 814,]
type = PlayerPush
trigger1 = 1
value = 0

[State 814, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 814, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 814, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 814, ChangeState]
type = selfstate
trigger1 = time > 10
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 820]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 820
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = animelemtime(4) = 2
value = 801, 0+random%2
channel = 0

[State 800, 2]
type = velset
Trigger1 = Time < 16
x = 2

[State 800, 2]
type = velset
Trigger1 = Time >= 16
Trigger1 = Time < 33
x = 1

[State 800, 2]
type = velset
Trigger1 = Time = 33
x = 0

[State 6061, Effect]
type = Explod
trigger1 = !time
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -5,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 800, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = p2stateno != [150,151]
attr = S, NT        
hitflag = HAFD        
priority = 7, Miss    
sparkno = -1          
p1sprpriority = 1     
p1facing = 1
p2facing = 1          
p1stateno = 830       
p2stateno = 831       
guard.dist = 0        
;fall = 1        
nochainID = 8000      

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 830]
type    = S
movetype= A
physics = N
anim = 830
poweradd = 15
sprpriority = -1
velset = 0,0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = time = 0
value = 1, 1

[State 810]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800, 2
channel = 0

[State 810, Bind 1]
type = TargetBind
trigger1 = !time
pos = 35, 0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2

[State 620, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NT
damage = ceil(65)
hitflag = MAFD
guardflag = 
priority = 4
pausetime = 7,7
sparkno = 2
sparkxy = -35,-70
hitsound   = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -.5,-6
air.velocity = -.5,-6
forcenofall = 1
fall = 1
fall.recover = 0
snap = 60,-1
nochainID = 8000

[State 210, 1]
type = targetstate
trigger1 = movehit = 1
value = 8999
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.91
ignorehitpause = 1
persistent = 0

[State 810, State End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 831]
type    = S
movetype= H
physics = N
velset = 0,0

[State 831, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5006

;---------------------------------------------------------------------------
[Statedef 840]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 840
sprpriority = 2

[State 800, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
attr = S, NT        
hitflag = AF        
priority = 7, Miss    
sparkno = -1          
p1sprpriority = 1     
p1facing = 1
p2facing = 1          
p1stateno = 850       
p2stateno = 851       
guard.dist = 0        
fall = 1           
fall.recover = 0 
nochainID = 8000   

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 51

;---------------------------------------------------------------------------
[Statedef 850]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 850
poweradd = 0
sprpriority = -1

[State 1, ]
type = PlaySnd
trigger1 = animelem = 2
value = 800, 2
channel = 0

[State 830, Grab Sound]
type = PlaySnd
trigger1 = time = 0
value = 1, 1

[State 830, Bind 1]
type = TargetBind
trigger1 = !time
pos = 30, 0

[State 810, Grab Sound]
type = PlaySnd
triggerall = prevstateno != [801,805]
trigger1 = time = 0
value = 1, 1

[State 810]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800, 1
channel = 0

[State 810, Bind 1]
type = TargetBind
trigger1 = time < 10
pos = 40, 0

[State 810]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 810]
type = PlaySnd
trigger1 = animelem = 9
value = 0, 5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6001
id = 6850
pos = 25,-65
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6001
id = 6850
pos = 31,-80
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6001
id = 6850
pos = 36,-93
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6850
pos = 10,-65
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6850
pos = 16,-80
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6000
id = 6850
pos = 21,-93
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1, ]
type = velset
trigger1 = animelem = 2
x = 1.25
y = -6

[State 1, ]
type = statetypeset
trigger1 = animelem = 6
physics = A

[State 620, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NT
damage = ceil(35)
hitflag = MAFD
guardflag = 
priority = 4
pausetime = 7,7
sparkno = 2
sparkxy = -15,-60
hitsound   = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -1.5,-8
air.velocity = -1.5,-8
forcenofall = 1
fall = 1
fall.recover = 0
snap = 40,-10
nochainID = 8000

[State 620, 3]
type = HitDef
trigger1 = animelem = 11
attr = A, NT
damage = ceil(40)
hitflag = MAFD
guardflag = 
priority = 4
pausetime = 7,7
sparkno = 3
sparkxy = -5,-80
hitsound   = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -9,-6
air.velocity = -9,-6
forcenofall = 1
fall = 1
fall.recover = 0
nochainID = 8000

[State 210, 1]
type = targetstate
triggerall = animelemtime(11) > 0
trigger1 = movehit = 1
value = 852
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
triggerall = animelemtime(11) > 0
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.8
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
[Statedef 851]
type    = S
movetype= H
physics = N
velset = 0,0

[State 831, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5030

;---------------------------------------------------------------------------
[Statedef 852]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = ChangeAnim
Trigger1 = time = 0
Value = 5035

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -1
y = 15

[State 814, 4]
type = PlaySnd
trigger1 = anim = 5110
value = F7, 2
persistent = 0

[State 1200, 6]
type = explod
trigger1 = anim = 5110
anim = F62
id = 1
pos = -8,0
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 999
supermovetime = 999

[State -1]
Type = ChangeAnim
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 5110

[State 0, PosSet]
type = PosSet
trigger1 = anim = 5110
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = anim = 5110
y = 0
x = 0

[State 814,]
type = selfstate
triggerall = alive
triggerall = enemynear,stateno != 850
trigger1 = anim = 5110
trigger1 = time >= 30
value = 5120

[State 814,]
type = selfstate
triggerall = !alive
trigger1 = anim = 5110
trigger1 = time >= 35
value = 5150

;---------------------------------------------------------------------------
[Statedef 5800]
type    = A
movetype = H
physics = N

[State 1403,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 1403,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1403, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 1403, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5801

[Statedef 5801]
type    = A
movetype = H
physics = N

[State 1404,1]
type = Velset
trigger1 = time = 1 
x = -25
y = -3.5

[State 1404,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 1404,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1404, ChangeState]
type = selfstate
trigger1 = time >= 23
trigger1 = Pos Y >= 0
value = 5100

[State 1200, 6]
type = explod
trigger1 = BackEdgeBodyDist <= 5
trigger2 = FrontEdgeBodyDist <= 5
anim = F70
id = 1
pos = 0,-50
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1404, 2]
type = ChangeState
triggerall = time > 1
trigger1 = BackEdgeBodyDist <= 5
trigger2 = FrontEdgeBodyDist <= 5
value = 5802

[Statedef 5802]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 1405, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 0

[State 1405,1]
type = Velset
trigger1 = time = 0
x = 3
y = -7

[State 1405,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 1405,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1405, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 1405, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 1405, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 1405, ChangeState]
type = selfstate
trigger1 = time > 70
value = 5050

[State 1405, ChangeState]
type = changestate
trigger1 = time > 10
trigger1 = Pos Y >= 0
value = 6100

;---------------------------------------------------------------------------
[Statedef 5860]
type    = A
movetype = H
physics = N

[State 1403,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 1405,]
type = PlayerPush
trigger1 = 1
value = 1

[State 1403,]
type = screenbound
trigger1 = 1
movecamera = 0,1

[State 1403, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 1403, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5861

[Statedef 5861]
type    = A
movetype = H
physics = N

[State 1403,]
type = screenbound
trigger1 = 1
movecamera = 0,1

[State 1404,1]
type = Velset
trigger1 = time = 1 
x = -35

[State 1404,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1404, 2]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 5
trigger2 = FrontEdgeBodyDist <= 5
value = 5862

[Statedef 5862]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 1405, 4]
type = PlaySnd
trigger1 = !time
value = F7, 1

[State 1200, 6]
type = explod
triggerall = !time
trigger1 = BackEdgeBodyDist <= 5
trigger2 = FrontEdgeBodyDist <= 5
anim = F71
id = 1
pos = -5,-50
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1405,1]
type = Velset
trigger1 = time = 0
x = 0.3
y = -10.3

[State 1405,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 1405,]
type = PlayerPush
trigger1 = 1
value = 1

[State 1405, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 1405, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 1405, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 1405, ChangeState]
type = selfstate
trigger1 = time > 40
value = 5050

[State 1405, ChangeState]
type = selfstate
trigger1 = time > 1
value = 5050

;---------------------------------------------------------------------------
[Statedef 5820]
type    = A
movetype = H
physics = N

[State 1403,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 1403,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1403, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 1403, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5821

[Statedef 5821]
type    = A
movetype = H
physics = N

[State 1404,1]
type = Velset
trigger1 = time = 1 
x = -25
y = -3.5

[State 1404,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 1404,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1404, ChangeState]
type = selfstate
trigger1 = time >= 23
trigger1 = Pos Y >= 0
value = 5100

[State 1200, 6]
type = explod
trigger1 = BackEdgeBodyDist <= 5
trigger2 = FrontEdgeBodyDist <= 5
anim = F70
id = 1
pos = 0,-50
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1404, 2]
type = ChangeState
triggerall = time > 1
trigger1 = BackEdgeBodyDist <= 5
trigger2 = FrontEdgeBodyDist <= 5
value = 5822

[Statedef 5822]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 1405, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 0

[State 1405,1]
type = Velset
trigger1 = time = 0
x = 1
y = -3

[State 1405,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 1405,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1405, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 1405, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 1405, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 1405, ChangeState]
type = selfstate
trigger1 = time > 20
value = 5050

[State 1405, ChangeState]
type = selfstate
trigger1 = time > 10
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1000]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 75
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1300, 1]
type = nothitby
trigger1 = animelemtime(7) < 0
value = SCA

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 500, 0

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 500, 3

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 500, 8

[State 1300, 1]
type = PlaySnd
trigger1 = !time
value = 1000, 0+random%2
channel = 0

[State 1300, 1]
type = velset
trigger1 = animelem = 14
y = -4

[State 1300, 1]
type = statetypeset
trigger1 = animelem = 14
physics = A

[State 1200, 6]
type = explod
trigger1 = AnimElemtime(3) >= 0
trigger1 = AnimElemtime(14) < 0
anim = 6802
pos = -40+random%80,0-random%120
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
scale = 1,1

[State 1200, 6]
type = explod
triggerall = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 0
anim = 6000
pos = 0,-130+ceil(time*2.5)
facing = -1
sprpriority = 4
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 1200, 6]
type = explod
trigger1 = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 5
anim = 6000
pos = 0,-130+ceil(time*2.5)
facing = 1
sprpriority = 4
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 1200, 6]
type = explod
triggerall = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 0
anim = 6001
pos = 0,-130+ceil(time*2.5)
facing = -1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 1200, 6]
type = explod
trigger1 = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 5
anim = 6001
pos = 0,-130+ceil(time*2.5)
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 6800, flames]
type = explod
triggerall = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 =numexplod(6800) < 4
anim = 6800
ID = 6800
sprpriority = 3
postype = p1
random=90,90
scale=.5,.5
ownpal = 1
pausemovetime = 999
supermovetime = 999
pos = 0,-75
vel = 0,-6-random%8
bindtime = 1

[State 1300]
type = helper
trigger1 = animelem = 4
helpertype = normal
stateno = 6105
ID = 6100
name = "Bloom"
postype = p1
pos = 0, -70
ownpal = 1

[State 201, 1]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = p2dist X >= 0
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 14, 16                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 40             ;Time opponent is in hit state
guard.ctrltime = 35
ground.velocity = -7,-6            ;Velocity at which opponent is pushed
airguard.velocity = -7,-6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 201, 1]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = p2dist X >= 0
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(130), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M                  ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 16, 18                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 40             ;Time opponent is in hit state
guard.ctrltime = 35
ground.velocity = -7,-6              ;Velocity at which opponent is pushed
airguard.velocity = -7,6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 50
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 201, 1]
type = HitDef
triggerall = p2dist X < 0
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 14, 16                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 40             ;Time opponent is in hit state
guard.ctrltime = 35
ground.velocity = 7,-6            ;Velocity at which opponent is pushed
airguard.velocity = 7,-6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 201, 1]
type = HitDef
triggerall = p2dist X < 0
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(130), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M                  ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 16, 18                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 40            ;Time opponent is in hit state
guard.ctrltime = 35
ground.velocity = 7,-6              ;Velocity at which opponent is pushed
airguard.velocity = 7,-6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 50
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 200, Damage Scaling]
type = varset
triggerall = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.8
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 1001]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 75
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1300, 1]
type = nothitby
trigger1 = animelemtime(7) < 0
value = SCA

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 1000, 0

[State 1300, 1]
type = PlaySnd
trigger1 = !time
value = 1001, 0+random%3
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElemtime(3) >= 0
trigger1 = AnimElemtime(14) < 0
anim = 6802
pos = -40+random%80,0-random%120
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
scale = 1,1

[State 1200, 6]
type = explod
triggerall = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 0
anim = 6000
pos = 0,-130+ceil(time*2.5)
facing = -1
sprpriority = 4
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 1200, 6]
type = explod
trigger1 = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 5
anim = 6000
pos = 0,-130+ceil(time*2.5)
facing = 1
sprpriority = 4
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 1200, 6]
type = explod
triggerall = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 0
anim = 6001
pos = 0,-130+ceil(time*2.5)
facing = -1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 1200, 6]
type = explod
trigger1 = AnimElemtime(4) >= 0
triggerall = AnimElemtime(14) < 0
trigger1 = time%10 = 5
anim = 6001
pos = 0,-130+ceil(time*2.5)
facing = 1
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,-0.5

[State 1300]
type = helper
trigger1 = animelem = 4
helpertype = normal
stateno = 6105
ID = 6100
name = "Bloom"
postype = p1
pos = 0, -70
ownpal = 1

[State 201, 1]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = p2dist X >= 0
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 14, 14                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 29             ;Time opponent is in hit state
guard.ctrltime = 24
ground.velocity = -7,-6            ;Velocity at which opponent is pushed
airguard.velocity = -7,-6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 201, 1]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = p2dist X >= 0
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(130), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                  ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 16, 16                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 29             ;Time opponent is in hit state
guard.ctrltime = 24
ground.velocity = -7,-6              ;Velocity at which opponent is pushed
airguard.velocity = -7,6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 50
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 201, 1]
type = HitDef
triggerall = p2dist X < 0
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 14, 14                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 29             ;Time opponent is in hit state
guard.ctrltime = 24
ground.velocity = 7,-6            ;Velocity at which opponent is pushed
airguard.velocity = 7,-6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 201, 1]
type = HitDef
triggerall = p2dist X < 0
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(130), 8                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                  ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 16, 16                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -60             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 4                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 29             ;Time opponent is in hit state
guard.ctrltime = 24
ground.velocity = 7,-6              ;Velocity at which opponent is pushed
airguard.velocity = 7,-6      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 7,-6            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 50
guard.ctrltime = 22
ground.cornerpush.veloff = -45
air.cornerpush.veloff = -45
envshake.time = 10
envshake.freq = 30
nochainID = 8000

[State 200, Damage Scaling]
type = varset
triggerall = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.8
ignorehitpause = 1
persistent = 0

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 1010]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
anim = 1010
ctrl = 0
sprpriority = 2

[State 1, ]
type = velset
trigger1 = !time
trigger2 = animelem = 7
y = -3

[State 1, ]
type = velmul
trigger1 = !time
trigger2 = animelem = 7
x = 0.7

[State 1, ]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 3

[State 1300, 1]
type = PlaySnd
trigger1 = !time
value = 1001, 0
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 1012
id = 1012
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1300]
type = helper
trigger1 = animelem = 7
helpertype = normal
stateno = 1060
ID = 1061
name = "Breunor"
postype = p1
pos = 15, -62
ownpal = 1

[State 200, Damage Scaling]
type = varset
triggerall = numhelper(1061) > 0
trigger1 = helper(1061),movehit
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1011]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
anim = 1010
ctrl = 0
sprpriority = 2

[State 1, ]
type = velset
trigger1 = !time
trigger2 = animelem = 7
y = -3

[State 1, ]
type = velmul
trigger1 = !time
trigger2 = animelem = 7
x = 0.7

[State 1, ]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 3

[State 1300, 1]
type = PlaySnd
trigger1 = !time
value = 1001, 0
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 1012
id = 1012
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1300]
type = helper
trigger1 = animelem = 7
helpertype = normal
stateno = 1060
ID = 1060
name = "Breunor"
postype = p1
pos = 15, -62
ownpal = 1

[State 200, Damage Scaling]
type = varset
triggerall = numhelper(1060) > 0
trigger1 = helper(1060),movehit
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1012]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 55
anim = 1011
ctrl = 0
sprpriority = 2

[State 1, ]
type = velset
trigger1 = !time
trigger2 = animelem = 5
y = -3

[State 1, ]
type = velmul
trigger1 = !time
trigger2 = animelem = 5
x = 0.7

[State 1, ]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3

[State 1300, 1]
type = PlaySnd
trigger1 = !time
value = 1001, 1
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 1013
id = 1013
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1300]
type = helper
trigger1 = animelem = 5
helpertype = normal
stateno = 1060
ID = 1061
name = "Breunor"
postype = p1
pos = 15, -62
ownpal = 1

[State 200, Damage Scaling]
type = varset
triggerall = numhelper(1061) > 0
trigger1 = helper(1061),movehit
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1013]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 55
anim = 1011
ctrl = 0
sprpriority = 2

[State 1, ]
type = velset
trigger1 = !time
trigger2 = animelem = 5
y = -3

[State 1, ]
type = velmul
trigger1 = !time
trigger2 = animelem = 5
x = 0.7

[State 1, ]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3

[State 1300, 1]
type = PlaySnd
trigger1 = !time
value = 1001, 1
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 1013
id = 1013
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1300]
type = helper
trigger1 = animelem = 5
helpertype = normal
stateno = 1060
ID = 1060
name = "Breunor"
postype = p1
pos = 15, -62
ownpal = 1

[State 200, Damage Scaling]
type = varset
triggerall = numhelper(1060) > 0
trigger1 = helper(1060),movehit
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1015]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 55
anim = 1015
ctrl = 0
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-75
facing = 1
sprpriority = 3
bindtime = 4
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1300, Blink]
type = PalFX
trigger1 = Time = 0
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = time = 0
value = 3000, 0

[State 1300, 1]
type = poweradd
trigger1 = Time = 0
value = -500

[State 1, ]
type = velset
trigger1 = !time
trigger2 = animelem = 4
trigger3 = animelem = 10
y = -3

[State 1, ]
type = velmul
trigger1 = !time
trigger2 = animelem = 4
trigger3 = animelem = 10
x = 0.7

[State 1, ]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 3

[State 1, ]
type = PlaySnd
trigger1 = animelem = 8
value = 0, 4

[State 1300, 1]
type = PlaySnd
trigger1 = !time
value = 1000, 2
channel = 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 1012
id = 1012
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.33,0.33

[State 1300]
type = helper
trigger1 = animelem = 4
helpertype = normal
stateno = 1060
ID = 1060
name = "Breunor"
postype = p1
pos = 15, -62
ownpal = 1

[State 1300]
type = helper
trigger1 = animelem = 10
helpertype = normal
stateno = 1060
ID = 1061
name = "Breunor"
postype = p1
pos = 15, -62
ownpal = 1

[State 200, Damage Scaling]
type = varset
trigger1 = numhelper(1060) > 0
trigger1 = helper(1060),movehit
trigger2 = numhelper(1061) > 0
trigger2 = helper(1061),movehit
fvar(4) = fvar(4)*0.89
ignorehitpause = 1
persistent = 0

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1020]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-75
facing = 1
sprpriority = 3
bindtime = 4
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1300, Blink]
type = PalFX
trigger1 = animelem = 6
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = animelem = 6
value = 3000, 0

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 6
value = 1000, 0+random%2
channel = 0

[State 1300, 1]
type = poweradd
trigger1 = Time = 0
value = -500

[State 1, ]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 2

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 102, 0

[State 200, 2]
type = posset
trigger1 = animelemtime(4) = 7
y = (enemynear,pos Y)-5
x = (enemynear,pos X) - (90*facing)

[State 1300, 1]
type = statetypeset
trigger1 = animelem = 5
statetype = A
physics = A

[State 1300, 1]
type = velset
trigger1 = animelem = 5
x = 7
y = -5

[State 1, Effect]
type = Explod
trigger1 = animelem = 5
anim = 6150
scale = 0.25,0.25
postype = p1
facing = 1
pos = 0,-5
ownpal = 1
sprpriority = 0
bindtime = 1
removetime = 14
ignorehitpause = 1

[State 810]
type = PlaySnd
trigger1 = AnimElem = 3
value = 160, 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6160
pos = 0,-60
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.315,0.5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6161
pos = 0,-60
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.315,0.315

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = Time = 0
attr = A, ST
damage = ceil(50),3
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 8,20
guard.pausetime = 8,8
sparkno = 2
sparkxy = -10,-45
hitsound   = S5,4
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 27
ground.velocity = -6
air.velocity = -3,-4
air.hittime  = 27
fall = 1
fall.recovertime = 40

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = Time = 0
attr = A, ST
damage = ceil(90),2
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 8,20
guard.pausetime = 8,8
sparkno = 2
sparkxy = -10,-45
hitsound   = S5,4
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 27
ground.velocity = -6
air.velocity = -3,-4
air.hittime  = 27
fall = 1
fall.recovertime = 40

[State 1300, 6]
type = targetState
trigger1 = movehit
value = 1011

[State 1300, 6]
type = ChangeState
trigger1 = movehit
value = 1010

;---------------------------------------------------------------------------
[Statedef 1021]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1021
ctrl = 0
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-75
facing = 1
sprpriority = 3
bindtime = 4
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1300, Blink]
type = PalFX
trigger1 = animelem = 6
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = animelem = 6
value = 3000, 0

[State 1300, 1]
type = poweradd
trigger1 = Time = 0
value = -500

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 6
value = 1000, 0+random%2
channel = 0

[State 1, ]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 2

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 102, 0

[State 200, 2]
type = posset
trigger1 = animelemtime(4) = 7
y = (enemynear,pos Y)-5
x = (enemynear,pos X) - (90*facing)

[State 1300, 1]
type = statetypeset
trigger1 = animelem = 5
statetype = A
physics = A

[State 1300, 1]
type = velset
trigger1 = animelem = 5
x = 7
y = -5

[State 1, Effect]
type = Explod
trigger1 = animelem = 5
anim = 6150
scale = 0.25,0.25
postype = p1
facing = 1
pos = 0,-5
ownpal = 1
sprpriority = 0
bindtime = 1
removetime = 14
ignorehitpause = 1

[State 810]
type = PlaySnd
trigger1 = AnimElem = 3
value = 160, 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
anim = 6160
pos = 0,-60
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.315,0.5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6161
pos = 0,-60
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.315,0.315

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = Time = 0
attr = A, ST
damage = ceil(50),3
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 8,20
guard.pausetime = 8,8
sparkno = 2
sparkxy = -10,-45
hitsound   = S5,4
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 27
ground.velocity = -6
air.velocity = -3,-4
air.hittime  = 27
fall = 1
fall.recovertime = 40

[State 610, 3]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = Time = 0
attr = A, ST
damage = ceil(90),2
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 8,20
guard.pausetime = 8,8
sparkno = 2
sparkxy = -10,-45
hitsound   = S5,4
guardsound = S6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 27
ground.velocity = -6
air.velocity = -3,-4
air.hittime  = 27
fall = 1
fall.recovertime = 40

[State 1300, 6]
type = targetState
trigger1 = movehit
value = 1011

[State 1300, 6]
type = ChangeState
trigger1 = movehit
value = 1010
;---------------------------------------------------------------------------
[Statedef 5825]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 15
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5080

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5826

[Statedef 5826]
type    = A
movetype = H
physics = N

[State 813,1]
type = Velset
trigger1 = time = 1 
x = -4
y = 15

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 1

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5827

[Statedef 5827]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814,1]
type = Velset
trigger1 = !time
x = -1
y = -8

[State 814,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 814,]
type = PlayerPush
trigger1 = 1
value = 1

[State 814, 4]
type = PlaySnd
trigger1 = !time
value = F7, 2
persistent = 0

[State 1200, 6]
type = explod
trigger1 = !time
anim = F62
id = 1
pos = -10,-10
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 999
supermovetime = 999

[State 814, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5160

[State 814, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 814, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 814, ChangeState]
type = selfstate
trigger1 = !time
value = 5035

;---------------------------------------------------------------------------
[Statedef 1100]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1100                     ;Change animation (Def: no change)
poweradd = 35                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 600, 1]
type = PlaySnd
trigger1 = !time
value = 1100,0
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 102,0

[State 1, Effect]
type = Explod
trigger1 = animelem = 4
anim = 6150
scale = 0.3,0.3
postype = p1
facing = 1
pos = 0,5
ownpal = 1
sprpriority = 3
bindtime = 1
ignorehitpause = 1 

[State 6061, Effect]
type = Explod
trigger1 = animelem = 5
anim = 6225
scale = .35,.4
postype = p1
facing = 1
pos = 0,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-43
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-49
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-54
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 300, 2]
type = velset
trigger1 = animelem = 4
x = 25

[State 300, 2]
type = width
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(5) < 0
player = 22,11

[State 300, 2]
type = velmul
trigger1 = animelemtime(6) >= 0
x = 0.99

[State 300, 2]
type = playerpush
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(9) < 0
value = 0
ignorehitpause = 1

[State 300, 2]
type = null;nothitby
trigger1 = animelemtime(8) < 0
value = SCA
ignorehitpause = 1

[State 100, 1]
type = playsnd
trigger1 = animelem = 9
value = 101,0

[State 6061, Effect]
type = Explod
trigger1 = animelem = 9
anim = 6005
scale = .3,.3
postype = p1
facing = -1
pos = 20,1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(65), 2                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -35               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 17
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-4        ;X-velocity at which opponent is pushed,
fall = 1
fall.recovertime = ceil(10+65*fvar(4))
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(86), 2                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -35               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-9        ;X-velocity at which opponent is pushed,
guard.ctrltime = 10
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1101]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1101                     ;Change animation (Def: no change)
poweradd = 45                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1100,0
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 102,0

[State 1, Effect]
type = Explod
trigger1 = animelem = 4
anim = 6150
scale = 0.3,0.3
postype = p1
facing = 1
pos = 0,5
ownpal = 1
sprpriority = 3
bindtime = 1
ignorehitpause = 1 

[State 6061, Effect]
type = Explod
trigger1 = animelem = 5
anim = 6225
scale = .35,.4
postype = p1
facing = 1
pos = 0,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-43
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-49
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-54
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 300, 2]
type = velset
trigger1 = animelem = 4
x = 35

[State 300, 2]
type = width
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(5) < 0
player = 22,11

[State 300, 2]
type = playerpush
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(9) < 0
value = 0
ignorehitpause = 1

[State 300, 2]
type = null;nothitby
trigger1 = animelemtime(8) < 0
value = SCA
ignorehitpause = 1

[State 100, 1]
type = playsnd
trigger1 = animelem = 9
value = 101,0

[State 6061, Effect]
type = Explod
trigger1 = animelem = 9
anim = 6005
scale = .3,.3
postype = p1
facing = -1
pos = 25,1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(75), 2                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -35               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 20
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-4        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = ceil(10+80*fvar(4))
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(108), 2                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -35               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-9        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1102]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1100                     ;Change animation (Def: no change)
poweradd = 0                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-68
facing = 1
sprpriority = 3
bindtime = 4
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1300, Blink]
type = PalFX
trigger1 = time = 1
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = time = 1
value = 3000, 0

[State 1300, 1]
type = poweradd
trigger1 = time = 1
value = -500

[State 600, 1]
type = PlaySnd
trigger1 = !time
value = 1100,1
channel = 0

[State 600, 1]
type = nothitby
trigger1 = animelemtime(8) < 0
value = ,AP,AT

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 102,0

[State 1, Effect]
type = Explod
trigger1 = animelem = 4
anim = 6150
scale = 0.3,0.3
postype = p1
facing = 1
pos = 0,5
ownpal = 1
sprpriority = 3
bindtime = 1
ignorehitpause = 1 

[State 6061, Effect]
type = Explod
trigger1 = animelem = 5
anim = 6225
scale = .35,.4
postype = p1
facing = 1
pos = 0,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-43
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-49
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.9,0.15

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6110
pos = 5,-54
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.15

[State 300, 2]
type = velset
trigger1 = animelem = 4
x = 40

[State 300, 2]
type = width
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(5) < 0
player = 22,11

[State 300, 2]
type = playerpush
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(9) < 0
value = 0
ignorehitpause = 1

[State 300, 2]
type = null;nothitby
trigger1 = animelemtime(8) < 0
value = SCA
ignorehitpause = 1

[State 100, 1]
type = playsnd
trigger1 = animelem = 9
value = 101,0

[State 6061, Effect]
type = Explod
trigger1 = animelem = 9
anim = 6005
scale = .3,.3
postype = p1
facing = -1
pos = 25,1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 3                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -35               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-9        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1
getpower = 0,0

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(110), 3                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -35              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-9        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1
getpower = 0,0

[State 1200, 6]
type = playsnd
trigger1 = movehit
value = 1310,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5910
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = AnimTime = 0
value = 1309

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.94
ignorehitpause = 1
persistent = 0

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1105]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 70
anim = 1105
ctrl = 0
sprpriority = 2

[State 200]
type = varset
trigger1 = !time
var(4) = ceil(vel x)
ignorehitpause = 1
persistent = 0

[State 200]
type = playsnd
trigger1 = !time
value = 1102,0+random%2
channel = 0

[State 200]
type = velset
trigger1 = !time
x = 0
y = 0

[State 1300]
type = helper
trigger1 = animelem = 6
helpertype = normal
stateno = 2110
ID = 2110
name = "Whirling Fan"
postype = p1
pos = 20, -82
ownpal = 1
size.xscale = .5
size.yscale = .2

[State 200, Damage Scaling]
type = varset
triggerall = numhelper(2110) > 0
trigger1 = helper(2110),movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 200]
type = velset
trigger1 = animelem = 7
x = var(4)

[State 200]
type = statetypeset
trigger1 = animelem = 7
physics = A

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1106]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 70
anim = 1105
ctrl = 0
sprpriority = 2

[State 200]
type = varset
trigger1 = !time
var(4) = ceil(vel x)
ignorehitpause = 1
persistent = 0

[State 200]
type = playsnd
trigger1 = !time
value = 1102,0+random%2
channel = 0

[State 200]
type = velset
trigger1 = !time
x = 0
y = 0

[State 1300]
type = helper
trigger1 = animelem = 6
helpertype = normal
stateno = 2115
ID = 2115
name = "Whirling Fan"
postype = p1
pos = 20, -82
ownpal = 1
size.xscale = .5
size.yscale = .2

[State 200, Damage Scaling]
type = varset
triggerall = numhelper(2110) > 0
trigger1 = helper(2110),movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 200]
type = velset
trigger1 = animelem = 7
x = var(4)

[State 200]
type = statetypeset
trigger1 = animelem = 7
physics = A

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1110]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 0
anim = 1106
ctrl = 0
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-75
facing = 1
sprpriority = 3
bindtime = 4
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1300, Blink]
type = PalFX
trigger1 = Time = 0
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = time = 0
value = 3000, 0

[State 1300, 1]
type = poweradd
trigger1 = Time = 0
value = -500

[State 200]
type = varset
trigger1 = !time
var(4) = ceil(vel x)
ignorehitpause = 1
persistent = 0

[State 200]
type = playsnd
trigger1 = !time
value = 1102,2+random%2
channel = 0

[State 200]
type = velset
trigger1 = !time
x = 0
y = 0

[State 1300]
type = helper
trigger1 = animelem = 6
helpertype = normal
stateno = 2110
ID = 2110
name = "Whirling Fan"
postype = p1
pos = 20, -82
ownpal = 1
size.xscale = .5
size.yscale = .2

[State 1300]
type = helper
trigger1 = animelem = 6
helpertype = normal
stateno = 2115
ID = 2115
name = "Whirling Fan"
postype = p1
pos = 20, -82
ownpal = 1
size.xscale = .5
size.yscale = .2

[State 1300]
type = helper
trigger1 = animelem = 6
helpertype = normal
stateno = 2116
ID = 2116
name = "Whirling Fan"
postype = p1
pos = 20, -82
ownpal = 1
size.xscale = .5
size.yscale = .2

[State 200, Damage Scaling]
type = varset
triggerall = numhelper(2110) > 0
trigger1 = helper(2110),movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 200]
type = velset
trigger1 = animelem = 7
x = var(4)

[State 200]
type = statetypeset
trigger1 = animelem = 7
physics = A

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 5145]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = -1

[State 0, HitVelSet]
type = posadd
trigger1 =  !time
y = -5

[State 0, HitVelSet]
type = HitVelSet
trigger1 =  time = 0
x = 1
y = 1
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1,1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = 1
value = 5145
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = [0,20]
trigger2 = time = [20,35]
trigger2 = (GameTime%3)=0
time = 2
add = 0,50,240
mul = 150,224,150
color = 0
ignorehitpause = 1

[State 0, HitFallSet]
type = HitFallSet
trigger1 = statetype = S
value = 0
persistent = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.5

[State 0, PosSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
physics = S

[State 0, PosSet]
type = PosSet
trigger1 = statetype = S
y = 0

[State 0, PosSet]
type = VelSet
trigger1 = statetype = S
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = time >= 35
value = 5030

;---------------------------------------------------------------------------
[Statedef 5146]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = -1

[State 0, HitVelSet]
type = posadd
trigger1 =  !time
y = -5

[State 0, HitVelSet]
type = HitVelSet
trigger1 =  time = 0
x = 1
y = 1
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1,1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = 1
value = 5145
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = [0,120]
trigger2 = time = [120,140]
trigger2 = (GameTime%3)=0
time = 2
add = 0,50,240
mul = 150,224,150
color = 0
ignorehitpause = 1

[State 0, HitFallSet]
type = HitFallSet
trigger1 = statetype = S
value = 0
persistent = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.5

[State 0, PosSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
physics = S

[State 0, PosSet]
type = PosSet
trigger1 = statetype = S
y = 0

[State 0, PosSet]
type = VelSet
trigger1 = statetype = S
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = time >= 140
value = 5030

;---------------------------------------------------------------------------
[Statedef 5147]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = -1

[State 0, HitVelSet]
type = posadd
trigger1 =  !time
y = -5

[State 0, HitVelSet]
type = HitVelSet
trigger1 =  time = 0
x = 1
y = 1
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1,1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = 1
value = 5145
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = [0,10]
trigger2 = time = [10,30]
trigger2 = (GameTime%3)=0
time = 2
add = 0,50,240
mul = 150,224,150
color = 0
ignorehitpause = 1

[State 0, HitFallSet]
type = HitFallSet
trigger1 = statetype = S
value = 0
persistent = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.5

[State 0, PosSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
physics = S

[State 0, PosSet]
type = PosSet
trigger1 = statetype = S
y = 0

[State 0, PosSet]
type = VelSet
trigger1 = statetype = S
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = time >= 30
value = 5030

;---------------------------------------------------------------------------
[Statedef 5148]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = -1

[State 0, HitVelSet]
type = posadd
trigger1 =  !time
y = -5

[State 0, HitVelSet]
type = HitVelSet
trigger1 =  time = 0
x = 1
y = 1
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1,1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = 1
value = 5145
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 2
add = 0,50,240
mul = 150,224,150
color = 0
ignorehitpause = 1

[State 0, HitFallSet]
type = HitFallSet
trigger1 = statetype = S
value = 0
persistent = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.5

[State 0, PosSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
physics = S

[State 0, PosSet]
type = PosSet
trigger1 = statetype = S
y = 0

[State 0, PosSet]
type = VelSet
trigger1 = statetype = S
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = time >= 9999
value = 5030

;---------------------------------------------------------------------------
[Statedef 5870]
type    = A
movetype = H
physics = N

[State 3000,]
type = null;screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5871

[Statedef 5871]
type    = A
movetype = H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5051),5051,5030)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animtime = 0
value = ifelse(selfanimexist(5035),5035,5050)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5035
trigger1 = animtime = 0
value = 5050
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y >= -2
trigger1 = anim = 5051
trigger1 = selfanimexist(5061)
trigger1 = animtime = 0
value = 5061

[State 813,1]
type = Velset
trigger1 = !time 
y = -12.5

[State 813,1]
type = Veladd
trigger1 = time > 0
y = 0.34

[State 814, 4]
type = Posset
triggerall = time > 10
trigger1 = Pos Y >= 0
y = 0

[State 814, 4]
type = velset
triggerall = time > 10
trigger1 = Pos Y >= 0
y = 0

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5872

[Statedef 5872]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814, 4]
type = Posset
trigger1 = !time
y = 0

[State 814, 4]
type = velset
trigger1 = !time
y = 0

[State 1200, 6]
type = explod
triggerall = time > 1
trigger1 = Pos Y >= 0
anim = F61
id = 1
pos = -10,0
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 814, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5101

[State 814, 2] 
type = ChangeAnim
trigger1 = anim = 5101
trigger1 = animTime = 0
value = 5110

[State 814, 4]
type = PlaySnd
trigger1 = !time
value = F7, 1

[State 814, ChangeState]
type = selfstate
trigger1 = time > 20
value = 5120
;---------------------------------------------------------------------------
[Statedef 1200]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,-1.25                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1200                     ;Change animation (Def: no change)
poweradd = 35                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 600, 1]
type = PlaySnd
trigger1 = !time
value = 50,0

[State 1001]
Type = Playsnd
Trigger1 = animelem = 4
value = 500, 4  
ignorehitpause = 1

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 500, 7  
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1200,0+random%2

[State 300, 2]
type = null;velmul
trigger1 = animelemtime(5) < 0
y = .9

[State 300, 2]
type = velset
trigger1 = animelem = 5
x = 9
y = 0

[State 300, 2]
type = width
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(10) < 0
player = 22,11

[State 300, 2]
type = statetypeset
trigger1 = animelem = 12
physics = A

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6120
name = "Effect"
postype = p1
pos = 120, -61
ownpal = 0
size.xscale = .4
size.yscale = .3
supermovetime=999
pausemovetime=999

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6121
name = "Effect"
postype = p1
pos = 120, -61
ownpal = 0
size.xscale = .4
size.yscale = .3
supermovetime=999
pausemovetime=999

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -60               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -6,-8             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-8        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -60              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -6,-8               ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-8         ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.88
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 1201]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                    ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1201                     ;Change animation (Def: no change)
poweradd = 35                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 300, 2]
type = statetypeset
trigger1 = animelem = 5
statetype = A

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 50,0

[State 1001]
Type = Playsnd
Trigger1 = animelem = 6
value = 500, 4  
ignorehitpause = 1

[State 1001]
Type = Playsnd
Trigger1 = animelem = 4
value = 500, 7  
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1201,0+random%2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 7
value = 0,5

[State 300, 2]
type = null;velmul
trigger1 = animelemtime(5) < 0
y = .9

[State 300, 2]
type = velset
trigger1 = animelem = 5
y = -1.25 

[State 300, 2]
type = velset
trigger1 = animelem = 9
x = 15
y = 0

[State 300, 2]
type = width
trigger1 = animelemtime(9) >= 0
trigger1 = animelemtime(14) < 0
player = 22,11

[State 300, 2]
type = statetypeset
trigger1 = animelem = 16
physics = A

[State 300, 2]
type = veladd
trigger1 = animelemtime(16) >= 0
y = .5

[State 1300]
type = helper
trigger1 = animelem = 8
trigger2 = animelem = 10
helpertype = normal
stateno = 6120
ID = 6120
name = "Effect"
postype = p1
pos = 120, -61
ownpal = 0
size.xscale = .4
size.yscale = .3
supermovetime=999
pausemovetime=999

[State 1300]
type = helper
trigger1 = animelem = 8
trigger2 = animelem = 10
helpertype = normal
stateno = 6120
ID = 6121
name = "Effect"
postype = p1
pos = 120, -61
ownpal = 0
size.xscale = .4
size.yscale = .3
supermovetime=999
pausemovetime=999

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -60               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -7,-6             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-6        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 46
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(110), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -60              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -7,-6               ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-6        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 1202]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1202                      ;Change animation (Def: no change)
poweradd = 45                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1, Landing Sound]
type = PlaySnd
trigger1 = !time
value = 40, 0

[State 1, Landing Sound]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6002
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 23,-70
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 26,-85
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.95,0.6

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6203
pos = 31,-98
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.8,0.6

[State 1, ]
type = velset
trigger1 = animelem = 4
x = 6

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 205, 0+random%3
channel = 0

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(25), 3                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11, 11                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -82             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5,-5              ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-5            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 45
guard.ctrltime = 18
nochainID = 8000
p2facing = 1

[State 201, 1]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(50), 3                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11, 11                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10, -82             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5,-5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-5            ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 60
guard.ctrltime = 22
nochainID = 8000
p2facing = 1

[State 1200, 6]
type = playsnd
trigger1 = movehit
value = 1310,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5910
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = Animelem = 7
value = 1309

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 5

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1203]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,-1.25                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1203                     ;Change animation (Def: no change)
poweradd = 35                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 600, 1]
type = PlaySnd
trigger1 = !time
value = 50,0

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 1001]
Type = Playsnd
Trigger1 = animelem = 4
value = 500, 4  
ignorehitpause = 1

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 500, 7  
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1200,0+random%2

[State 300, 2]
type = null;velmul
trigger1 = animelemtime(5) < 0
y = .9

[State 300, 2]
type = velset
trigger1 = animelem = 5
x = 7
y = -5.5

[State 300, 2]
type = width
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(10) < 0
player = 22,11

[State 300, 2]
type = statetypeset
trigger1 = animelem = 12
physics = A

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6122
name = "Effect"
postype = p1
pos = 115, -150
ownpal = 0
size.xscale = .4
size.yscale = .3
supermovetime=999
pausemovetime=999

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6123
name = "Effect"
postype = p1
pos = 115, -150
ownpal = 0
size.xscale = .4
size.yscale = .3
supermovetime=999
pausemovetime=999

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -80               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -5.5,-9.75            ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5.5,-9.75        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -80              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -5.5,-9.75              ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5.5,-9.75         ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 2]
type = ctrlset
trigger1 = time >= 40
value = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.88
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 1205]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1205                     ;Change animation (Def: no change)
poweradd = 35                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 1001]
Type = Playsnd
Trigger1 = animelem = 4
value = 500, 4  
ignorehitpause = 1

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 500, 7  
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1200,0+random%2

[State 300, 2]
type = velmul
trigger1 = animelemtime(5) < 0
y = .85
x = .85

[State 300, 2]
type = velset
trigger1 = animelemtime(5) < 0
trigger1 = pos Y >= -10
y = 0

[State 300, 2]
type = velset
trigger1 = animelem = 5
x = 7
y = 5.5

[State 300, 2]
type = width
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(10) < 0
player = 22,11

[State 300, 2]
type = statetypeset
trigger1 = animelem = 12
physics = A

[State 210, 1]
type = varadd
trigger1 = !time
var(24) = 1

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6124
name = "Effect"
postype = p1
pos = 101, -4
ownpal = 0
size.xscale = .4
size.yscale = .35
supermovetime=999
pausemovetime=999

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6125
name = "Effect"
postype = p1
pos = 101, -4
ownpal = 0
size.xscale = .4
size.yscale = .35
supermovetime=999
pausemovetime=999

[State 300, 1]
type = HitDef
triggerall  = var(24) < 2
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -10               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -5.5,-9.75            ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5.5,-9.75        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 46
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
triggerall  = var(24) >= 2
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -10               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -5.5,-9.75            ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5.5,-9.75        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -10              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -5.5,-9.75              ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5.5,-9.75         ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 8000, ]
type = targetstate
trigger1 = movehit
value = 5840
ignorehitpause = 1
persistent = 0

[State 300, 2]
type = ctrlset
trigger1 = time >= 40
value = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.88
ignorehitpause = 1
persistent = 0

[State 300, 2]
type = changestate
trigger1 = animelemtime(5) >= 0
trigger1 = pos Y >= -2
value = 59

;---------------------------------------------------------------------------
[Statedef 1206]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1206                     ;Change animation (Def: no change)
poweradd = 35                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 1001]
Type = Playsnd
Trigger1 = animelem = 4
value = 500, 4  
ignorehitpause = 1

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 500, 7  
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1200,0+random%2

[State 300, 2]
type = velmul
trigger1 = animelemtime(5) < 0
y = .85
x = .85

[State 300, 2]
type = velset
trigger1 = animelemtime(5) < 0
trigger1 = pos Y >= -10
y = 0

[State 300, 2]
type = velset
trigger1 = animelem = 5
x = 9
y = 0

[State 300, 2]
type = width
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(10) < 0
player = 22,11

[State 300, 2]
type = statetypeset
trigger1 = animelem = 12
physics = A

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6120
name = "Effect"
postype = p1
pos = 120, -61
ownpal = 0
size.xscale = .4
size.yscale = .35
supermovetime=999
pausemovetime=999

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6121
name = "Effect"
postype = p1
pos = 120, -61
ownpal = 0
size.xscale = .4
size.yscale = .35
supermovetime=999
pausemovetime=999


[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -60               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -6,-8             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-8        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -60              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -6,-8               ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-8         ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 2]
type = ctrlset
trigger1 = time >= 41
value = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.88
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 1207]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1207                     ;Change animation (Def: no change)
poweradd = 35                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0,5

[State 1001]
Type = Playsnd
Trigger1 = animelem = 4
value = 500, 4  
ignorehitpause = 1

[State 1001]
Type = Playsnd
Trigger1 = !time
value = 500, 7  
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1200,0+random%2

[State 300, 2]
type = velmul
trigger1 = animelemtime(5) < 0
y = .85
x = .85

[State 300, 2]
type = velset
trigger1 = animelemtime(5) < 0
trigger1 = pos Y >= -10
y = 0

[State 300, 2]
type = velset
trigger1 = animelem = 5
x = 7
y = -5.5

[State 300, 2]
type = width
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(10) < 0
player = 22,11

[State 300, 2]
type = statetypeset
trigger1 = animelem = 12
physics = A

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6122
name = "Effect"
postype = p1
pos = 115, -150
ownpal = 0
size.xscale = .4
size.yscale = .35
supermovetime=999
pausemovetime=999

[State 1300]
type = helper
trigger1 = animelem = 4
trigger2 = animelem = 6
helpertype = normal
stateno = 6120
ID = 6123
name = "Effect"
postype = p1
pos = 115, -150
ownpal = 0
size.xscale = .4
size.yscale = .35
supermovetime=999
pausemovetime=999

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(85), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -80               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -5.5,-9.75            ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5.5,-9.75        ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = ceil(105), 4                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -25, -80              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = -5.5,-9.75              ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5.5,-9.75         ;X-velocity at which opponent is pushed,
guard.ctrltime = 15
fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1

[State 300, 2]
type = ctrlset
trigger1 = time >= 40
value = 1

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.88
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1, ]
type = velset
trigger1 = animelem = 2
x = 8

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 1300, 0+random%2
channel = 0

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = animelem = 4
trigger2 = movecontact
trigger2 = animelem = 5
trigger3 = movecontact
trigger3 = animelem = 6
anim = 6130
;id = 6130
pos = 18,0
facing = 1
sprpriority = 3
bindtime = 1
vel = 3,0
ownpal = 1
ignorehitpause = 1
scale = .7,.7

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
value = 1200, 1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 7
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 0,-4
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 7
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 12,-8
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 7
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 4,-129
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype != A
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
attr = S, SA
animtype  = Hard
damage    = ceil(18),4
hitflag = MAFD
guardflag = MA
pausetime = 5,8
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -3.25,-4
air.fall = 1
fall.recovertime = 40
guard.ctrltime = 20
y.accel = 0.2
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype = A
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
attr = S, SA
animtype  = Hard
damage    = ceil(25),4
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -3.25,-4
air.fall = 1
fall.recovertime = 40
guard.ctrltime = 20
y.accel = 0.2
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1301
sprpriority = 2

[State 1, ]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 1, ]
type = velset
trigger1 = animelem = 5
x = 12

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 6
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6000
id = 6131
pos = 18,-76
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .7,.7

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 1200, 1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 6
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 0,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 6
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = -25,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 6
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = -41,-104
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, SA
animtype  = Hard
damage    = ceil(33),4
hitflag = MAFD
guardflag = MA
pausetime = 9,10
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -1.8,-3.5
air.fall = 1
fall.recovertime = 35
guard.ctrltime = 20
y.accel = 0.2
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, SA
animtype  = Hard
damage    = ceil(44),4
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -1.8,-3.5
air.fall = 1
fall.recovertime = 35
guard.ctrltime = 20
y.accel = 0.2
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1302
sprpriority = 2

[State 1, ]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 1, ]
type = velset
trigger1 = animelem = 3
x = 10

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6001
id = 6133
pos = 17,-72
facing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .6,-.7

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 1200, 1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 0,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 6800
scale = .3,.3
postype = p1
facing = 1
pos = -4,-116
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, SA
animtype  = Hard
damage    = ceil(33),4
hitflag = MAFD
guardflag = MA
pausetime = 9,10
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -1.8,-3.5
air.fall = 1
fall.recovertime = 35
guard.ctrltime = 20
y.accel = 0.2
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, SA
animtype  = Hard
damage    = ceil(44),4
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -1.8,-3.5
air.fall = 1
fall.recovertime = 35
guard.ctrltime = 20
y.accel = 0.2
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1303]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1303
sprpriority = 2

[State 1, ]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 1, ]
type = velset
trigger1 = animelem = 2
x = 7

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 4
anim = 6000
id = 6122
pos = 18,-73
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .8,.8

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
anim = 6001
id = 6122
pos = 16,-73
facing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .7,-.85

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = 1200, 1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
anim = 6800
scale = .3,.3
postype = p1
facing = 1
pos = -2,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
anim = 6800
scale = .3,.3
postype = p1
facing = 1
pos = -9,-13
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 6800
scale = .3,.3
postype = p1
facing = 1
pos = -30,-109
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 7
anim = 6800
scale = .3,.3
postype = p1
facing = 1
pos = -8,-132
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype != A
trigger1 = animelem = 4
attr = S, SA
animtype  = Hard
damage    = ceil(14),4
hitflag = MAFD
guardflag = MA
pausetime = 9,9
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.5
air.velocity = -1.8,-2.75
air.fall = 1
fall.recovertime = 27
y.accel = 0.2
guard.ctrltime = 15
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype = A
trigger1 = animelem = 4
attr = S, SA
animtype  = Hard
damage    = ceil(22),4
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -1.8,-2.75
air.fall = 1
fall.recovertime = 45
y.accel = 0.2
guard.ctrltime = 20
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype != A
trigger1 = animelem = 7
attr = S, SA
animtype  = Hard
damage    = ceil(14),4
hitflag = MAFD
guardflag = MA
pausetime = 9,9
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.5
air.velocity = -1.8,-2.75
air.fall = 1
fall.recovertime = 23
y.accel = 0.2
guard.ctrltime = 12
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype = A
trigger1 = animelem = 7
attr = S, SA
animtype  = Hard
damage    = ceil(22),4
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -1.8,-2.75
air.fall = 1
fall.recovertime = 45
y.accel = 0.2
guard.ctrltime = 12
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1304]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 1304
sprpriority = 2

[State 1, ]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 1, ]
type = velset
trigger1 = animelem = 2
x = 7

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 1300, 2+random%2
channel = 0

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = animelem = 4
trigger2 = movecontact
trigger2 = animelem = 5
trigger3 = movecontact
trigger3 = animelem = 6
anim = 6130
;id = 6130
pos = 18,0
facing = 1
sprpriority = 3
bindtime = 1
vel = 3,0
ownpal = 1
ignorehitpause = 1
scale = .7,.7

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
value = 1200, 1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 7
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 0,-4
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 7
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 12,-8
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 7
anim = 6800
scale = .25,.25
postype = p1
facing = 1
pos = 4,-129
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype != A
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
attr = S, SA
animtype  = Hard
damage    = ceil(18),4
hitflag = MAFD
guardflag = MA
pausetime = 5,8
guard.pausetime = 5,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -2.5,-3.5
air.fall = 1
fall.recovertime = 35
guard.ctrltime = 16
y.accel = 0.2
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype = A
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
attr = S, SA
animtype  = Hard
damage    = ceil(25),4
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 5,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -2.5,-3.5
air.fall = 1
fall.recovertime = 35
guard.ctrltime = 16
y.accel = 0.2
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.95
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1305]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 1305
sprpriority = 2

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1301, 0+random%3
channel = 0

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 6
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = animelem = 6
anim = 6130
pos = 13,0
facing = 1
sprpriority = 3
bindtime = 1
vel = 2.5,0
ownpal = 1
ignorehitpause = 1
scale = .75,.75

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 1200, 1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(33),8
hitflag = MAFD
guardflag = MA
pausetime = 9,10
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recovertime = 50
guard.ctrltime = 20
p2facing = 1
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(44),8
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recovertime = 50
guard.ctrltime = 20
p2facing = 1
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = playsnd
trigger1 = movehit
value = 1310,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5910
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = Animelem = 12
value = 1309

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1309]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1309
sprpriority = 2

[State 210, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 50, 1

[State 210, 1]
type = width
trigger1 = 1
edge = 40,10

[State 210, 1]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State -2]
type = Helper
Trigger1 = time%2 = 0
helpertype = normal
ID = 7015
Stateno = 7015
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 210, 5]
type = velset
trigger1 = time < 8
x = (p2dist X)/10
y = (p2dist Y)/8

[State 210, 5]
type = velmul
trigger1 = p2dist y = [-10,50]
y = .90

[State 210, 5]
type = velmul
trigger1 = p2dist x < 55
x = .90

[State 210, 5]
type = ChangeState
trigger1 = p2dist x < 50
trigger1 = p2dist y = [-10,50]
value = 1310

[State 210, 5]
type = ChangeState
trigger1 = time >= 100
value = 51

;---------------------------------------------------------------------------
[Statedef 1310]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 2,-.2
anim = 1310
sprpriority = 2

[State 210, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
anim = 6002
pos = 27,-44
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
anim = 6002
pos = 29,-54
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
anim = 6002
pos = 31,-60
facing = 1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
anim = 6000
pos = 27,-44
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
anim = 6000
pos = 29,-54
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.7,0.2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
anim = 6000
pos = 31,-60
facing = 1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.2

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
trigger3 = animelem = 7
trigger4 = animelem = 11
trigger5 = animelem = 14
value = 0, 3

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype != A
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 17
attr = S, HA
animtype  = Hard
damage    = ceil(15),1
hitflag = MAFD
guardflag = MA
pausetime = 1,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-70+random%21
hitsound   = S5,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -.1,-3.3
air.fall = 1
fall.recovertime = 50
guard.ctrltime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0,0
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
triggerall = enemynear,movetype = A
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 17
attr = S, HA
animtype  = Hard
damage    = ceil(27),1
hitflag = MAFD
guardflag = MA
pausetime = 4,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-70+random%21
hitsound   = S5,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -3.5
air.velocity = -.1,-3.3
air.fall = 1
fall.recovertime = 65
guard.ctrltime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 210, 5]
type = ChangeState
trigger1 = Animelemtime(18) >= 0
trigger1 = command = "c" || command = "holdc"
trigger1 = power >= 500
value = 1315

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1320

;---------------------------------------------------------------------------
[Statedef 1315]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
anim = 610
velset = 2,-4
sprpriority = 2

[State 210, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-75
facing = 1
sprpriority = 3
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1300, Blink]
type = PalFX
trigger1 = !time
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = !time
value = 3000, 0

[State 1300, 1]
type = poweradd
trigger1 = Time = 0
value = -500

[State 210, 1]
type = varadd
trigger1 = !time
var(22) = 1

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 1315, 0+random%2
channel = 0

[State 1, 3]
type = playsnd
trigger1 = animelem = 3
value = 0, 5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 25,-65
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 31,-80
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6001
id = 6610
pos = 36,-93
facing = -1
vfacing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 10,-65
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 16,-80
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 5
anim = 6000
id = 6610
pos = 21,-93
facing = -1
vfacing = -1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,0.7

[State -2]
type = Helper
Trigger1 = time%2 = 0
helpertype = normal
ID = 7015
Stateno = 7015
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(20),3
hitflag = MAFD
guardflag = MA
pausetime = 9,10
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recover = 0
guard.ctrltime = 20
p2facing = 1
getpower = 0,0
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(65),3
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recovertime = 50
guard.ctrltime = 20
p2facing = 1
getpower = 0,0
nochainID = 8000

[State 200, Damage Scaling]
type = targetstate
triggerall = var(22) < 2 
trigger1 = movehit
trigger1 = !moveguarded
value = 5825
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = targetstate
triggerall = var(22) >= 2 
trigger1 = movehit
trigger1 = !moveguarded
value = 852
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 51

;---------------------------------------------------------------------------
[Statedef 1320]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
anim = 620
sprpriority = 2
velset = 4,-7

[State -2]
type = Helper
Trigger1 = time%2 = 0
helpertype = normal
ID = 7015
Stateno = 7015
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 1, ]
type = PlaySnd
triggerall = anim = 620
trigger1 = animelem = 3
value = 220, 0+random%3
channel = 0

[State 620, 2]
type = PlaySnd
triggerall = anim = 620
trigger1 = animelem = 6
value = 0, 5

[State 620, 2]
type = velset
triggerall = anim = 620
trigger1 = animelem = 3
x = 0
y = -.5

[State 1200, 6]
type = explod
triggerall = anim = 620
trigger1 = time = 22
anim = 6000
pos = -3,-60
facing = -1
sprpriority = 4
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 1200, 6]
type = explod
triggerall = anim = 620
trigger1 = time = 22
anim = 6001
pos = -3,-60
facing = -1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 620, 2]
type = velset
triggerall = anim = 620
trigger1 = time = 22
x = 0
y = 30

[State 620, 2]
type = playerpush
triggerall = anim = 620
trigger1 = time >= 22
value = 0

[State 620, 3]
type = HitDef
triggerall = anim = 620
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(20),3
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 620, 3]
type = HitDef
triggerall = anim = 620
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(60),3
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 30
fall = 1
fall.recover = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X >= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(25),3
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -6,-8.5
air.velocity = -6,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X >= 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(60),3
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = -6,-8.5
air.velocity = -6,-8.5
air.hittime = 30
fall = 1
fall.recover = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X < 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(49),3
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 6,-8.5
air.velocity = 6,-8.5
air.hittime = 30
guard.ctrltime = 19
fall = 1
fall.recovertime = 35
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 620, 3]
type = HitDef
triggerall = anim = 621
triggerall = p2dist X < 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(60),3
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 6,-8.5
air.velocity = 6,-8.5
air.hittime = 30
fall = 1
fall.recover = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0

[State 1200, 6]
type = explod
trigger1 = time >= 10
trigger1 = pos Y >= 0
anim = 6806
pos = -20,10
facing = 1
sprpriority = 5
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = .55,.15
persistent = 0

[State 200, Damage Scaling]
type = targetstate
trigger1 = anim = 620
trigger1 = movehit
value = 5832
ignorehitpause = 1
persistent = 0

[State 1, Helper]
type = Helper
trigger1 = anim = 621
trigger1 = movehit = 1
helpertype = normal ;player
name = "burn"
ID = 6800
stateno = 6800
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = 6116
scale = 0.33,0.33
postype = p1
facing = 1
pos = 18,8
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = f61
scale = 1,1
postype = p1
facing = 1
pos = 18,8
sprpriority = 0
ownpal = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 6800, flames]
type = explod
trigger1 = anim = 621
trigger1 = animelemtime(4) < 0
anim = 6800
ID = 6800
sprpriority = 3
pos = -30+random%100,0
scale=.4,.4
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = 1
vel = 0,-4-random%8

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = 6117
scale = 0.65,0.5
postype = p1
facing = 1
pos = 25,-20
sprpriority = 5
ownpal = 1
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 621
value = 500, 6
persistent = 0

[State 5100, EnvShake]
type = EnvShake
trigger1 = anim = 621
time = 5
freq = 30
ampl = 3
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = anim = 621
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.65
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = changeanim
trigger1 = time >= 10
trigger1 = pos Y >= 0
value = 621
persistent = 0

[State 600, 3]
type = statetypeset
trigger1 = anim = 621
statetype = C
physics = C
persistent = 0

[State 600, 3]
type = movehitreset
trigger1 = anim = 621
persistent = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 621
trigger1 = animelem = 1
value = 40,0
persistent = 0

[State 1, ]
type = velset
trigger1 = anim = 621
y = 0

[State 1, ]
type = posset
trigger1 = anim = 621
y = 0

[State 52, 5]
type = ChangeState
triggerall = anim = 621
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 5910]
type    = A
movetype = H
physics = N

[State 1403,1]
type = turn
trigger1 = enemynear,stateno = 1102
trigger1 = facing != enemynear,facing
trigger1 = !time

[State 1403,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 1403,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1403, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5051

[State 1403, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5911

[Statedef 5911]
type    = A
movetype = H
physics = N

[State 1404,1]
type = Velset
trigger1 = !time
x = -15
y = -14

[State 1404,1]
type = Velmul
trigger1 = 1
x = .93
y = .9

[State 1404,2]
type = VelAdd
trigger1 = time >= 100
y = 0.1

[State 1404,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1404, 2]
type = selfState
triggerall = enemynear,stateno != [1305,1320]
trigger1 = time >= 50
value = 5040

[State 1404, 2]
type = selfState
trigger1 = time >= 150
value = 5040

;---------------------------------------------------------------------------
[Statedef 5912]
type    = A
movetype = H
physics = N

[State 1403,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 1403,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1403, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5051

[State 1403, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5913

[Statedef 5913]
type    = A
movetype = H
physics = N

[State 1404,1]
type = Velset
trigger1 = !time
x = -18
y = -3

[State 1404,1]
type = Velmul
trigger1 = 1
x = .93
y = .9

[State 1404,2]
type = VelAdd
trigger1 = time >= 100
y = 0.1

[State 1404,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1404, 2]
type = selfState
triggerall = enemynear,stateno != [1305,1320]
trigger1 = time >= 50
value = 5040

[State 1404, 2]
type = selfState
trigger1 = time >= 150
value = 5040

;---------------------------------------------------------------------------
[Statedef 1400]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1400                      ;Change animation (Def: no change)
poweradd = 0                   ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-75
facing = 1
sprpriority = 3
bindtime = 4
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1200, 6]
type = explod
trigger1 = AnimElem = 2
anim = 6140
id = 6140
pos = 23,-75
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .33,.33

[State 1200, 6]
type = explod
trigger1 = AnimElem = 12
anim = 6141
pos = 23,-75
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .33,.33

[State 1200, 6]
type = removeexplod
trigger1 = AnimElem = 12
ID = 6140
ignorehitpause = 1

[State 1300, Blink]
type = PalFX
trigger1 = !time
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = !time
value = 3000, 0

[State 1300, 1]
type = poweradd
trigger1 = Time = 0
value = -500

[State 1, 3]
type = playsnd
trigger1 = animelem = 3
value = 1310, 0

[State 1055, Assert]
Type = ReversalDef
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(12) < 0
reversal.attr = SCA, AA
NumHits = 0
Pausetime = 0,0
HitSound = S6,0
SparkNo = 40
SparkXY = 55,0
p1stateno = 1401

[State 1055, Assert]
type = hitoverride
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(12) < 0
attr = SCA, AA
ignorehitpause = 1
stateno = 1401

[State 1055, Assert]
type = hitoverride
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(12) < 0
attr = SCA, AP,NP,SP,HP
ignorehitpause = 1
stateno = 1402

[State 300, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6000
id = 6120
pos = 18,-73
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .7,.7

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6142
pos = 23,-75
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .33,.33
pausemovetime = 99

[State 210, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 1300,]
type = turn
triggerall = p2dist x < 0
trigger1 = !time

[State 200, 2]
type = pause
trigger1 = !time
time = 14
movetime = 14

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 1400, 0

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1401, 0+random%2
channel = 0

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 6
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = null;explod
trigger1 = animelem = 6
anim = 6130
pos = 13,0
facing = 1
sprpriority = 3
bindtime = 1
vel = 2.5,0
ownpal = 1
ignorehitpause = 1
scale = .75,.75

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 1200, 1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(50)
hitflag = MAFD
guardflag = MA
pausetime = 9,10
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recovertime = 50
guard.ctrltime = 20
p2facing = 1
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(65)
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recovertime = 50
guard.ctrltime = 20
p2facing = 1
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = playsnd
trigger1 = movehit
value = 141,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5910
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = Animelem = 9
value = 1309

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = AnimElem = 6
anim = 6000
id = 6120
pos = 18,-73
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .7,.7

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6142
pos = 23,-75
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = .33,.33
pausemovetime = 99

[State 210, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 1400, 0

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1401, 0+random%2
channel = 0

[State 6061, Effect]
type = Explod
trigger1 = AnimElem = 6
anim = 6005
scale = .5,.5
postype = p1
facing = 1
pos = -20,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1200, 6]
type = null;explod
trigger1 = animelem = 6
anim = 6130
pos = 13,0
facing = 1
sprpriority = 3
bindtime = 1
vel = 2.5,0
ownpal = 1
ignorehitpause = 1
scale = .75,.75

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 1200, 1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(50)
hitflag = MAFD
guardflag = MA
pausetime = 9,10
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recovertime = 50
guard.ctrltime = 20
p2facing = 1
nochainID = 8000

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5200,5210]
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(65)
hitflag = MAFD
guardflag = MA
pausetime = 9,12
guard.pausetime = 9,9
sparkno = 3
sparkxy = -10,-80
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recovertime = 50
guard.ctrltime = 20
p2facing = 1
nochainID = 8000

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 6500
ID = 6500
name = "Ice Shards"
postype = p2
pos = 0, enemynear,const(size.mid.pos.y)
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = playsnd
trigger1 = movehit
value = 1310,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = targetstate
trigger1 = movehit
trigger1 = !moveguarded
value = 5910
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.9
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = Animelem = 9
value = 1309

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1500
sprpriority = 2

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6114
id = 6114
pos = 0,-75
facing = 1
sprpriority = 3
bindtime = 4
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 1200, 6]
type = removeexplod
trigger1 = AnimElem = 12
ID = 6140
ignorehitpause = 1

[State 1300, Blink]
type = PalFX
trigger1 = !time
time = 20
add = 0,0,52
sinadd = 64,32,5,3

[State 1, 3]
type = playsnd
trigger1 = !time
value = 3000, 0

[State 1300, 1]
type = poweradd
trigger1 = Time = 0
value = -500

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 12
value = 1200, 1

[State 210, 1]
type = width
trigger1 = animelem = 8
edge = 80,10

[State 210, 1]
type = width
trigger1 = animelem = 12
edge = 120,10

[State 210, 1]
type = PlaySnd
trigger1 = !time
value = 1500, 0+random%2
channel = 0

[State 1300]
type = helper
trigger1 = animelem = 4
helpertype = normal
stateno = 2212
ID = 2212
name = "Demonic Destruction"
postype = p1
pos = 10, 0
ownpal = 1
size.xscale = .25
size.yscale = .4

[State 1300]
type = helper
trigger1 = animelem = 9
helpertype = normal
stateno = 2212
ID = 2212
name = "Demonic Destruction"
postype = p1
pos = 60, 0
ownpal = 1
size.xscale = .25
size.yscale = .4

[State 1300]
type = helper
trigger1 = animelem = 13
helpertype = normal
stateno = 2209
ID = 2209
name = "Demonic Destruction"
postype = p1
pos = 110, 0
ownpal = 1
size.xscale = .35
size.yscale = .5

[State 1200, 6]
type = playsnd
trigger1 = p2stateno = [5910,5911]
value = 1310,0
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = p2stateno = [5910,5911]
anim = 6970
id = 6970
pos = 0, -75
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.35,0.35
pausemovetime = 9999
supermovetime = 9999

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.85
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = p2stateno = [5910,5911]
trigger1 = Animelem = 19
value = 1309

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 3001, 0
channel = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 12
value = 3001, 1
channel = 0

[State 410, 1]
type = nothitby
triggerall = anim = 3000
trigger1 = animelemtime(9) < 0
value = SCA

[State 3007,]
type = Helper
trigger1 = !numhelper(8985)
helpertype = Normal
name = "Distortion"
stateno = 8985
ID = 7001
pos = 3,-60
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 3000, Super A]
type = SuperPause
trigger1 = time = 0
pos = 3, -60
anim = -1;100
time = 50
darken = 0
movetime = 7
sound = S3000, 1
poweradd = -1000
p2defmul = 1.2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7000
ID =7000
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 410, 1]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 5
value = 0, 5

[State 410, 1]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 5
value = 50, 0

[State 410, 1]
type = velset
triggerall = anim = 3000
trigger1 = animelem = 8
x = 3
y = -7

[State 410, 1]
type = statetypeset
triggerall = anim = 3000
trigger1 = animelem = 8
statetype = A
Physics = N

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = AnimElem = 8
anim = 6001
id = 6300
pos = 25,-60
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,1

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = AnimElem = 8
anim = 6001
id = 6300
pos = 31,-75
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,1.1

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = AnimElem = 8
anim = 6001
id = 6300
pos = 36,-88
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,1

[State 410, 2]
type = HitDef
triggerall = anim = 3000
triggerall = enemynear,stateno != [5200,5210]
trigger1 = animelem = 8
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(35+(7*numhelper(9884))), 3
animtype  = Hard
hitflag = MAFD
guardflag = M
pausetime = 7,7
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2,-9.5
air.velocity = -2,-9.5
down.velocity = -2,-9.5
y.accel = .1
fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1
kill = 0
getpower = 0,0

[State 410, 2]
type = HitDef
triggerall = anim = 3000
triggerall = enemynear,stateno != [5200,5210]
trigger1 = animelem = 8
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(68+(14*numhelper(9884))), 5
animtype  = Hard
hitflag = MAFD
guardflag = M
pausetime = 12,14
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 23
guard.ctrltime = 20
ground.velocity = -2,-9.5
air.velocity = -2,-9.5
down.velocity = -2,-9.5
y.accel = .1
fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1
kill = 0
getpower = 0,0

[State 620, 2]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 15
value = 0, 5

[State 620, 2]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 15
value = 500, 4

[State 410, 1]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 12
value = 50, 1

[State 220]
type = Velset
triggerall = anim = 3000
triggerall = numtarget
trigger1 = animelem = 12
x = p2dist X/8
y = -18

[State 220]
type = Velset
triggerall = anim = 3000
triggerall = !numtarget
trigger1 = animelem = 12
x = 10
y = -18

[State 620, 2]
type = velset
triggerall = anim = 3000
trigger1 = animelem = 15
x = 0
y = -.5

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = animelem = 17
anim = 6000
pos = -3,-60
facing = -1
sprpriority = 4
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = animelem = 17
anim = 6001
pos = -3,-60
facing = -1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 620, 2]
type = velset
triggerall = anim = 3000
trigger1 = animelem = 17
x = 0
y = 30

[State 620, 2]
type = movehitreset
triggerall = anim = 3000
trigger1 = animelem = 15

[State 620, 3]
type = HitDef
triggerall = anim = 3000
triggerall = animelemtime(15) > 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(80+(16*numhelper(9884))), 8
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p2stateno = 852
kill = 0
getpower = 0,0

[State 620, 3]
type = HitDef
triggerall = anim = 3000
triggerall = animelemtime(15) > 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(100+(20*numhelper(9884))), 8
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 40
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p2stateno = 852
kill = 0
getpower = 0,0

[State 620, 3]
type = HitDef
triggerall = anim = 3001
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(170)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 0,-8.5
air.velocity = 0,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0
p2stateno = 3070
persistent = 0
getpower = 0,0

[State 620, 3]
type = HitDef
triggerall = anim = 3001
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(220)
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 0,-8.5
air.velocity = 0,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 3070
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0
persistent = 0
getpower = 0,0

[State 5100, EnvShake]
type = EnvShake
trigger1 = anim = 3001
time = 10
freq = 120
ampl = 3
persistent = 0

[State 1, Helper]
type = Helper
trigger1 = anim = 3001
trigger1 = movehit = 1
helpertype = normal ;player
name = "burn"
ID = 6800
stateno = 6800
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 3001
anim = 6116
scale = 0.45,0.33
postype = p1
facing = 1
pos = 18,8
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = f61
scale = 1,1
postype = p1
facing = 1
pos = 18,8
sprpriority = 0
ownpal = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 3001
anim = 6301
scale = 0.5,0.6
postype = p1
facing = 1
pos = 18,8
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6800, flames]
type = explod
trigger1 = anim = 3001
trigger1 = animelemtime(17) < 0
anim = 6800
ID = 6800
sprpriority = 3
pos = -30+random%100,0
scale=.4,.4
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = 1
vel = 0,-8-random%16

[State 6061, Effect]
type = Explod
trigger1 = anim = 3001
anim = 6117
scale = 0.65,0.5
postype = p1
facing = 1
pos = 25,-20
sprpriority = 5
ownpal = 1
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 3001
value = 500, 6
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 3001
value = 500, 9
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 3001
value = 500, 10
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = time >= 10
trigger1 = pos Y >= 0
anim = 6806
pos = -20,10
facing = 1
sprpriority = 5
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = .55,.15
persistent = 0

[State 200, Damage Scaling]
type = targetstate
trigger1 = anim = 620
trigger1 = movehit
value = 5832
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = anim = 3001
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.85
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = changeanim
trigger1 = time >= 30
trigger1 = pos Y >= 0
value = 3001
persistent = 0

[State 600, 3]
type = statetypeset
trigger1 = anim = 3001
statetype = C
physics = C
persistent = 0

[State 600, 3]
type = movehitreset
trigger1 = anim = 3001
persistent = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 3001
trigger1 = animelem = 1
value = 40,0
persistent = 0

[State 1, ]
type = velset
trigger1 = anim = 3001
y = 0

[State 1, ]
type = posset
trigger1 = anim = 3001
y = 0

[State 1, ]
type = playsnd
trigger1 = anim = 3001
trigger1 = movehit
value = 3002,0
ignorehitpause = 1
persistent = 0

[state 19001 BF]
type = explod
triggerall = anim = 3001
trigger1 = movehit
anim = 6985
pos = 0,0
bindtime = -1
postype = back
supermovetime = 0
pausemovetime = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
sprpriority = -4

[State 52, 5]
type = ChangeState
triggerall = anim = 3001
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 3001]
type    = A
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 3001, 0
channel = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 12
value = 3001, 1
channel = 0

[State 410, 1]
type = nothitby
triggerall = anim = 3000
trigger1 = animelemtime(9) < 0
value = SCA

[State 3007,]
type = Helper
trigger1 = !numhelper(8985)
helpertype = Normal
name = "Distortion"
stateno = 8985
ID = 7001
pos = 3,-60
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 3000, Super A]
type = SuperPause
trigger1 = time = 0
pos = 3, -60
anim = -1;100
time = 50
movetime = 7
darken = 0
sound = S3000, 1
poweradd = -1000
p2defmul = 1.2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7000
ID =7000
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 410, 1]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 5
value = 0, 5

[State 410, 1]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 5
value = 50, 0

[State 410, 1]
type = velset
triggerall = anim = 3000
trigger1 = animelem = 8
x = 3
y = -7

[State 410, 1]
type = statetypeset
triggerall = anim = 3000
trigger1 = animelem = 8
statetype = A
Physics = N

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = AnimElem = 8
anim = 6001
id = 6300
pos = 25,-60
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,1

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = AnimElem = 8
anim = 6001
id = 6300
pos = 31,-75
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.75,1.1

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = AnimElem = 8
anim = 6001
id = 6300
pos = 36,-88
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.6,1

[State 410, 2]
type = HitDef
triggerall = anim = 3000
triggerall = enemynear,stateno != [5200,5210]
trigger1 = animelem = 8
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(35+(7*numhelper(9884))), 3
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 7,7
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2,-9.5
air.velocity = -2,-9.5
down.velocity = -2,-9.5
y.accel = .1
fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1
kill = 0
getpower = 0,0

[State 410, 2]
type = HitDef
triggerall = anim = 3000
triggerall = enemynear,stateno != [5200,5210]
trigger1 = animelem = 8
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(68+(14*numhelper(9884))), 5
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 12,14
sparkno = 3
sparkxy = -10,-75
hitsound   = S5,7
guardsound = S6,0
ground.type = high
ground.slidetime = 12
ground.hittime  = 23
guard.ctrltime = 20
ground.velocity = -2,-9.5
air.velocity = -2,-9.5
down.velocity = -2,-9.5
y.accel = .1
fall = 1
fall.recover = 0
nochainID = 8000
p2facing = 1
kill = 0
getpower = 0,0

[State 620, 2]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 15
value = 0, 5

[State 620, 2]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 15
value = 500, 4

[State 410, 1]
type = PlaySnd
triggerall = anim = 3000
trigger1 = animelem = 12
value = 50, 1

[State 220]
type = Velset
triggerall = anim = 3000
triggerall = numtarget
trigger1 = animelem = 12
x = p2dist X/8
y = -18

[State 220]
type = Velset
triggerall = anim = 3000
triggerall = !numtarget
trigger1 = animelem = 12
x = 10
y = -18

[State 620, 2]
type = velset
triggerall = anim = 3000
trigger1 = animelem = 15
x = 0
y = -.5

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = animelem = 17
anim = 6000
pos = -3,-60
facing = -1
sprpriority = 4
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 1200, 6]
type = explod
triggerall = anim = 3000
trigger1 = animelem = 17
anim = 6001
pos = -3,-60
facing = -1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 0.85,-0.2
vel = 0,-3

[State 620, 2]
type = velset
triggerall = anim = 3000
trigger1 = animelem = 17
x = 0
y = 30

[State 620, 2]
type = movehitreset
triggerall = anim = 3000
trigger1 = animelem = 15

[State 620, 3]
type = HitDef
triggerall = anim = 3000
triggerall = animelemtime(15) > 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(80+(16*numhelper(9884))), 8
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p2stateno = 852
kill = 0
getpower = 0,0

[State 620, 3]
type = HitDef
triggerall = anim = 3000
triggerall = animelemtime(15) > 0
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(100+(20*numhelper(9884))), 8
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 5,5
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
guard.hittime  = 30
ground.velocity = 0,8
air.velocity = 0,8
air.hittime = 40
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p2stateno = 852
kill = 0
getpower = 0,0

[State 620, 3]
type = HitDef
triggerall = anim = 3001
trigger1 = enemynear,movetype != A
attr = A, HA
damage = ceil(170+(37*numhelper(9884))), 8
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 10,10
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 0,-8.5
air.velocity = 0,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0
p2stateno = 3070
persistent = 0
getpower = 0,0

[State 620, 3]
type = HitDef
triggerall = anim = 3001
trigger1 = enemynear,movetype = A
attr = A, HA
damage = ceil(220+(44*numhelper(9884))), 8
hitflag = MAFD
guardflag = MA
priority = 4
pausetime = 12,12
sparkno = 3
sparkxy = -5,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 30
ground.velocity = 0,-8.5
air.velocity = 0,-8.5
air.hittime = 30
guard.ctrltime = 20
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 3070
nochainID = 8000
Palfx.time       = 30
Palfx.add       = 252,104,0
Palfx.sinadd   = 40,30,0,10
Palfx.color     = 64
Palfx.invertall = 0
persistent = 0
getpower = 0,0

[State 5100, EnvShake]
type = EnvShake
trigger1 = anim = 3001
time = 10
freq = 120
ampl = 3
persistent = 0

[State 1, Helper]
type = Helper
trigger1 = anim = 3001
trigger1 = movehit = 1
helpertype = normal ;player
name = "burn"
ID = 6800
stateno = 6800
pos = -30,-10
postype =p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime =999
pausemovetime = 999
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 3001
anim = 6116
scale = 0.45,0.33
postype = p1
facing = 1
pos = 18,8
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6061, Effect]
type = Explod
trigger1 = anim = 621
anim = f61
scale = 1,1
postype = p1
facing = 1
pos = 18,8
sprpriority = 0
ownpal = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 3001
anim = 6301
scale = 0.5,0.6
postype = p1
facing = 1
pos = 18,8
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6800, flames]
type = explod
trigger1 = anim = 3001
trigger1 = animelemtime(17) < 0
anim = 6800
ID = 6800
sprpriority = 3
pos = -30+random%100,0
scale=.4,.4
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = 1
vel = 0,-8-random%16

[State 6061, Effect]
type = Explod
trigger1 = anim = 3001
anim = 6117
scale = 0.65,0.5
postype = p1
facing = 1
pos = 25,-20
sprpriority = 5
ownpal = 1
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 3001
value = 500, 6
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 3001
value = 500, 9
ignorehitpause = 1
persistent = 0

[State 230, 1]
type = PlaySnd
trigger1 = anim = 3001
value = 500, 10
ignorehitpause = 1
persistent = 0

[State 1200, 6]
type = explod
trigger1 = time >= 10
trigger1 = pos Y >= 0
anim = 6806
pos = -20,10
facing = 1
sprpriority = 5
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = .55,.15
persistent = 0

[State 200, Damage Scaling]
type = targetstate
trigger1 = anim = 620
trigger1 = movehit
value = 5832
ignorehitpause = 1
persistent = 0

[State 200, Damage Scaling]
type = varset
trigger1 = anim = 3001
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.85
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = changeanim
trigger1 = time >= 30
trigger1 = pos Y >= 0
value = 3001
persistent = 0

[State 600, 3]
type = statetypeset
trigger1 = anim = 3001
statetype = C
physics = C
persistent = 0

[State 600, 3]
type = movehitreset
trigger1 = anim = 3001
persistent = 0

[State 1, ]
type = PlaySnd
triggerall = anim = 3001
trigger1 = animelem = 1
value = 40,0
persistent = 0

[State 1, ]
type = velset
trigger1 = anim = 3001
y = 0

[State 1, ]
type = posset
trigger1 = anim = 3001
y = 0

[State 1, ]
type = playsnd
trigger1 = anim = 3001
trigger1 = movehit
value = 3002,0
ignorehitpause = 1
persistent = 0

[state 19001 BF]
type = explod
triggerall = anim = 3001
trigger1 = movehit
anim = 6985
pos = 0,0
bindtime = -1
postype = back
supermovetime = 0
pausemovetime = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
sprpriority = -4

[State 52, 5]
type = ChangeState
triggerall = anim = 3001
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 3050]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3050
ctrl = 0
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 3050, 0
channel = 0

[State 1, ]
type = nothitby
trigger1 = animelemtime(5) < 0
value = SCA

[State 3007,]
type = Helper
trigger1 = !numhelper(8985)
helpertype = Normal
name = "Distortion"
stateno = 8985
ID = 7002
pos = 3,-51
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 3000, Super A]
type = SuperPause
trigger1 = time = 0
pos = 3, -51
anim = -1;100
time = 55
darken = 0
movetime = 17
sound = S3000, 1
poweradd = -1000
p2defmul = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7000
ID =7000
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 102,0

[State 1, Effect]
type = Explod
trigger1 = animelem = 4
anim = 6150
scale = 0.3,0.3
postype = p1
facing = 1
pos = 0,5
ownpal = 1
sprpriority = 3
bindtime = 1
ignorehitpause = 1 

[State 6061, Effect]
type = Explod
trigger1 = animelem = 5
anim = 6225
scale = .35,.4
postype = p1
facing = 1
pos = 0,-10
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 300, 2]
type = velset
trigger1 = animelem = 4
x = 30

[State 300, 2]
type = statetypeset
trigger1 = animelem = 7
physics = S

[State 300, 2]
type = velmul
trigger1 = animelemtime(7) > 0
x = 0.8

[State 100, 1]
type = playsnd
trigger1 = animelem = 7
value = 101,0

[State 100, 1]
type = playerpush
trigger1 = movecontact
value = 0

[State 6061, Effect]
type = Explod
trigger1 = animelem = 7
anim = 6005
scale = .3,.3
postype = p1
facing = -1
pos = 43,1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype != A
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(85+(17*numhelper(9884))), 5                  ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,-55               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 17
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-4        ;X-velocity at which opponent is pushed,
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1
p2facing = 1
p2stateno = 8997
envshake.time = 10
envshake.freq = 80
getpower = 0,0
kill = 0

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
trigger1 = enemynear,movetype = A
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(115+(23*numhelper(9884))), 5                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -10,-55               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 22
ground.velocity = 0,-9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-9        ;X-velocity at which opponent is pushed,
guard.ctrltime = 10
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1
p2facing = 1
p2stateno = 8997
envshake.time = 10
envshake.freq = 80
getpower = 0,0
kill = 0

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-90
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.2

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-60
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.2

[State 1200, 6]
type = explod
trigger1 = movehit
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-30
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.2

[State 200, Damage Scaling]
type = null;varset
trigger1 = movehit
fvar(4) = fvar(4)*0.85
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 8997
value = 3051

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3051]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3051                     ;Change animation (Def: no change)
poweradd = 0                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 1, ]
type = targetstate
trigger1 = numtarget
trigger1 = target,stateno != 8997
value = 8997

[State 630, 4]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 630, 4]
type = trans
;trigger1 = time < 100
trigger1 = 1
trans = addalpha
alpha = 256-(time*10),(time*10)

[State 1, ]
type = turn
trigger1 = time = 25

[State 300, 3]
type = ChangeState
trigger1 = time >= 25
value = 3052

;---------------------------------------------------------------------------
[Statedef 3052]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3052+random%3
sprpriority = 2

[State 1, ]
type = targetstate
trigger1 = numtarget
trigger1 = target,stateno != 8997
value = 8997

[State 1, ]
type = velset
trigger1 = !time
x = 50

[State 1, ]
type = posset
trigger1 = !time
x = (enemynear,pos x) - 200*facing

[State 1, ]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,1

[State 1, ]
type = velmul
trigger1 = movehit
x = .9

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 3050, 2
channel = 0

[State 630, 4]
type = trans
;trigger1 = time < 100
trigger1 = movehit
trans = addalpha
alpha = 256-(movehit*10),(movehit*10)

[State 1, ]
type = playsnd
trigger1 = !time
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
trigger8 = time = 70
trigger9 = time = 80
trigger10 = time = 90
value = 400,7

[State 1, ]
type = turn
triggerall = movehit
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
trigger4 = time = 40
trigger5 = time = 50
trigger6 = time = 60
trigger7 = time = 70
trigger8 = time = 80
trigger9 = time = 90

[State 1, ]
type = movehitreset
triggerall = movehit
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
trigger4 = time = 40
trigger5 = time = 50
trigger6 = time = 60
trigger7 = time = 70
trigger8 = time = 80
trigger9 = time = 90

[State 1, ]
type = velset
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
trigger4 = time = 40
trigger5 = time = 50
trigger6 = time = 60
trigger7 = time = 70
trigger8 = time = 80
trigger9 = time = 90
x = 50

[State 1, ]
type = changeanim
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
trigger4 = time = 40
trigger5 = time = 50
trigger6 = time = 60
trigger7 = time = 70
trigger8 = time = 80
trigger9 = time = 90
value = 3052+random%3
persistent = 1

[State 1200, 6]
type = explod
trigger1 = movehit = 1
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-90
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 1,.2

[State 1200, 6]
type = explod
trigger1 = movehit = 1
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-60
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 1,.2

[State 1200, 6]
type = explod
trigger1 = movehit = 1
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-30
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 1,.2

[State 210, 2]
type = HitDef
trigger1 = time < 90
trigger1 = !movecontact && !movereversed
attr = S,HA
animtype  = Hard
damage = ceil(9+(2*numhelper(9884))), 3
hitflag = MAFD
guardflag = MA
pausetime = 0,9
sparkno = 3
sparkxy = -10,-55
hitsound   = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -2
air.velocity = -1,-4.5
y.accel = 0.5
air.fall = 1
kill = 0
fall.recovertime = 50
guard.ctrltime = 15
nochainID = 8000
p2stateno = 8997
envshake.time = 10
envshake.freq = 80
p2facing = 1
getpower = 0,0

[State 202, 1]
type = HitDef
trigger1 = time >= 90
trigger1 = !movecontact && !movereversed
attr = S, HT                     ;Attribute: Standing, Normal Attack
damage = ceil(12+(2*numhelper(9884))),5                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 0                 ;Time attacker pauses, time opponent shakes
sparkno = -1                      ;Spark anim no (Def: set above)
sparkxy = -15, -50               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = -1                 ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 14             ;Time that the opponent slides back
ground.hittime  = 50             ;Time opponent is in hit state
ground.velocity = -3,-13           ;Velocity at which opponent is pushed
guard.velocity = -17
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,-13           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 30                 ;Time before opponent regains control in air
fall = 1
fall.recovertime = 28
guard.ctrltime = 34
ground.cornerpush.veloff = -1
guard.cornerpush.veloff = -17
air.cornerpush.veloff = -1
p2facing = 1
kill = 0
nochainID = 8000
p1stateno = 3055   
p2stateno = 8997
envshake.time = 10
envshake.freq = 80
getpower = 0,0

;---------------------------------------------------------------------------
[Statedef 3055]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3055                     ;Change animation (Def: no change)
poweradd = 0                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 630, 4]
type = null;screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 630, 4]
type = trans
;trigger1 = time < 100
trigger1 = 1
trans = addalpha
alpha = 0+(time*30),256-(time*30)

[State 100, 1]
type = Velmul
trigger1 = time < 35
x = .8

[State 100, 1]
type = Velset
trigger1 = animelem = 3
x = 25

[State 100, 1]
type = playsnd
trigger1 = !time
value = 101,0

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 102,0

[State 1, ]
type = PlaySnd
trigger1 = time = 10
value = 3050, 1
channel = 0

[State 1, ]
type = targetstate
trigger1 = numtarget
trigger1 = target,stateno != 8997
trigger1 = !movecontact
value = 8997

[State 300, 1]
type = HitDef
trigger1 = !movecontact && !movereversed
attr = S, HA                     ;Attribute: Standing, Normal Attack
damage = ceil(95+(19*numhelper(9884))), 5                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0, 7                 ;Time attacker pauses, time opponent shakes
sparkno = 3                      ;Spark anim no (Def: set above)
sparkxy = -15, -50               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 7                  ;Sound to play on hit
guardsound = S6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 6             ;Time that the opponent slides back
ground.hittime  = 20              ;Time opponent is in hit state
guard.ctrltime = 17
ground.velocity = 0,-12             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-12        ;X-velocity at which opponent is pushed,
fall = 1
fall.recovertime = 45
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
nochainID = 8000
p1sprpriority = -1
p2stateno = 3070
envshake.time = 15
envshake.freq = 140

[State 200, Damage Scaling]
type = varset
trigger1 = movehit
trigger1 = !moveguarded
fvar(4) = fvar(4)*0.8
ignorehitpause = 1
persistent = 0

[State 1, Effect]
type = Explod
trigger1 = animelem = 3
anim = 6150
scale = 0.3,0.3
postype = p1
facing = 1
pos = 0,5
ownpal = 1
sprpriority = 3
bindtime = 1
ignorehitpause = 1 

[State 6061, Effect]
type = Explod
trigger1 = time < 15
trigger1 = time%6 = 0
anim = 6005
scale = .3,.3
postype = p1
facing = -1
pos = 23,1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1

[State 1, ]
type = turn
trigger1 = !time

[State 300, 3]
type = ChangeState
trigger1 = movehit
value = 3056
ignorehitpause = 1

;---------------------------------------------------------------------------
[Statedef 3056]
type    = S
movetype= A
physics = N
juggle  = 4
anim = 3056
ctrl = 0
sprpriority = 2

[State 300, 2]
type = velmul
trigger1 = !time
x = 0.85

[State 300, 2]
type = velmul
trigger1 = animelemtime(8) > 0
x = 0.65

[State 100, 1]
type = playsnd
trigger1 = animelem = 8
value = 101,0

[State 1200, 6]
type = explod
trigger1 = time = 1
anim = 6931
ID = 6931
facing = -1
postype = p1
pos = 0,-60
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.3

[State 1200, 6]
type = explod
trigger1 = time = 1
anim = 6931
ID = 6931
facing = -1
postype = p1
pos = 0,-30
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.3

[State 1200, 6]
type = explod
trigger1 = time = 1
anim = 6931
ID = 6931
facing = -1
postype = p1
pos = 0,-90
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.3

[State 1200, 6]
type = explod
trigger1 = time = 1
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-60
sprpriority = 0
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.3

[State 1200, 6]
type = explod
trigger1 = time = 1
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-30
sprpriority = 0
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.3

[State 1200, 6]
type = explod
trigger1 = time = 1
anim = 6931
ID = 6931
facing = 1
postype = p1
pos = 0,-90
sprpriority = 0
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
scale = 1,.3

[State 6061, Effect]
type = Explod
trigger1 = animelem = 8
anim = 6005
scale = .3,.3
postype = p1
facing = -1
pos = 43,1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 1, ]
type = playsnd
trigger1 = time = 1
value = 3002,0
ignorehitpause = 1
persistent = 0

[state 19001 BF]
type = explod
trigger1 = time = 1
anim = 6985
pos = 0,0
bindtime = -1
postype = back
supermovetime = 0
pausemovetime = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
sprpriority = -4

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3070]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 3000,]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 3071

[Statedef 3071]
type    = A
movetype = H
physics = N

[State 3000,]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5051),5051,5030)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animtime = 0
value = ifelse(selfanimexist(5035),5035,5050)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5035
trigger1 = animtime = 0
value = 5050
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y >= -2
trigger1 = anim = 5051
trigger1 = selfanimexist(5061)
trigger1 = animtime = 0
value = 5061

[State 813,1]
type = Velset
trigger1 = time = 1 
x = -.4
y = -30

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 1.2

[State 813,]
type = PlayerPush
trigger1 = 1
value = 0

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 3072

[Statedef 3072]
type    = L
movetype = H
physics = N
sprpriority = 0

[State 3000,]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 814, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 2

[State 1200, 6]
type = explod
Trigger1 = !time
anim = F62
id = 1
pos = 0,0
facing = 1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 814,1]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 814,1]
type = posset
trigger1 = 1
y = 0

[State 814,]
type = PlayerPush
trigger1 = 1
value = 0

[State 814, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5100

[State 814, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5100
value = 5110

[State 814, ChangeState]
type = selfstate
trigger1 = alive
trigger1 = time > 20
trigger1 = Pos Y >= 0
value = 5120

[State 814, ChangeState]
type = selfstate
trigger1 = !alive
trigger1 = time > 20
trigger1 = Pos Y >= 0
value = 5150

;---------------------------------------------------------------------------
;Collapse
[Statedef 5550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 820, 1]
type = width
Trigger1 = time < 5
edge = 10,10+(time*25)

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitVelSet]
type = HitVelSet
trigger1 = hitshakeover
x = 1
persistent = 0

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = .8

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = !hitshakeover
value = 5501

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 821, 3]
type = selfstate
trigger1 = animtime = 0
value = 5110

;---------------------------------------------------------------------------
[Statedef 5842]
type    = A
movetype = H
physics = N

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 812, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5843

[Statedef 5843]
type    = A
movetype = H
physics = N

[State 813,1]
type = Velset
trigger1 = time = 1 
x = 0
y = 25

[State 813,2]
type = VelAdd
trigger1 = time > 1
y = 0.3

[State 813,]
type = PlayerPush
trigger1 = 1
value = 1

[State 1200, 6]
type = explod
trigger1 = Pos Y >= 0
anim = F60
id = 1
pos = -17,0
facing = 1
sprpriority = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 813, 2]
type = ChangeState
triggerall = time > 1
trigger1 = Pos Y >= 0
value = 5844

[Statedef 5844]
type    = A
movetype = H
physics = N
sprpriority = 0

[State 814, 4]
type = PlaySnd
trigger1 = time = 1
value = F7, 0

[State 814,1]
type = Velset
trigger1 = time = 0
x = -0.3
y = -13

[State 814,2]
type = VelAdd
trigger1 = time >= 0
y = 0.3

[State 814,]
type = PlayerPush
trigger1 = 1
value = 1

[State 814, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5160

[State 814, 3]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 814, 4]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5035
trigger1 = SelfAnimExist(5035)
value = 5050

[State 814, ChangeState]
type = selfstate
trigger1 = time > 10
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
;Astral Heat
[Statedef 3900]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3900
ctrl = 0
sprpriority = 2

[State 1, 3]
type = playsnd
trigger1 = animelem = 18
value = 0, 5

[State 195, 1]
type = playsnd
trigger1 = !time
value = 3900,1
channel = 0

[State 3007,]
type = Helper
trigger1 = !numhelper(8985)
helpertype = Normal
name = "Distortion"
stateno = 8985
ID = 7003
pos = 5,-50
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 3000, Super A]
type = SuperPause
trigger1 = time = 0
pos = 5, -50
anim = -1;100
time = 50
darken = 0
movetime = 41
sound = S3000, 2
poweradd = -2000

[State 0,Cutin]
type = Explod
trigger1 = facing = 1
trigger1 = time = 0
anim = 7008
id = 7008
postype = left
pos = 150,250
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=999
pausemovetime=999
scale = .35,.35
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0,Cutin]
type = Explod
trigger1 = facing = -1
trigger1 = time = 0
anim = 7008
id = 7008
postype = right
pos = -150,250
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=999
pausemovetime=999
scale = .35,.35
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0,Text]
type = Explod
trigger1 = time = 0
anim = 7009
id = 7008
postype = left
pos = 25,185
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = .35,.35
sprpriority = 10
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0]
type = modifyexplod
trigger1 = time <= 10
trans = addalpha
alpha = 25*(time-0),256-(25*(time-0))
id = 7008
supermovetime=999
pausemovetime=999

[State 0]
type = modifyexplod
trigger1 = time >= 31
trans = addalpha
alpha = 256-(25*(time-31)),25*(time-31)
id = 7008
supermovetime=999
pausemovetime=999

[State 3000, Super D]
type = NotHitBy
trigger1 = animelemtime(10) <= 2
trigger2 = movehit
value = SCA
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6001
pos = 25,-70
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.6,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6001
pos = 31,-85
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.75,0.7

[State 1200, 6]
type = explod
trigger1 = AnimElem = 11
anim = 6001
pos = 36,-98
facing = -1
vfacing = -1
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.6,0.7

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 9
value = 0, 5

[State 3000, 6]
type = HitDef
trigger1 = !movecontact && !movereversed
attr = S, HA
animtype  = Hard
damage    = ceil(50),10
getpower  = 0
priority  = 5
hitflag = MAFD
guardflag = MA
pausetime = 2,6
sparkno = 3
sparkxy = -5,-65
hitsound   = S5,6
guardsound = S6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -15
guard.velocity = -12
air.velocity = -15.5,-5
airguard.velocity = -3,-3
kill = 0
guard.kill = 0
getpower = 0,0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3000, 7]
type = targetState
Triggerall = numtarget
trigger1 = target,stateno != 3915
trigger1 = movehit
value = 3915

[State 0, Explod]
type = Explod
trigger1 = movehit
trigger1 = enemynear,stateno = 3915
anim = 7013
ID = 7012
pos = -50,-50
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 2,2
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
persistent = 0

[State 200, Powerup end]
type = varset
trigger1 = !time
fvar(19) = 0
ignorehitpause = 1
persistent = 0

[State 3000, 7]
type = ChangeState
trigger1 = movehit
trigger1 = enemynear,stateno = 3915
trigger1 = time >= 85
value = 3901

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 3901]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3901
ctrl = 0
sprpriority = 2

[State 161,]
type = posset
trigger1 = !time
x = 0
y = 0

[State 195, 1]
type = playsnd
trigger1 = time = 10
value = 3900,0
channel = 0

[State 195, 1]
type = playsnd
trigger1 = time = 160
value = 3900,2
channel = 0

[State 195, 1]
type = playsnd
trigger1 = time = 295
value = 3900,3
channel = 0

[State 161,]
type = removeexplod
trigger1 = time = 10
ID = 7012

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 7018
ID = 7018
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 135
anim = 7014
ID = 7011
pos = -50,-50
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 2,2
sprpriority = 17
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
persistent = 0

[State 195, 1]
type = playsnd
trigger1 = time = 10
value = 700,1

[State 195, 1]
type = playsnd
trigger1 = time = 40
value = 500,7

[State 195, 1]
type = playsnd
trigger1 = time = 60
value = 500,9

[State 195, 1]
type = playsnd
trigger1 = time = 130
value = 500,8

[State 195, 1]
type = playsnd
trigger1 = time = 100
value = 3951,2

[State 1200, 6]
type = targetstate
trigger1 = time >= 135
trigger1 = time < 355
trigger1 = time%8 = 0
value = 8998

[State 1200, 6]
type = playsnd
trigger1 = time >= 135
trigger1 = time < 355
trigger1 = time%8 = 0
value = 5,5

[State 1200, 6]
type = hitadd
trigger1 = time >= 135
trigger1 = time < 355
trigger1 = time%8 = 0
trigger2 = time = 355
value = 1

[State 3000, 7]
type = targetState
Triggerall = numtarget
trigger1 = target,stateno != 3915
trigger1 = time >= 355
value = 3915

[State 1200, 6]
type = explod
trigger1 = time >= 135
trigger1 = time < 355
trigger1 = time%8 = 0
anim = f2
postype = p2
pos = -5+random%10,-40-random%30
facing = 1
sprpriority = 10
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 1,1

[State 1200, 6]
type = explod
trigger1 = time >= 135
trigger1 = time%9 = 0
anim = 6000
ID = 3950
pos = 0,-30
facing = 1
vfacing = -1
sprpriority = 3
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 1,0.2
vel = 0,-6

[State 1200, 6]
type = explod
trigger1 = time >= 135
trigger1 = time%9 = 3
anim = 6001
ID = 3950
pos = 0,-30
facing = 1
vfacing = -1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 1,0.2
vel = 0,-6

[State 1200, 6]
type = explod
trigger1 = time >= 135
trigger1 = time%9 = 6
anim = 6002
ID = 3950
pos = 0,-30
facing = 1
vfacing = -1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 1,0.2
vel = 0,-6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3950
ID = 3950
pos = -80,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = .35,.35
sprpriority = 15
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1200, 6]
type = explod
trigger1 = time = 10
anim = 3903
id = 3950
pos = 0,0
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
scale = 0.3,0.3

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 3975
ID = 3950
anim = 7014
ID = 7014
pos = 0,70
postype = right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermovetime=99
pausemovetime=99
scale = 0.9,0.5
sprpriority = 8
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 3975
ID = 3950
anim = 7014
ID = 7014
pos = 0,-70
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermovetime=99
pausemovetime=99
scale = 0.6,0.5
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 3980
ID = 3950
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = .5,.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 6800, flames]
type = explod
trigger1 = time >= 10
anim = 6800
ID = 6800
sprpriority = 3
pos = -50+random%100,0-random%10
scale=.4,.4
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = 1
vel = -3+random%7,-8-random%16

[State 161,]
type = changeanim
trigger1 = time = 350
value = 3902

[State 195, 1]
type = playsnd
trigger1 = time = 150
value = 3951,0

[State 195, 1]
type = playsnd
trigger1 = time = 354
value = 3951,1

[State 6800, flames]
type = explod
trigger1 = anim = 3902
anim = 6950
ID = 3950
sprpriority = 1
pos = 0,3
scale=1,1
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = -1
persistent = 0

[State 6800, flames]
type = explod
trigger1 = time = 375
anim = 6955
ID = 3950
sprpriority = 5
pos = 0,25
scale = 2,2
ownpal = 1
pausemovetime = 999
supermovetime = 999
bindtime = -1
persistent = 0

[State 6061, Effect]
type = Explod
trigger1 = time = 400
anim = 6301
scale = 2,2
postype = p1
facing = 1
pos = 0,40
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 6061, Effect]
type = Explod
trigger1 = time = 400
anim = 6301
scale = 2,2
postype = p1
facing = -1
pos = 0,40
sprpriority = 5
ownpal = 1
bindtime = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 400
anim = 7016
ID = 7011
pos = -50,-50
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 2,2
sprpriority = 50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
persistent = 0

[State 5100, EnvShake]
type = EnvShake
trigger1 = time = 355
time = 50
freq = 150
ampl = 4
persistent = 0

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = timerfreeze
flag2 = noFG
flag3 = noBG
ignorehitpause = 1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = nobardisplay
flag2 = noshadow
ignorehitpause = 1

[State 3000, 7]
type = varset
trigger1 = !time
var(20) = 1

[State 3000, 7]
type = varset
trigger1 = !time
var(21) = 1

[State 3000, Super D]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 4]
type = velset
trigger1 = !time
x = 0
y = 0

[State 195, 1]
type = targetlifeadd
trigger1 = time = 425
value = -(enemynear,lifemax)

[State 7005]
type = removeexplod
trigger1 = winko
id = 7005
ignorehitpause = 1

[State 7005, ]
type = bgpalfx
trigger1 = winko
;trigger2 = roundstate = 3
time = 25
color = 256
add = 256,256,256
mul = 256,256,256
sinadd = -256,-256,-256,100
ignorehitpause = 1
persistent = 0

[State 7005, ]
type = pause
trigger1 = winko
;trigger2 = roundstate = 3
time = 10
ignorehitpause = 1
persistent = 0

[State 7005]
type = playsnd
trigger1 = winko
;trigger2 = roundstate = 3
value = 7005, 1
ignorehitpause = 1
persistent = 0

[State 3000,]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 7005

[State 1000, 7]
type = ChangeState
trigger1 = time >= 485
value = 3971

;---------------------------------------------------------------------------
[Statedef 3971]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 2

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3940
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 7120
ignorehitpause = 1

[State 0, Explod]
type = removeExplod
trigger1 = !time
ID = 7005

[State 0, Explod]
type = removeExplod
trigger1 = !time
ID = 3960

[State 0, Explod]
type = removeExplod
trigger1 = !time
ID = 3950

[State 0,]
type = targetstate
trigger1 = !time
value = 3920
ignorehitpause = 1

[State 4105, 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 4105, 1]
type = posset
trigger1 = !time
x = 0
y = 0

[State 4105, 1]
type = assertspecial
trigger1 = 1
flag = invisible

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 2000]
type = AssertSpecial
trigger1 = 1
flag = NoFG
ignorehitpause = 1

[State 3000, Super D]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7015
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 1200, 4]
type = ChangeState
trigger1 = time >= 15
value = 196

;---------------------------------------------------------------------------
[Statedef 3902]
type    = A
movetype= H
physics = N
sprpriority = 4
anim = 3910

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 161,]
type = targetstate
trigger1 = !time
value = 3915

[State 600]
Type = Helper
trigger1 = !time
StateNo = 3958
ID = 3958
Name = "Row"
Pos = 0, 50
PosType = P2
facing = 1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
sprpriority = -3
Size.XScale = 0.2
Size.YScale = 0.2

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7010
ID = 7010
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 2,1
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 7005]
type = removeexplod
trigger1 = !time
id = 7011

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 195, 1]
type = playsnd
trigger1 = time = 30
value = 3900,1
channel = 0

[State 200, 2]
type = angledraw
trigger1 = time < 70
scale = 2,2
value = 0

[State 200, 2]
type = angledraw
trigger1 = time = [70,90]
scale = 2-((time-70)*.045),2-((time-70)*.045)
value = 0

[State 200, 2]
type = angledraw
trigger1 = time > 90
scale = 1,1
value = 0

[State 1403,1]
type = posset
trigger1 = !time
trigger2 = time = 91
x = 0
y = 0

[State 1403,1]
type = posset
trigger1 = time > 1
trigger1 = time < 70
x = 0
y = 90

[State 1403,1]
type = posset
trigger1 = time = [70,90]
x = 0
y = 90-((time-70)*4)

[State 1403,1]
type = Velset
trigger1 = !time
x = 0
y = 0

[State 1403,1]
type = changeanim
trigger1 = time = 125
value = 3911

[State 1403,1]
type = Velset
trigger1 = anim = 3911
x = -4
y = 0
persistent = 0

[State 1403,1]
type = Velmul
trigger1 = anim = 3911
x = .995

[State 1403,1]
type = changeanim
trigger1 = time = 200
value = 3912

[State 1403,1]
type = Velset
trigger1 = anim = 3912
x = 5
y = 0
persistent = 0

[State 1403,1]
type = Velmul
trigger1 = anim = 3912
x = 1.05

[State 195, 1]
type = playsnd
trigger1 = anim = 3912
value = 3901,2
persistent = 0

[State 195, 1]
type = changestate
trigger1 = time >= 245
value = 3903

[State 7005]
type = removeexplod
trigger1 = winko
id = 7005
ignorehitpause = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 3911
trigger1 = time%4 = 0
anim = 6005
scale = .45,.45
postype = p1
facing = -1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1

[State 6061, Effect]
type = Explod
trigger1 = anim = 3912
trigger1 = time%4 = 0
anim = 6005
scale = .65,.65
postype = p1
facing = 1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1

[State 7005, ]
type = bgpalfx
trigger1 = winko
;trigger2 = roundstate = 3
time = 25
color = 256
add = 256,256,256
mul = 256,256,256
sinadd = -256,-256,-256,100
ignorehitpause = 1
persistent = 0

[State 7005, ]
type = pause
trigger1 = winko
;trigger2 = roundstate = 3
time = 10
ignorehitpause = 1
persistent = 0

[State 7005]
type = playsnd
trigger1 = winko
;trigger2 = roundstate = 3
value = 7005, 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 3903]
type    = A
movetype= H
physics = N
sprpriority = 1
anim = 3913

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6805
id = 6805
postype = p2
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
removetime = -1
ownpal = 1
scale = .45,.45

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 161,]
type = targetstate
trigger1 = !time
value = 3920

[State 7005]
type = removeexplod
trigger1 = !time
id = 7011

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 195, 1]
type = playsnd
trigger1 = time = 65
value = 3900,2
channel = 0

[State 195, 1]
type = playsnd
trigger1 = time = 65
value = 3901,6

[State 195, 1]
type = playsnd
trigger1 = time = 205
value = 3900,3
channel = 0

[State 195, 1]
type = sprpriority
trigger1 = time = 65
value = 6

[State 1403,1]
type = posset
trigger1 = !time
x = (-200)*facing
y = 0

[State 1403,1]
type = Velset
trigger1 = !time
x = 0
y = 0

[State 1403,1]
type = Velset
trigger1 = time = 45
x = 10
y = 0

[State 1403,1]
type = Velmul
trigger1 = anim = 3913
trigger1 = time = [70,100]
x = .9

[State 1403,1]
type = Veladd
trigger1 = anim = 3913
trigger1 = time > 100
x = -.1

[State 1403,1]
type = changeanim
trigger1 = time = 125
value = 3914

[State 1403,1]
type = Velset
trigger1 = anim = 3914
x = -8
y = 0
persistent = 0

[State 1403,1]
type = Velmul
trigger1 = anim = 3914
trigger1 = time = [140,180]
x = .95

[State 1403,1]
type = Veladd
trigger1 = anim = 3914
trigger1 = time > 190
x = .03

[State 1403,1]
type = changeanim
trigger1 = time = 225
value = 3915

[State 1403,1]
type = Velset
trigger1 = anim = 3915
x = 16
y = 0
persistent = 0

[State 1200, 6]
type = explod
trigger1 = anim = 3914
trigger1 = animelem = 2
anim = 3930
postype = p1
pos = 0,0
facing = 1
sprpriority = 8
bindtime = -1
ownpal = 1
scale = .22,.22

[State 1200, 6]
type = explod
trigger1 = anim = 3914
trigger1 = animelem = 2
anim = 3931
postype = p1
pos = 0,0
facing = 1
sprpriority = 9
bindtime = -1
ownpal = 1
scale = .22,.22

[State 1200, 6]
type = explod
trigger1 = anim = 3915
trigger1 = animelem = 2
anim = 3932
postype = p1
pos = 0,0
facing = 1
sprpriority = 8
bindtime = -1
ownpal = 1
scale = .22,.22

[State 1200, 6]
type = explod
trigger1 = anim = 3915
trigger1 = animelem = 2
anim = 3933
postype = p1
pos = 0,0
facing = 1
sprpriority = 9
bindtime = -1
ownpal = 1
scale = .22,.22

[State 195, 1]
type = playsnd
trigger1 = anim = 3914
trigger1 = animelem = 2
trigger2 = anim = 3915
trigger2 = animelem = 2
value = 5,7

[State 5100, EnvShake]
type = EnvShake
trigger1 = anim = 3914
trigger1 = animelem = 2
time = 10
freq = 50
ampl = 3

[State 5100, EnvShake]
type = EnvShake
trigger1 = anim = 3915
trigger1 = animelem = 2
time = 10
freq = 100
ampl = 5

[State 5100,]
type = hitadd
trigger1 = anim = 3914
trigger1 = animelem = 2
trigger2 = anim = 3915
trigger2 = animelem = 2
value = 1

[State 195, 1]
type = playsnd
trigger1 = anim = 3915
trigger1 = animelem = 2
value = 3902,0

[State 195, 1]
type = playsnd
trigger1 = anim = 3914
trigger1 = animelem = 2
value = 3901,3

[State 195, 1]
type = playsnd
trigger1 = anim = 3915
trigger1 = animelem = 2
value = 3901,4

[State 1403,1]
type = Velmul
trigger1 = anim = 3915
trigger1 = time > 240
x = .6

[State 600]
Type = Helper
trigger1 = !time
StateNo = 3960
ID = 3960
Name = "Row"
Pos = -60, -50
PosType = P1
facing = 1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
sprpriority = -3
Size.XScale = 0.3
Size.YScale = 0.3

[State 600]
Type = Helper
trigger1 = !time
StateNo = 3957
ID = 3957
Name = "Row"
Pos = 80, 100
PosType = P1
facing = 1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
sprpriority = 9
Size.XScale = 0.7
Size.YScale = 0.7

[State 1200, 6]
type = explod
trigger1 = anim = 3914
trigger1 = animelem = 2
trigger2 = anim = 3915
trigger2 = animelem = 2
anim = F3
postype = p2
pos = 0,-64
sprpriority = 4
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1

[State 1200, 6]
type = explod
trigger1 = anim = 3914
trigger1 = animelem = 2
anim = 3940
facing = -1
postype = p2
pos = 0,-83
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 1.25,1.25

[State 1200, 6]
type = explod
trigger1 = anim = 3915
trigger1 = animelem = 2
anim = 3940
facing = 1
postype = p2
pos = 0,-83
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 2,2

[State 1200, 6]
type = explod
trigger1 = anim = 3914
trigger1 = animelem = 2
anim = 3940
facing = -1
postype = p2
pos = 0,-83
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 1.25,1.25

[State 1200, 6]
type = explod
trigger1 = anim = 3915
trigger1 = animelem = 2
anim = 3940
facing = 1
postype = p2
pos = 0,-83
sprpriority = 4
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 2,2

[State 1200, 6]
type = explod
trigger1 = anim = 3914
trigger1 = animelem = 2
anim = 3941
facing = -1
postype = p2
pos = 0,-83
sprpriority = 5
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 1.25,1.25

[State 1200, 6]
type = explod
trigger1 = anim = 3915
trigger1 = animelem = 2
anim = 3941
facing = 1
postype = p2
pos = 0,-83
sprpriority = 5
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
bindtime = 1
scale = 2,2

[State 1200, 6]
type = removeexplod
trigger1 = anim = 3915
trigger1 = animelem = 2
id = 6805

[State 1200, 6]
type = explod
trigger1 = anim = 3915
trigger1 = animelem = 2
anim = 6807
id = 6806
postype = p2
pos = 0,0
facing = 1
sprpriority = 3
bindtime = -1
ownpal = 1
scale = .5,.5

[State 1000, 7]
type = targetlifeadd
trigger1 = time = 233
value = -999999999999999

[State 0, Explod]
type = Explod
trigger1 = time = 234
anim = 7012
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 7005]
type = removeexplod
trigger1 = winko
id = 7005
ignorehitpause = 1

[State 7005, ]
type = bgpalfx
trigger1 = winko
;trigger2 = roundstate = 3
time = 25
color = 256
add = 256,256,256
mul = 256,256,256
sinadd = -256,-256,-256,100
ignorehitpause = 1
persistent = 0

[State 7005, ]
type = pause
trigger1 = winko
;trigger2 = roundstate = 3
time = 10
ignorehitpause = 1
persistent = 0

[State 7005]
type = playsnd
trigger1 = winko
;trigger2 = roundstate = 3
value = 7005, 1
ignorehitpause = 1
persistent = 0

[State 1000, 7]
type = ChangeState
trigger1 = time >= 270
value = 3951
;---------------------------------------------------------------------------
[Statedef 3910]
type    = A
movetype = H
physics = N

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 812,1]
type = Velset
trigger1 = time < 30
x = 0
y = 0

[State 812,]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5051

[State 812, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 3911

[Statedef 3911]
type    = A
movetype = H
physics = N

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 813,1]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 813,1]
type = Velset
trigger1 = time = 1 
y = -2
x = 0

[State 813,1]
type = Velmul
trigger1 = time <= 20 
y = .95

;---------------------------------------------------------------------------
[Statedef 3915]
type    = A
movetype= H
physics = N

[State 813,1]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 813,]
type = PlayerPush
trigger1 = 1
value = 0

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 813,1]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 813,1]
type = null;assertspecial
trigger1 = 1
flag = invisible

[State 813,1]
type = Velset
trigger1 = !time
y = 0
x = 0

[State 813,1]
type = posset
trigger1 = time = 25
y = 0
x = -65*facing

[State 813,1]
type = changeanim
trigger1 = time = 25
value = 5300

[State 813,1]
type = changeanim
trigger1 = enemynear,time = 362
value = 5051

[State 813,1]
type = Velset
trigger1 = enemynear,time = 362
y = -6
x = 0

[State 813,]
type = PlayerPush
trigger1 = 1
value = 0

[State 813,]
type = changestate
trigger1 = time >= 70
trigger1 = enemynear,stateno != [3050,3999]
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3920]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[State 813,1]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, HitVelSet]
type = posset
trigger1 = !time
y = -2
x = 0

[State 1403,1]
type = Velset
trigger1 = time >= 65
x = (enemynear,vel x)

[State 0, ChangeAnim]
type = velset
trigger1 = time = 231
y = -.1
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time < 230
time = 1
add = 0,50,240
mul = 150,224,150
color = 0
ignorehitpause = 1

[State 8999, Anim]
type = Changestate
trigger1 = enemynear,stateno != [3901,3903]
value = 3925

;---------------------------------------------------------------------------
[Statedef 3925]
type    = A
movetype= H
physics = N

[State 1403, 2] 
type = ChangeAnim2
trigger1 = Time = 0
value = 9999

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1403,1]
type = Velset
trigger1 = 1
x = 0
y = 0

[State 1403,1]
type = posset
trigger1 = time > 30
trigger1 = alive
y = -1000

[State 1403,1]
type = posset
trigger1 = time > 30
trigger1 = !alive
y = 9999

[State 1403,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1403,1]
type = selfstate
trigger1 = time > 31
trigger1 = alive
value = 5050

[State 1403,1]
type = changestate
trigger1 = time > 31
trigger1 = !alive
value = 5150

;---------------------------------------------------------------------------
[Statedef 3951]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 9999
sprpriority = 2

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = noFG
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 7120
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3960
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3970
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3971
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3977
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3975
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3976
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3978
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3979
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3980
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3981
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 3070
ignorehitpause = 1

[State 1200, 6]
type = removeexplod
trigger1 = !time
id = 6800
ignorehitpause = 1

[State 1, 3]
type = playsnd
trigger1 = !time
value = 3951, 0

[State 195, 1]
type = playsnd
trigger1 = !time
value = 3950,1
channel = 0

[State 0, Explod]
type = removeExplod
trigger1 = !time
ID = 7005

[State 0, RemoveExplod]
type = targetstate
trigger1 = !time
value = 3961
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 3920
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=999
pausemovetime=999
scale = 1,1
sprpriority = 8
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 4105, 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 4105, 1]
type = assertspecial
trigger1 = 1
flag = invisible

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 2000]
type = AssertSpecial
trigger1 = 1
flag = NoFG
ignorehitpause = 1

[State 3000, Super D]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = null;Explod
trigger1 = time = 10
anim = 7012
ID = 7011
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 1200, 4]
type = posset
trigger1 = 1
x = 0
y = 0

[State 1200, 4]
type = ChangeState
trigger1 = roundstate < 3
trigger1 = time >= 30
value = 196

[State 3000, 7]
type = changestate
trigger1 = roundstate >= 3
trigger1 = time >= 10
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3961]
type    = A
movetype= H
physics = N
sprpriority = -5

[State 1403, 2] 
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1403,1]
type = Velset
trigger1 = 1
x = 0
y = 0

[State 1403,1]
type = posset
trigger1 = time > 1
trigger1 = alive
y = -2000

[State 1403,1]
type = posset
trigger1 = time > 1
trigger1 = !alive
y = 9999

[State 1403,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1403,1]
type = selfstate
trigger1 = time > 31
trigger1 = alive
value = 5050

[State 1403,1]
type = changestate
trigger1 = time > 31
trigger1 = !alive
value = 5150

;---------------------------------------------------------------------------
;Zero Gravity
[Statedef 3999]
type    = A
movetype= H
physics = N

[State 3999]
type = ChangeAnim
Trigger1 = !time
value = 5050

[State 3999]
type = veladd
Trigger1 = Time < 5
y = -2

[State 3999]
type = velset
Trigger1 = Time = 7
y = .1

;---------------------------------------------------------------------------
;Zero Gravity II
[Statedef 3998]
type    = A
movetype= H
physics = N

[State 3999]
type = ChangeAnim
Trigger1 = !time
value = 5030

[State 3999]
type = veladd
Trigger1 = Time > 0
y = 0

;------------------------------------------------------------------------------------------------------------
; Force Standing Gethit (High)
[Statedef 8997]
type    = S
movetype= H
physics = N
velset = 0,0

[State 8999, Anim]
type = ChangeAnim
trigger1 = !time
value = 5002

[State 8999, Anim]
type = ChangeAnim
trigger1 = anim = 5002
trigger1 = animtime = 0
value = 5007

[State 8999, Anim]
type = width
trigger1 = !time
edge = 65,65

[State 0, HitVelSet]
type = velset
trigger1 = 1
x = 0
y = 0

[State 0, HitVelSet]
type = posset
trigger1 = 1
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = !alive
value =5050

[State 8999, State]
type = selfstate
trigger1 = time = 300
trigger2 = time >= 70
trigger2 = enemynear,stateno != [3050,3055]
value = 0
ctrl=1

;------------------------------------------------------------------------------------------------------------
; Force Standing Gethit (Low)
[Statedef 8998]
type    = S
movetype= H
physics = N
velset = 0,0

[State 8999, Anim]
type = ChangeAnim
trigger1 = time=0
value = 5017

[State 0, HitVelSet]
type = velset
trigger1 = 1
x = 0
y = 0

[State 0, HitVelSet]
type = posset
trigger1 = 1
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = !alive
value =5050

[State 8999, State]
type = selfstate
trigger1 = time = 300
trigger2 = time >= 70
trigger2 = enemynear,stateno != [3050,3055]
value = 0
ctrl=1

;------------------------------------------------------------------------------------------------------------
; Stagger
[Statedef 8999]
type    = S
movetype= H
physics = N

[State 0, HitFallSet]
type = HitFallSet
trigger1 = !time
value = 0
persistent = 0

[State 0,]
type = Turn
trigger1 = facing * enemynear(0),facing = 1

[State 0, HitVelSet]
type = VelSet
trigger1 = !time
x = -2.5

[State 0, HitVelSet]
type = Velmul
trigger1 = time > 5
x = 0.9

[State 0, HitVelSet]
type = posset
trigger1 = 1
y = 0

[State 8999, Anim]
type = ChangeAnim
triggerall = time=0
trigger1 = selfanimexist(5180)
value = 5180

[State 8999, Anim]
type = ChangeAnim
triggerall = time=0
triggerall = anim!=5180
trigger1 = selfanimexist(5003)
value = 5003

[State 8999, Anim]
type = ChangeAnim
trigger1 = time=0
triggerall = !selfanimexist(5003)
triggerall = !selfanimexist(5180)
value = 5012

[State 0, SelfState]
type = SelfState
trigger1 = !alive
value =5050

[State 8999, State]
type = selfstate
trigger1 = time = 38
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Cancel Stand
[Statedef 6060]
type    = S
physics = N  
ctrl = 1
 
[State 6060, PosSet]
type = PosSet
trigger1 = !time  
y = 0
ignorehitpause = 1

[State 6060]
type = poweradd
;triggerall = var(13) = 0
trigger1 = !time
trigger1 = prevstateno != [3000,3099]
value = -1000

[State 6060]
type = poweradd
;triggerall = var(13) = 0
trigger1 = !time
trigger1 = prevstateno = [3000,3099]
value = -500

[State 6060]
type = null;poweradd
triggerall = var(13) = 1
trigger1 = !time
value = -500
 
[State 6060]
type = VelSet
trigger1 = !time
x = 0
y = 0
ignorehitpause = 1

[State 6060, Cancel SFX]
type = PlaySnd
trigger1 = !time
value = 6060, 0

[State 230, 1]
type = stopSnd
trigger1 = Time = 0
channel = 2

[State 1200, 6]
type = removeexplod
trigger1 = time= 0
id = 6621

[State 6060, Effect]
type = PalFX
;triggerall = var(13) = 0
trigger1 = time = 0
trigger1 = prevstateno != [3000,3099]
time = 5
add = 100,100,100

[State 6060, Effect]
type = PalFX
;triggerall = var(13) = 0
trigger1 = time = 0
trigger1 = prevstateno = [3000,3099]
time = 5
add = 0,0,250

[State 6060, Effect]
type = null;PalFX
triggerall = var(13) = 1
trigger1 = time = 0
time = 5
add = 250,0,0

[State 6060, Effect]
type = Explod
trigger1 = time = 0
anim = 6113
scale = 1,1
postype = p1
pos = 2,-77
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1

[State 6060]
type = PosSet
trigger1 = Time = 1
y = 0
 
[State 6060, ChangeAnim]
type = ChangeAnim
trigger1 = pos y < 0
value = 0
ignorehitpause = 1

[State 6060, ChangeAnim]
type = Changestate
trigger1 = command = "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 100
ignorehitpause = 1

[State 6060, ChangeAnim]
type = Changestate
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 105
ignorehitpause = 1

[State 6060, DestroySelf]
type = ChangeState
trigger1 = time >2
value = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Cancel air
[Statedef 6061]
type    = A
physics = N  
ctrl = 1
 
[State 6061, PosSet]
type = null;PosSet
trigger1 = !time  
y = 0
ignorehitpause = 1

[State 6061]
type = poweradd
;triggerall = var(13) = 0
trigger1 = !time
trigger1 = prevstateno != [3000,3099]
value = -1000

[State 6061]
type = poweradd
;triggerall = var(13) = 0
trigger1 = !time
trigger1 = prevstateno = [3000,3099]
value = -500

[State 6060]
type = null;poweradd
triggerall = var(13) = 1
trigger1 = !time
value = -500
 
[State 6061]
type = VelSet
trigger1 = !time
x = 0
y = 0
ignorehitpause = 1
 
[State 6061, Cancel SFX]
type = PlaySnd
trigger1 = !time
value = 6060, 0

[State 230, 1]
type = stopSnd
trigger1 = Time = 0
channel = 2

[State 1200, 6]
type = removeexplod
trigger1 = time= 0
id = 6621

[State 6061, Effect]
type = PalFX
trigger1 = time = 0
;triggerall = var(13) = 0
trigger1 = prevstateno != [3000,3099]
time = 5
add = 100,100,100

[State 6061, Effect]
type = PalFX
trigger1 = time = 0
;triggerall = var(13) = 0
trigger1 = prevstateno = [3000,3099]
time = 5
add = 0,0,250

[State 6061, Effect]
type = null;PalFX
trigger1 = time = 0
triggerall = var(13) = 1
time = 5
add = 250,0,0

[State 6061, Effect]
type = Explod
trigger1 = time = 0
anim = 6113
scale = 1,1
postype = p1
pos = 2,-77
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
bindtime = 1
 
[State 6061, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 1
value = 41
ignorehitpause = 1

[State 6061, ChangeAnim]
type = Changestate
trigger1 = command = "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 102
ignorehitpause = 1

[State 6061, ChangeAnim]
type = Changestate
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 103
ignorehitpause = 1

[State 6061, ChangeAnim]
type = Changestate
trigger1 = command = "holddown"
value = 53
ignorehitpause = 1

[State 6061, DestroySelf]
type = ChangeState
trigger1 = time >2
value = 51
ignorehitpause = 1

;--------------------------------------------
;Burst
[StateDef 8000]
Type = A
Physics = N
MoveType = A
Anim = 8000
VelSet = 0,0
ctrl = 0
sprpriority = 2

[State 1, ]
type = PlaySnd
trigger1 = time = 0
value = 8000, 0
channel = 0

[State 8000,]
type = Turn
trigger1 = p2dist x < 0
trigger1 = !time

[state 8000]
type = notHitBy
trigger1 = 1
value = SCA
time = 1

[state 8000]
type = posset
trigger1 = Pos Y >=0
y = 0

[State 8000, ]
type = palfx
trigger1 = animelem = 1
time = 8
add = 255,255,255

[State 8000, VarSet]
type = VarSet
trigger1 = AnimElem = 2
V = 50
Value = 1

[State 8000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, HitDef]
type = HitDef
ID = 8000
trigger1 = AnimElem = 2
attr = S, SA
damage = 0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
guard.pausetime = 0,16
sparkno = 3
sparkxy = 0,-75
hitsound = S5,3
hitsound = S1011,2
guardsound = S0,0
ground.type = high
ground.slidetime = 18
ground.hittime = 9
ground.velocity = -10,-4.4
airguard.ctrltime = 2
guard.velocity = -3
air.velocity = -10,-4.4
air.type = high
fall = 1
fall.recovertime = 100
envshake.time = 9
envshake.ampl = 3
fall.yvelocity = -4.5
getpower = 0
givepower = 0
yaccel = 0.4
ground.cornerpush.veloff = -35
air.cornerpush.veloff = -35

[State 8000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 8000, PlaySnd]
type = null;PlaySnd
trigger1 = AnimElem = 6
value = s50,0

[State 9000, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s8005, 0

[State 8000, Effect]
type = Explod
trigger1 = animelem = 1
anim = 8005
scale = 0.7,0.7
postype = p1
pos = 0,-65
ownpal = 1
sprpriority = 0
bindtime = -1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause =1
persistent = 0

[State 9000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 51

;--------------------------------------------
;Ultra Burst
[StateDef 8050]
Type = A
Physics = N
MoveType = A
Anim = 8000
VelSet = 0,0
ctrl = 0
sprpriority = 2

[State 3000, Super A]
type = SuperPause
trigger1 = time = 0
pos = 0, -80
anim = 102
time = 20
movetime = 1
sound = S8005, 2
poweradd = 0
darken = 1

[State 1, ]
type = PlaySnd
trigger1 = !time
value = 8000, 2
channel = 0

[State 1, ]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 2

[state 8000]
type = notHitBy
trigger1 = 1
value = SCA
time = 1

[state 8000]
type = posset
trigger1 = Pos Y >=0
y = 0

[State 8000, ]
type = null;bgpalfx
trigger1 = time = [0,20]
time = 1
add = 0-time*5,0-time*5,0-time*5
ignorehitpause = 1

[State 8000, ]
type = palfx
trigger1 = AnimElem = 2
time = 8
add = 255,255,255

[State 8000, VarSet]
type = VarSet
trigger1 = AnimElem = 2
V = 50
Value = 1

[State 8000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 0
animtype = Up
guardflag = MA
hitflag = MAFD
priority = 5, Hit
pausetime = 10,10
guard.pausetime = 0,16
sparkno = 3
sparkxy = 0,-75
hitsound = S5,3
hitsound = S1011,2
guardsound = S0,0
ground.type = high
ground.slidetime = 18
ground.hittime = 9
ground.velocity = 0,-10
airguard.ctrltime = 2
guard.velocity = -3
air.velocity = 0,-10
air.type = high
fall = 1
fall.recover = 0
envshake.time = 9
envshake.ampl = 3
fall.yvelocity = -4.5
getpower = 500,0
givepower = 0
yaccel = 0.25

[State 200, Powerup start]
type = varset
trigger1 = AnimElem = 2
fvar(19) = 100+(lifemax-life)
ignorehitpause = 1
persistent = 0

[State 8000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 9000, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s8005, 0

[State 8000, Effect]
type = Explod
trigger1 = animelem = 2
anim = 8005
scale = 0.7,0.7
postype = p1
pos = 0,-65
ownpal = 1
sprpriority = 0
bindtime = -1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause =1
persistent = 0

[State 8000, Effect]
type = Explod
trigger1 = AnimElem = 2
anim = 8006
scale = 1,1
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
bindtime = -1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause =1
persistent = 0

[State -2]
type = Helper
trigger1 = AnimElem = 2
trigger1 = Numhelper(9879) = 0
helpertype = normal
ID = 9879
Stateno = 9879
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 9000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 51

;--------------------------------------------
;Ultra Guard Cancel
[StateDef 8060]
Type = A
Physics = N
MoveType = A
Anim = 8060
VelSet = 0,0
ctrl = 0
sprpriority = 2

[State 3000, Super A]
type = SuperPause
trigger1 = time = 0
pos = 0, -80
anim = 102
time = 35
movetime = 35
darken = 0
sound = S8005, 2
poweradd = 0
darken = 1

[State 1, ]
type = PlaySnd
trigger1 = !time
value = 8000, 0
channel = 0

[State 1, ]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 2

[state 8000]
type = notHitBy
trigger1 = !time
value = SCA
time = 60

[state 8000]
type = posset
trigger1 = Pos Y >=0
y = 0

[State 8000, ]
type = null;bgpalfx
trigger1 = time = [0,20]
time = 1
add = 0-time*5,0-time*5,0-time*5
ignorehitpause = 1

[State 8000, ]
type = palfx
trigger1 = AnimElem = 2
time = 8
add = 255,255,255

[State 8000, VarSet]
type = VarSet
trigger1 = AnimElem = 2
V = 50
Value = 1

[State 200, Powerup start]
type = varset
trigger1 = AnimElem = 2
fvar(19) = (100+(lifemax-life))*.35
ignorehitpause = 1
persistent = 0

[State 8000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 8000, Effect]
type = Explod
trigger1 = AnimElem = 2
anim = 8006
scale = 1,1
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
bindtime = -1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause =1
persistent = 0

[State -2]
type = Helper
trigger1 = AnimElem = 2
trigger1 = Numhelper(9879) = 0
helpertype = normal
ID = 9879
Stateno = 9879
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 9000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 51

;---------------------------------
; Nep Heart's Burst Buffer
[Statedef 5970]
velset = 0,0
anim = 9999
ctrl = 0
 
[State 5970, Invuln]
type = nothitby
trigger1 = 1
value = sca
ignorehitpause = 1
 
[State 5970, Burst]
type = Varset
trigger1 = root,movetype != H
trigger1 = var(40) > 0
var(40) = 0
 
[State 5970, Burst]
type = Varset
triggerall = Var(50) != 1
triggerall = numenemy
triggerall = root,alive
triggerall = root,movetype = H
triggerall = root,stateno != [120,155]
triggerall = root,stateno != [800,899]
triggerall = root,stateno != [3000,4999]
triggerall = enemy,movehit && p2stateno != [3000,4999]
triggerall = enemy,movehit && p2stateno != [800,899]
trigger1 = command = "y+z"
var(40) = 1
 
[State 5970, End]
type = destroyself
trigger1 = root,movetype != H
ignorehitpause = 1

;---------------------------------

;---------------------------------------------------------------------------

; Detect Attribute
[Statedef 9000]
type = A
movetype = I
physics = N
anim = 9999

[State 8000, 0]
type = Null
trigger1 = var(0) = 0
trigger1 = (var(0) := id)
ignorehitpause = 1
 
[state 8000, 1] 
type = varadd
trigger1 = PlayerIdExist(var(0)) 
trigger2 = PlayerIdExist(var(0)+1) 
trigger3 = PlayerIdExist(var(0)+2) 
trigger4 = PlayerIdExist(var(0)+3) 
trigger5 = PlayerIdExist(var(0)+4) 
trigger6 = PlayerIdExist(var(0)+5) 
trigger7 = PlayerIdExist(var(0)+6) 
trigger8 = PlayerIdExist(var(0)+7) 
trigger9 = PlayerIdExist(var(0)+8) 
trigger10 = PlayerIdExist(var(0)+9) 
trigger11 = PlayerIdExist(var(0)+10) 
trigger12 = PlayerIdExist(var(0)+11) 
trigger13 = PlayerIdExist(var(0)+12) 
trigger14 = PlayerIdExist(var(0)+13) 
trigger15 = PlayerIdExist(var(0)+14) 
trigger16 = PlayerIdExist(var(0)+15) 
trigger17 = PlayerIdExist(var(0)+16) 
trigger18 = PlayerIdExist(var(0)+17) 
trigger19 = PlayerIdExist(var(0)+18) 
trigger20 = PlayerIdExist(var(0)+19) 
trigger21 = PlayerIdExist(var(0)+20) 
trigger22 = PlayerIdExist(var(0)+21) 
trigger23 = PlayerIdExist(var(0)+22) 
trigger24 = PlayerIdExist(var(0)+23) 
trigger25 = PlayerIdExist(var(0)+24) 
trigger26 = PlayerIdExist(var(0)+25) 
var(0) = 1
ignorehitpause = 1
 
[State 8000, 2]
type = Null
triggerall = PlayerIdExist(Root,ID)
trigger1 = PlayerIdExist(var(0)-1)
trigger1 = cond(root,teamside = 1, PlayerID(var(0)-1),teamside = 2, PlayerID(var(0)-1),teamside = 1)
trigger1 = PlayerID(var(0)-1),hitdefattr = SCA,AA,AP,AT
trigger1 = var(1) := (var(0)-1)
trigger2 = PlayerIdExist(var(0)-2)
trigger2 = cond(root,teamside = 1, PlayerID(var(0)-2),teamside = 2, PlayerID(var(0)-2),teamside = 1)
trigger2 = PlayerID(var(0)-2),hitdefattr = SCA,AA,AP,AT
trigger2 = var(1) := (var(0)-2)
trigger3 = PlayerIdExist(var(0)-3)
trigger3 = cond(root,teamside = 1, PlayerID(var(0)-3),teamside = 2, PlayerID(var(0)-3),teamside = 1)
trigger3 = PlayerID(var(0)-3),hitdefattr = SCA,AA,AP,AT
trigger3 = var(1) := (var(0)-3)
trigger4 = PlayerIdExist(var(0)-4)
trigger4 = cond(root,teamside = 1, PlayerID(var(0)-4),teamside = 2, PlayerID(var(0)-4),teamside = 1)
trigger4 = PlayerID(var(0)-4),hitdefattr = SCA,AA,AP,AT
trigger4 = var(1) := (var(0)-4)
trigger5 = PlayerIdExist(var(0)-5)
trigger5 = cond(root,teamside = 1, PlayerID(var(0)-5),teamside = 2, PlayerID(var(0)-5),teamside = 1)
trigger5 = PlayerID(var(0)-5),hitdefattr = SCA,AA,AP,AT
trigger5 = var(1) := (var(0)-5)
trigger6 = PlayerIdExist(var(0)-6)
trigger6 = cond(root,teamside = 1, PlayerID(var(0)-6),teamside = 2, PlayerID(var(0)-6),teamside = 1)
trigger6 = PlayerID(var(0)-6),hitdefattr = SCA,AA,AP,AT
trigger6 = var(1) := (var(0)-6)
trigger7 = PlayerIdExist(var(0)-7)
trigger7 = cond(root,teamside = 1, PlayerID(var(0)-7),teamside = 2, PlayerID(var(0)-7),teamside = 1)
trigger7 = PlayerID(var(0)-7),hitdefattr = SCA,AA,AP,AT
trigger7 = var(1) := (var(0)-7)
trigger8 = PlayerIdExist(var(0)-8)
trigger8 = cond(root,teamside = 1, PlayerID(var(0)-8),teamside = 2, PlayerID(var(0)-8),teamside = 1)
trigger8 = PlayerID(var(0)-8),hitdefattr = SCA,AA,AP,AT
trigger8 = var(1) := (var(0)-8)
trigger9 = PlayerIdExist(var(0)-9)
trigger9 = cond(root,teamside = 1, PlayerID(var(0)-9),teamside = 2, PlayerID(var(0)-9),teamside = 1)
trigger9 = PlayerID(var(0)-9),hitdefattr = SCA,AA,AP,AT
trigger9 = var(1) := (var(0)-9)
trigger10 = PlayerIdExist(var(0)-10)
trigger10 = cond(root,teamside = 1, PlayerID(var(0)-10),teamside = 2, PlayerID(var(0)-10),teamside = 1)
trigger10 = PlayerID(var(0)-10),hitdefattr = SCA,AA,AP,AT
trigger10 = var(1) := (var(0)-10)
ignorehitpause = 1

[State 8000 2]
type = null
triggerall = numenemy
trigger1 = enemy,hitdefattr = SCA,HA,HP,AT
trigger1 = var(2) := 1
trigger2 = enemy,hitdefattr = SCA,NA,SA,NP,SP
trigger2 = var(2) := 0
trigger3 = enemy,time = 1
trigger3 = var(4) := enemy,stateno
ignorehitpause = 1

[state 8000, Varset]
type = varset
triggerall = numenemy
trigger1 = PlayerIDExist(var(1))
trigger1 = PlayerID(var(1)),hitdefattr = SCA,HA,HP,AT
trigger1 = PlayerID(var(1)),movehit
trigger2 = var(2) = 1
trigger2 = enemy,movehit || root,gethitvar(isbound)
trigger3 = enemy,projhit = 1,>=0 && (var(4) = [3000,4999])
trigger4 = enemy,projhit = 1,>=0 && ((enemy,stateno = [3000,4999]) || (enemy,prevstateno = [3000,4999]))
trigger5 = p2movetype = A && (p2stateno = [3000,4999])
var(3) = 1
ignorehitpause = 1
 
[state 8000, Varset]
type = varset
triggerall = numenemy
trigger1 = PlayerIDExist(var(1))
trigger1 = PlayerID(var(1)),hitdefattr = SCA,NA,NP,SA,SP
trigger1 = PlayerID(var(1)),movehit
trigger2 = root,movetype != H || (root,stateno = [120,155])
trigger3 = var(2) = 0
trigger3 = enemy,movehit
trigger4 = enemy,projhit =1,<6 && (var(4) < 3000)
var(3) = 0
ignorehitpause = 1