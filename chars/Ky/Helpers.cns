;Sword Electricity
[Statedef 1]
type = A
movetype = I
physics = N
ctrl = 0
anim = 9999
sprpriority = 4
velset = 0,0

[State 1000]
type = bindtoroot
trigger1 = 1
time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State 200, 2]
type = varrandom
trigger1 = 1
v = 2
range = 0,1
persistent = 1
ignorehitpause = 1

[State 200, 2]
type = varrandom
trigger1 = 1
v = 7
range = 0,20
persistent = 1
ignorehitpause = 1

[State 200, 2]
type = varrandom
trigger1 = 1
v = 8
range = 0,20
persistent = 1
ignorehitpause = 1

[State 200, 2]
type = Explod
triggerall = root,anim = 0
trigger1 = root,animelemtime(1) = 0
trigger2 = root,animtime = 0
anim = 6807+var(2)
id = 0
pos = floor(60 / root,fvar(8)), floor(-95 / root,fvar(9))
Postype = p1
facing = 1
sprpriority = 5
random = 5, 5
ownpal = 1
bindtime = 1
persistent = 1
ignorehitpause = 1
scale = 0.35+(var(7)*0.01) / root,fvar(8),0.35+(var(9)*0.01) / root,fvar(9)

[State 200, 2]
type = Explod
trigger1 = root,anim = 0
trigger1 = root,animelemtime(2) = 0
anim = 6807+var(2)
id = 0
pos = floor(35 / root,fvar(8)), floor(-100 / root,fvar(9))
Postype = p1
facing = 1
sprpriority = 5
random = 5, 5
ownpal = 1
bindtime = 1
persistent = 1
ignorehitpause = 1
scale = 0.35+(var(7)*0.01) / root,fvar(8),0.35+(var(9)*0.01) / root,fvar(9)

[State 200, 2]
type = Explod
trigger1 = root,anim = 0
trigger1 = root,animelemtime(3) = 0
anim = 6807+var(2)
id = 0
pos = floor(10 / root,fvar(8)), floor(-105 / root,fvar(9))
Postype = p1
facing = 1
sprpriority = 5
random = 5, 5
ownpal = 1
bindtime = 1
persistent = 1
ignorehitpause = 1
scale = 0.35+(var(7)*0.01) / root,fvar(8),0.35+(var(9)*0.01) / root,fvar(9)

[state -2]
type = removeexplod
trigger1 = root,anim != 0
id = 0
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = Explod
triggerall = root,anim = 11
trigger1 = root,animelemtime(1) = 0
trigger2 = root,animtime = 0
anim = 6807+var(2)
id = 11
pos = floor(70 / root,fvar(8)), floor(-65 / root,fvar(9))
Postype = p1
facing = 1
sprpriority = 5
random = 5, 5
ownpal = 1
bindtime = 1
persistent = 1
ignorehitpause = 1
scale = 0.35+(var(7)*0.01) / root,fvar(8),0.35+(var(9)*0.01) / root,fvar(9)

[State 200, 2]
type = Explod
trigger1 = root,anim = 11
trigger1 = root,animelemtime(2) = 0
anim = 6807+var(2)
id = 11
pos = floor(40 / root,fvar(8)), floor(-70 / root,fvar(9))
Postype = p1
facing = 1
sprpriority = 5
random = 5, 5
ownpal = 1
bindtime = 1
persistent = 1
ignorehitpause = 1
scale = 0.35+(var(7)*0.01) / root,fvar(8),0.35+(var(9)*0.01) / root,fvar(9)

[State 200, 2]
type = Explod
trigger1 = root,anim = 11
trigger1 = root,animelemtime(3) = 0
anim = 36807+var(2)
id = 11
pos = floor(5 / root,fvar(8)), floor(-78 / root,fvar(9))
Postype = p1
facing = 1
sprpriority = 5
random = 5, 5
ownpal = 1
bindtime = 1
persistent = 1
ignorehitpause = 1
scale = 0.35+(var(7)*0.01) / root,fvar(8),0.35+(var(9)*0.01) / root,fvar(9)

[state -2]
type = removeexplod
trigger1 = root,anim != 11
id = 11
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
;Lightning Strike
[Statedef 6220]
type = A
movetype = A
physics = N
Anim = 6220
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1200, 6]
type = explod
trigger1 = animelemtime(2) < 0
anim = 6815
ID = 6815
pos = -5+random%10,-1
facing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 0
scale = 0.5,0.5

[State 1200, 6]
type = explod
trigger1 = !time
anim = 6340
ID = 6340
pos = 0,0
facing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
ignorehitpause = 0
scale = 0.3,0.2

[State 1001,]
type = null;Trans
trigger1 = 1
trans = Add

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(38*root,fvar(4)),0
hitflag = MAFD
guardflag = HA
priority = 3
pausetime = 0,6
sparkno = 3
sparkxy = 0,ceil((p2dist y)-50)
hitsound   = S5,10
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 12
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
p2stateno = 852
air.fall = 1
palfx.time = 35
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = 30

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),0
hitflag = MAFD
guardflag = HA
priority = 3
pausetime = 0,6
sparkno = 3
sparkxy = 0,ceil((p2dist y)-50)
hitsound   = S5,10
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-3
air.hittime = 16
p2stateno = 852
air.fall = 1
palfx.time = 35
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1
persistent = 0

[State 200, 1]
type = parentvaradd
trigger1 = Movecontact
trigger1 = numtarget
var(51) = 1
persistent = 0

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1300]
type = helper
trigger1 = movehit = 1
helpertype = normal
stateno = 7777
ID = 7778
name = "You May Special Cancel" 
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 631, 2]
type = changeanim
trigger1 = anim != 9999
trigger1 = animtime = 0
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,159]
value = 9999

[State 631, 2]
type = statetypeset
trigger1 = anim = 9999
movetype = I

[State 631, 2]
type = destroyself
trigger1 = !numtarget
trigger1 = anim = 9999

;---------------------------------------------------------------------------
;Stun Rays
[Statedef 6620]
type = A
movetype = A
physics = N
Anim = 6620
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1001,]
type = playsnd
trigger1 = time = 6
value = 400,8

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = 0,ceil(p2dist y)-55
hitsound   = S5,10
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(24*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = 0,-5
air.velocity = 0,-5
air.hittime = 16
fall = 1
palfx.time = 35
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = 30

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(75*root,fvar(4)),0
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = 0,ceil(p2dist y)-55
hitsound   = S5,10
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(28*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = 0,-5
air.velocity = 0,-5
air.hittime = 16
fall = 1
palfx.time = 35
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 631, 2]
type = changeanim
trigger1 = anim != 9999
trigger1 = animtime = 0
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,159]
value = 9999

[State 631, 2]
type = statetypeset
trigger1 = anim = 9999
movetype = I

[State 631, 2]
type = destroyself
trigger1 = !numtarget
trigger1 = anim = 9999

;---------------------------------------------------------------------------
;Stun Edge
[Statedef 1050]
type = A
movetype = A
physics = N
Anim = 1050
ctrl = 0
sprpriority = 5
velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 1

[State -2]
type = posset
trigger1 = animelemtime(6) < 0
x = root,pos x + 54 / root,fvar(8) * facing
y = root,pos y - 68 / root,fvar(9)

[State 200, 1]
type = velset
trigger1 = animelem = 6
x = 7

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,8

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1053
time = -1

[State 1001,]
type = Trans
trigger1 = 1
trans = Add

[State 1200, 6]
type = explod
trigger1 = animelemtime(4) >= 1
anim = 6801+random%7
pos = 0-random%17,-15+random%30
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.6,0.6

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(15*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-4.2
air.hittime = 16
air.fall = 1
palfx.time = 25
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = ceil(40*(root,fvar(11)))

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(75*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(30*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2.4
air.hittime = 16
air.fall = 1
palfx.time = 30
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
value = 1053

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200, 1]
type = parentvarset
trigger1 = FrontEdgeDist <= -40
var(47) = 0

[State 1001,]
type = Destroyself
trigger1 = FrontEdgeDist <= -40

;---------------------------------------------------------------------------
;Stun Edge
[Statedef 1051]
type = A
movetype = A
physics = N
Anim = 1050
ctrl = 0
sprpriority = 5
velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 1

[State -2]
type = posset
trigger1 = animelemtime(6) < 0
x = root,pos x + 54 / root,fvar(8) * facing
y = root,pos y - 68 / root,fvar(9)

[State 200, 1]
type = velset
trigger1 = animelem = 6
x = 14

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,8

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1053
time = -1

[State 1001,]
type = Trans
trigger1 = 1
trans = Add

[State 1200, 6]
type = explod
trigger1 = animelemtime(4) >= 1
anim = 6801+random%7
pos = 0-random%17,-15+random%30
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.6,0.6

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(15*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-4.2
air.hittime = 16
air.fall = 1
palfx.time = 25
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = ceil(40*(root,fvar(11)))

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(75*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(30*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2.4
air.hittime = 16
air.fall = 1
palfx.time = 30
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
value = 1053

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200, 1]
type = parentvarset
trigger1 = FrontEdgeDist <= -40
var(47) = 0

[State 1001,]
type = Destroyself
trigger1 = FrontEdgeDist <= -40

;---------------------------------------------------------------------------
;Air Stun Edge
[Statedef 1060]
type = A
movetype = A
physics = N
;Anim = 1060
ctrl = 0
sprpriority = 5
velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 1

[State 200, 1]
type = changeanim
trigger1 = time = 0
value = 1060

[State 200, 1]
type = posset
trigger1 = animelemtime(5) < 0
x = root,pos x + ifelse(facing = 1,37,-37) / root,fvar(8)
y = root,pos y - 48 / root,fvar(9)

[State 200, 1]
type = velset
trigger1 = animelem = 5
x = 6
y = 9.5

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,8

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1053
time = -1

[State 1001,]
type = Trans
trigger1 = 1
trans = Add

[State 1200, 6]
type = explod
trigger1 = animelemtime(4) >= 1
anim = 6801+random%7
pos = 0-random%17,-15+random%30
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.6,0.6

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(25*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-4.2
air.hittime = 16
air.fall = 1
palfx.time = 25
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = ceil(40*(root,fvar(11)))

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(75*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(30*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2.4
air.hittime = 16
air.fall = 1
palfx.time = 30
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = pos Y >= -5
value = 1053

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200, 1]
type = parentvarset
trigger1 = FrontEdgeDist <= -40
var(47) = 0

[State 1001,]
type = Destroyself
trigger1 = FrontEdgeDist <= -40

;---------------------------------------------------------------------------
;Air Stun Edge
[Statedef 1061]
type = A
movetype = A
physics = N
;Anim = 1060
ctrl = 0
sprpriority = 5
velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 1

[State 200, 1]
type = changeanim
trigger1 = time = 0
value = 1061

[State 200, 1]
type = posset
trigger1 = animelemtime(5) < 0
x = root,pos x + ifelse(facing = 1,37,-37) / root,fvar(8)
y = root,pos y - 48 / root,fvar(9)

[State 200, 1]
type = velset
trigger1 = animelem = 5
x = 10.5
y = 2

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,8

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1053
time = -1

[State 1001,]
type = Trans
trigger1 = 1
trans = Add

[State 1200, 6]
type = explod
trigger1 = animelemtime(4) >= 1
anim = 6801+random%7
pos = 0-random%17,-15+random%30
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.6,0.6

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(65*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(25*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -2
air.velocity = -.8,-4.2
air.hittime = 16
air.fall = 1
palfx.time = 25
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = ceil(40*(root,fvar(11)))

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed
attr = A, SP
damage    = ceil(75*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(30*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -2
air.velocity = -.8,-2.4
air.hittime = 16
air.fall = 1
palfx.time = 30
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger2 = pos Y >= -5
value = 1053

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200, 1]
type = parentvarset
trigger1 = FrontEdgeDist <= -40
var(47) = 0

[State 1001,]
type = Destroyself
trigger1 = FrontEdgeDist <= -40


;---------------------------------------------------------------------------
;Charged Stun Edge
[Statedef 1090]
type = A
movetype = A
physics = N
Anim = 1090
ctrl = 0
sprpriority = 5
velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 1

[State 200, 1]
type = velset
trigger1 = animelem = 4
x = 3

[State 200, 1]
type = veladd
trigger1 = animelemtime(4) >= 0
x = 0.1

[State -2]
type = posset
trigger1 = animelemtime(4) < 0
x = root,pos x + 59 / root,fvar(8) * facing
y = root,pos y - 66 / root,fvar(9)

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,8

[State -2]
type = varset
trigger1 = time = 0
fvar(2) = 1

[State -2]
type = varadd
trigger1 = time = 4
trigger2 = time = 5
trigger3 = time = 6
trigger4 = time = 7
trigger5 = time = 8
trigger6 = time = 9
trigger7 = time = 10
trigger8 = time = 11
trigger9 = time = 12
trigger10 = time = 13
fvar(2) = 0.1

[State -2]
type = varset
trigger1 = animelem = 4
fvar(2) = 1

[State 220, 3]
type = helper
trigger1 = time >= 18
trigger1 = !hitpausetime
id = 6190
stateno = 6190
pos = 0,0
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999
persistent = 6

[State 630, 4]
type = trans
trigger1 = time >= 0
trans = add
ignorehitpause = 1

[State -2]
type = angledraw
trigger1 = time >= 0
scale = fvar(2),fvar(2)

[State -2]
type = angleset
trigger1 = time >= 0
value = 0

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1093
time = -1

[State 1001,]
type = Trans
trigger1 = 1
trans = Add

[State 1200, 6]
type = explod
trigger1 = animelemtime(4) >= 1
anim = 6801+random%7
pos = -50-random%85,-45+random%90
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.65,0.65

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || Movecontact = 6 || Movereversed = 6
attr = A, SP
damage    = ceil(45*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 7,7
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(25*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -7
air.velocity = -4,-2.2
air.hittime = 16
air.fall = 1
palfx.time = 25
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = ceil(40*(root,fvar(11)))
p1sprpriority = 5

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || Movecontact = 6 || Movereversed = 6
attr = A, SP
damage    = ceil(75*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 7,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(30*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -7
air.velocity = -4,-2.4
air.hittime = 16
air.fall = 1
palfx.time = 30
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0
p1sprpriority = 5

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State 200, 2]
type = varset
trigger1 = !time
var(5) = 0

[State 200, 2]
type = varadd
trigger1 = Movecontact
trigger1 = numtarget
var(5) = 1
ignorehitpause = 1
persistent = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger1 = var(5) >= 30
value = 1093

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200, 1]
type = parentvarset
trigger1 = FrontEdgeDist <= -190
var(47) = 0

[State 1001,]
type = Destroyself
trigger1 = FrontEdgeDist <= -190

;---------------------------------------------------------------------------
;Air Charged Stun Edge
[Statedef 1091]
type = A
movetype = A
physics = N
Anim = 1091
ctrl = 0
sprpriority = 5
velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 1

[State 200, 1]
type = velset
trigger1 = animelem = 4
x = 3
y = 3

[State 200, 1]
type = veladd
trigger1 = animelemtime(4) >= 0
x = 0.1
y = 0.1

[State -2]
type = posset
trigger1 = animelemtime(4) < 0
x = root,pos x + 27 / root,fvar(8) * facing
y = root,pos y - 51 / root,fvar(9)

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,8

[State -2]
type = varset
trigger1 = time = 0
fvar(2) = 1

[State -2]
type = varadd
trigger1 = time = 1
trigger2 = time = 2
trigger3 = time = 3
trigger4 = time = 4
trigger5 = time = 5
trigger6 = time = 6
trigger7 = time = 7
trigger8 = time = 8
trigger9 = time = 9
trigger10 = time = 10
trigger11 = time = 11
trigger12 = time = 12
trigger13 = time = 13
trigger14 = time = 14
trigger15 = time = 15
trigger16 = time = 16
trigger17 = time = 17
trigger18 = time = 18
trigger19 = time = 19
trigger20 = time = 20
trigger21 = time = 21
trigger22 = time = 22
trigger23 = time = 23
fvar(2) = 0.038

[State -2]
type = varset
trigger1 = animelem = 2
fvar(2) = 0.66

[State -2]
type = varset
trigger1 = animelem = 3
fvar(2) = 1

[State 220, 3]
type = helper
trigger1 = time >= 18
trigger1 = !hitpausetime
id = 6191
stateno = 6191
pos = 0,0
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999
persistent = 6

[State 630, 4]
type = trans
trigger1 = time >= 0
trans = add
ignorehitpause = 1

[State -2]
type = angledraw
trigger1 = time >= 0
scale = fvar(2),fvar(2)
ignorehitpause = 1

[State -2]
type = angleset
trigger1 = animelemtime(2) < 0
value = 0
ignorehitpause = 1

[State -2]
type = angleset
trigger1 = animelemtime(2) >= 0
value = -45
ignorehitpause = 1

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1093
time = -1

[State 1001,]
type = Trans
trigger1 = 1
trans = Add

[State 1200, 6]
type = explod
trigger1 = animelemtime(4) >= 1
anim = 6801+random%7
pos = 0-random%65,-45+random%90
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.65,0.65

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || Movecontact = 6 || Movereversed = 6
attr = A, SP
damage    = ceil(45*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 7,7
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(25*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -7
air.velocity = -4,-2.2
air.hittime = 16
air.fall = 1
palfx.time = 25
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = ceil(40*(root,fvar(11)))
p1sprpriority = 5

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || Movecontact = 6 || Movereversed = 6
attr = A, SP
damage    = ceil(75*root,fvar(4)),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 7,12
sparkno = 3
sparkxy = -10,0
hitsound   = S5,9
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 6
ground.hittime  = ceil(30*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -7
air.velocity = -4,-2.4
air.hittime = 16
air.fall = 1
palfx.time = 30
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0
p1sprpriority = 5

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State 200, 2]
type = varset
trigger1 = !time
var(5) = 0

[State 200, 2]
type = varadd
trigger1 = Movecontact
trigger1 = numtarget
var(5) = 1
ignorehitpause = 1
persistent = 1

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger1 = var(5) >= 30
trigger2 = pos Y >= -10
value = 1093

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 200, 1]
type = parentvarset
trigger1 = FrontEdgeDist <= -190
var(47) = 0

[State 1001,]
type = Destroyself
trigger1 = FrontEdgeDist <= -190

;======================================================================================================================================================
;Charged Ring
[Statedef 6190]
type = A
movetype = I
physics = N
ctrl = 0
sprpriority = 3
anim = 6190

[State -2]
type = varset
trigger1 = time = 0
fvar(2) = 0.4

[State -2]
type = varadd
trigger1 = time = 0
trigger2 = time = 1
trigger3 = time = 2
trigger4 = time = 3
trigger5 = time = 4
trigger6 = time = 5
trigger7 = time = 6
trigger8 = time = 7
trigger9 = time = 9
trigger10 = time = 10
trigger11 = time = 11
trigger12 = time = 12
trigger13 = time = 13
trigger14 = time = 14
trigger15 = time = 15
trigger16 = time = 16
trigger17 = time = 17
trigger18 = time = 18
fvar(2) = 0.07

[State -2]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(25) = 256

[State -2]
type = varadd
trigger1 = time = 6
trigger2 = time = 10
trigger3 = time = 15
trigger4 = time = 16
trigger5 = time = 17
trigger6 = time = 18
ignorehitpause = 1
var(25) = -36

[State 630, 4]
type = trans
trigger1 = time >= 0
trans = addalpha
alpha = var(25),256
ignorehitpause = 1

[State -2]
type = angledraw
trigger1 = time >= 0
scale = fvar(2),fvar(2)

[State -2]
type = angleset
trigger1 = time >= 0
value = 0

[State 181, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 52, 4]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;Charged Ring
[Statedef 6191]
type = A
movetype = I
physics = N
ctrl = 0
sprpriority = 3
anim = 6191

[State -2]
type = varset
trigger1 = time = 0
fvar(2) = 0.4

[State -2]
type = varadd
trigger1 = time = 0
trigger2 = time = 1
trigger3 = time = 2
trigger4 = time = 3
trigger5 = time = 4
trigger6 = time = 5
trigger7 = time = 6
trigger8 = time = 7
trigger9 = time = 9
trigger10 = time = 10
trigger11 = time = 11
trigger12 = time = 12
trigger13 = time = 13
trigger14 = time = 14
trigger15 = time = 15
trigger16 = time = 16
trigger17 = time = 17
trigger18 = time = 18
fvar(2) = 0.07

[State -2]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(25) = 256

[State -2]
type = varadd
trigger1 = time = 6
trigger2 = time = 10
trigger3 = time = 15
trigger4 = time = 16
trigger5 = time = 17
trigger6 = time = 18
ignorehitpause = 1
var(25) = -36

[State 630, 4]
type = trans
trigger1 = time >= 0
trans = addalpha
alpha = var(25),256
ignorehitpause = 1

[State -2]
type = angledraw
trigger1 = time >= 0
scale = fvar(2),fvar(2)

[State -2]
type = angleset
trigger1 = time >= 0
value = 0

[State 181, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 52, 4]
type = destroyself
trigger1 = animtime = 0

;======================================================================================================================================================
;Stun Edge End
[Statedef 1053]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5
anim = 1051
velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 0

[State 195, 1]
type = playsnd
trigger1 = !time
value = 400,3

[State 200, Damage Scaling]
type = parentvarset
trigger1 = numtarget
fvar(4) = root,fvar(4)*0.94
ignorehitpause = 1
persistent = 0

[State 1]
type = AfterImage
trigger1 = Time = 0
time = 1
PalBright = 0,0,0
PalContrast =  222,222,222
PalAdd      = -1,-1,-1
PalMul      = .5,.5,.5
Trans = Add
TimeGap  = 1
FrameGap = 2
length = 18

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1
persistent = 1

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 631, 2]
type = changeanim
trigger1 = anim != 9999
trigger1 = animtime = 0
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,159]
value = 9999

[State 631, 2]
type = statetypeset
trigger1 = anim = 9999
movetype = I

[State 631, 2]
type = destroyself
trigger1 = !numtarget
trigger1 = anim = 9999

;======================================================================================================================================================
;Charged Stun Edge End
[Statedef 1093]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5
;velset = 0,0

[State 200, 1]
type = parentvarset
trigger1 = !time
var(47) = 0

[State 200, 1]
type = velmul
trigger1 = pos Y >= -5
x = .5
y = .5

[State 200, Damage Scaling]
type = parentvarset
trigger1 = numtarget
fvar(4) = root,fvar(4)*0.88
ignorehitpause = 1
persistent = 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1
persistent = 1

[State -2]
type = angledraw
trigger1 = time >= 0
scale = 1-(time*.08),1-(time*.08)

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 631, 2]
type = changeanim
trigger1 = time >= 15
value = 9999

[State 631, 2]
type = statetypeset
trigger1 = anim = 9999
movetype = I

[State 631, 2]
type = destroyself
trigger1 = !numtarget
trigger1 = anim = 9999

;======================================================================================================================================================
;Greed Effect
[Statedef 6132]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State 630, 4]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(1303)||ishelper(1306)||ishelper(1309)||ishelper(1312)
value = 6132

[State 630, 4]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(1304)||ishelper(1307)||ishelper(1310)||ishelper(1313)
value = 6132

[State 630, 4]
type = changeanim
trigger1 = time = 0
trigger1 = !ishelper(1303)
trigger1 = !ishelper(1306)
trigger1 = !ishelper(1309)
trigger1 = !ishelper(1312)
trigger1 = !ishelper(1304)
trigger1 = !ishelper(1307)
trigger1 = !ishelper(1310)
trigger1 = !ishelper(1313)
value = 6132

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1301)
value = -50

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1302)
value = -70

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1303)
value = -90

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1304)
value = -110

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1305)
value = -135

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1306)
value = -170

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1307)
value = -200

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1308)
value = -225

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1309)
value = -250

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1310)
value = -275

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1311)
value = -300

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = root,stateno = 3600
trigger1 = ishelper(1309)
value = -245

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = root,stateno = 3600
trigger1 = ishelper(1310)
value = -260

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = root,stateno = 3600
trigger1 = ishelper(1311)
value = -275

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1312)
value = -315

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1313)
value = -330

[State 630, 4]
type = angleset
trigger1 = time = 0
trigger1 = ishelper(1314)
value = -345

[State 630, 4]
type = angledraw
trigger1 = 1

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1301)
x = -17 / root,fvar(8)
y = -113 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1302)
x = -22 / root,fvar(8)
y = -115 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1303)
x = -19 / root,fvar(8)
y = -114 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1304)
x = -1 / root,fvar(8)
y = -120 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1305)
x = 20 / root,fvar(8)
y = -120 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1306)
x = 33 / root,fvar(8)
y = -103 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1307)
x = 46 / root,fvar(8)
y = -90 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1308)
x = 56 / root,fvar(8)
y = -61 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = root,stateno != 3600
trigger1 = ishelper(1309)
x = 54 / root,fvar(8)
y = -42 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = root,stateno = 3600
trigger1 = ishelper(1309)
x = 54 / root,fvar(8)
y = -44 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = root,stateno != 3600
trigger1 = ishelper(1310)
x = 46 / root,fvar(8)
y = -30 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = root,stateno != 3600
trigger1 = ishelper(1311)
x = 35 / root,fvar(8)
y = -23 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = root,stateno = 3600
trigger1 = ishelper(1310)
x = 46 / root,fvar(8)
y = -26 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = root,stateno = 3600
trigger1 = ishelper(1311)
x = 35 / root,fvar(8)
y = -5 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1312)
x = 15 / root,fvar(8)
y = -20 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1313)
x = 3 / root,fvar(8)
y = -24 / root,fvar(9)

[State 630, 4]
type = posadd
trigger1 = time = 0
trigger1 = ishelper(1314)
x = -8 / root,fvar(8)
y = -26 / root,fvar(9)

[State 630, 4]
type = trans
trigger1 = 1
trans = add

[State 630, 4]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Sacred Edge
[Statedef 6350]
type = A
movetype = A
physics = N
Anim = 6351
ctrl = 0
sprpriority = 5
velset = 0,0

[State 1300]
type = helper
trigger1 = !time
helpertype = normal
stateno = 6353
ID = 6353
name = "anti projectile"
postype = p1
pos = 0, 0
ownpal = 1

[State 200, 1]
type = velmul
trigger1 = movecontact = 1
x = .5

[State 200, 1]
type = velset
trigger1 = !time
trigger2 = vel x < 15
trigger2 = time%3 = 0
x = 15

[State -2]
type = posset
trigger1 = !time
x = root,pos x + 59 / root,fvar(8) * facing
y = root,pos y - 66 / root,fvar(9)

[State 1001,]
type = playsnd
trigger1 = !time
value = 400,8

[State 630, 4]
type = trans
trigger1 = time >= 0
trans = add
ignorehitpause = 1

[State 1001,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 1001,]
type = NotHitBy
trigger1 = 1
value = ,AA,AT
time = 1

[State 1001,]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 6532
time = -1

[State 1001,]
type = Trans
trigger1 = 1
trans = Add

[State 1200, 6]
type = explod
trigger1 = time
anim = 6801+random%7
pos = -50-random%85,-45+random%90
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.85,0.85

[State 1200, 6]
type = explod
trigger1 = time
anim = 6801+random%7
pos = -50-random%125,-50+random%100
facing = 1
sprpriority = 1
bindtime = 1
ownpal = 1
ignorehitpause = 0
persistent = 3
scale = 0.65,0.65

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype != A
trigger1 = !movecontact && !movereversed || Movecontact = 3 || Movereversed = 3
attr = A, HP
damage    = ceil(((50+(10*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,15
sparkno = 3
sparkxy = -10,0
hitsound   = S5,10
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 19
ground.hittime  = ceil(17*(root,fvar(11)))
guard.ctrltime = 14
ground.velocity = -10
air.velocity = -8,-2.2
air.hittime = 16
air.fall = 1
palfx.time = 25
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recovertime = ceil(40*(root,fvar(11)))
getpower = 0,0
p1sprpriority = 5

[State 600, 2]
type = HitDef
trigger1 = enemynear,movetype = A
trigger1 = !movecontact && !movereversed || Movecontact = 3 || Movereversed = 3
attr = A, HP
damage    = ceil(((75+(15*numhelper(9884)))*(root,fvar(4)))),3
hitflag = MAFD
guardflag = MA
priority = 3
pausetime = 0,17
sparkno = 3
sparkxy = -10,0
hitsound   = S5,10
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 19
ground.hittime  = ceil(17*(root,fvar(11)))
guard.ctrltime = 22
ground.velocity = -10
air.velocity = -8,-2.4
air.hittime = 16
air.fall = 1
palfx.time = 30
palfx.add = -100,-80,70
palfx.sinadd = 30,30,70,10
palfx.color = 0
palfx.invertall = 1
fall.recover = 0
getpower = 0,0
p1sprpriority = 5

[State -2, Ultra Bust Active]
type = attackmulset
triggerall = root,fvar(19) > 0
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 1
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
triggerall = numenemy
triggerall = root,var(56) = 1 && numexplod(13000) = 0 && teamside = 2
triggerall = enemy, movetype = h
trigger1 = movehit
anim = 9888
pos = -65,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
id = 13000
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State 1300]
type = helper
trigger1 = movecontact = 1
helpertype = normal
stateno = 7777
ID = 7777
name = "You May Rapid"
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = parentvarset
trigger1 = Movecontact
trigger1 = numtarget
var(48) = 1

[State 200, 2]
type = varset
trigger1 = !time
var(5) = 0

[State 200, 2]
type = varadd
trigger1 = Movecontact
trigger1 = numtarget
var(5) = 1
ignorehitpause = 1
persistent = 1

[State 200, 1]
type = parentvarset
trigger1 = FrontEdgeDist <= -190
var(47) = 0

[State 1001,]
type = ChangeState
trigger1 = movecontact
trigger1 = var(5) >= 14
trigger2 = FrontEdgeDist <= -190
value = 6352

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

;======================================================================================================================================================
;Sacred Edge End
[Statedef 6352]
type = S
physics = N
movetype = I
ctrl = 0
sprpriority = 5
anim = 6352
velset = 0,0

[State 3007,]
type = Helper
trigger1 = time <= 15
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 195, 1]
type = playsnd
trigger1 = !time
value = 400,3

[State 1]
type = AfterImage
trigger1 = Time = 0
time = 1
PalBright = 0,0,0
PalContrast =  222,222,222
PalAdd      = -1,-1,-1
PalMul      = .5,.5,.5
Trans = Add
TimeGap  = 1
FrameGap = 2
length = 18

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, HB]
type = nothitby
trigger1 = 1
time = -1
value = SCA, AA
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256-ceil(time*20), 256
ignorehitpause = 1
persistent = 1

[State 200, Damage Scaling]
type = parentvarset
trigger1 = numtarget
fvar(4) = root,fvar(4)*0.75
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = varset
trigger1 = Movecontact = 1
var(1) = 1
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5050
value = 6050
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5070
value = 6070
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5071
value = 6071
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5080
value = 6080
ignorehitpause = 1

[State -2, Custom Fall State]
type = targetstate
triggerall = numtarget
trigger1 = target,stateno = 5081
value = 6081
ignorehitpause = 1

[State 631, 2]
type = changeanim
trigger1 = anim != 9999
trigger1 = animtime = 0
trigger2 = root,movetype = H
trigger2 = root,stateno != [120,159]
value = 9999

[State 631, 2]
type = statetypeset
trigger1 = anim = 9999
movetype = I

[State 631, 2]
type = destroyself
trigger1 = !numtarget
trigger1 = anim = 9999

;======================================================================================================================================================
;Sacred Edge Anti Projectile
[Statedef 6353]
type = S
physics = N
movetype = A
anim = 6353
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 160,]
type = bindtoparent
trigger1 = 1
pos = 0,0

[State 160,]
type = hitby
trigger1 = 1
value = SCA,AP,SP,NP,HP

[State 160,]
type = hitoverride
trigger1 = 1
attr = SCA,AP,SP,NP,HP
stateno = 6353

[State 160,]
type = PlayerPush
trigger1 = 1
value = 0

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = parent,stateno = 6352

;======================================================================================================================================================
;Shock State
[Statedef 6800]
type    = S
movetype= I
physics = N
juggle  = 4
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 6800, Electricity]
type = explod
trigger1 = enemynear,statetype != L
anim = 6815
;ID = 6801
sprpriority = 6
postype = p2
random=65,90
scale=.5,.5
persistent = 6
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y));+90
bindtime = 2
;supermovetime = 999
;pausemovetime = 999

[State 6800, Electricity]
type = explod
trigger1 = enemynear,statetype = L
anim = 6815
;ID = 6801
sprpriority = 6
postype = p2
random=90,30
scale=.5,.5
persistent = 6
pos = (enemynear,const(size.mid.pos.x)),0
bindtime = 2
;supermovetime = 999
;pausemovetime = 999

[State 6800, 5]
type = destroyself
trigger1 = root,var(48) != 1

;======================================================================================================================================================
;Lightening Effect
[Statedef 3649]
type = A
movetype = I
physics = N
anim = 6305
ctrl = 0
velset = 0,0
sprpriority = 5

[State -2]
type = varset
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
fvar(2) = 0.3


[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 2
persistent = 1
ignorehitpause = 1
fvar(2) = 0.4

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 3
persistent = 1
ignorehitpause = 1
fvar(2) = 0.5

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 4
persistent = 1
ignorehitpause = 1
fvar(2) = 0.6

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 5
persistent = 1
ignorehitpause = 1
fvar(2) = 0.7

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 6
persistent = 1
ignorehitpause = 1
fvar(2) = 0.8

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 7
persistent = 1
ignorehitpause = 1
fvar(2) = 0.9

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 8
persistent = 1
ignorehitpause = 1
fvar(2) = 1

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 9
persistent = 1
ignorehitpause = 1
fvar(2) = 1.1

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 10
persistent = 1
ignorehitpause = 1
fvar(2) = 1.15

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 11
persistent = 1
ignorehitpause = 1
fvar(2) = 1.25

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 12
persistent = 1
ignorehitpause = 1
fvar(2) = 1.4

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 13
trigger2 = (parent,var(36)-var(10)) = 21
trigger3 = (parent,var(36)-var(10)) = 29
trigger4 = (parent,var(36)-var(10)) = 37
trigger5 = (parent,var(36)-var(10)) = 45
trigger6 = (parent,var(36)-var(10)) = 53
trigger7 = (parent,var(36)-var(10)) = 61
trigger8 = (parent,var(36)-var(10)) = 19
trigger9 = (parent,var(36)-var(10)) = 27
trigger10 = (parent,var(36)-var(10)) = 35
trigger11 = (parent,var(36)-var(10)) = 43
trigger12 = (parent,var(36)-var(10)) = 51
trigger13 = (parent,var(36)-var(10)) = 59
persistent = 1
ignorehitpause = 1
fvar(2) = 1.15

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 14
trigger2 = (parent,var(36)-var(10)) = 22
trigger3 = (parent,var(36)-var(10)) = 30
trigger4 = (parent,var(36)-var(10)) = 38
trigger5 = (parent,var(36)-var(10)) = 46
trigger6 = (parent,var(36)-var(10)) = 54
trigger7 = (parent,var(36)-var(10)) = 18
trigger8 = (parent,var(36)-var(10)) = 26
trigger9 = (parent,var(36)-var(10)) = 34
trigger10 = (parent,var(36)-var(10)) = 42
trigger11 = (parent,var(36)-var(10)) = 50
trigger12 = (parent,var(36)-var(10)) = 58
persistent = 1
ignorehitpause = 1
fvar(2) = 1.25

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 15
trigger2 = (parent,var(36)-var(10)) = 23
trigger3 = (parent,var(36)-var(10)) = 31
trigger4 = (parent,var(36)-var(10)) = 39
trigger5 = (parent,var(36)-var(10)) = 47
trigger6 = (parent,var(36)-var(10)) = 55
trigger7 = (parent,var(36)-var(10)) = 17
trigger8 = (parent,var(36)-var(10)) = 25
trigger9 = (parent,var(36)-var(10)) = 33
trigger10 = (parent,var(36)-var(10)) = 41
trigger11 = (parent,var(36)-var(10)) = 49
trigger12 = (parent,var(36)-var(10)) = 57
persistent = 1
ignorehitpause = 1
fvar(2) = 1.4

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 16
trigger2 = (parent,var(36)-var(10)) = 24
trigger3 = (parent,var(36)-var(10)) = 32
trigger4 = (parent,var(36)-var(10)) = 40
trigger5 = (parent,var(36)-var(10)) = 48
trigger6 = (parent,var(36)-var(10)) = 56
persistent = 1
ignorehitpause = 1
fvar(2) = 1.5

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 20
trigger2 = (parent,var(36)-var(10)) = 28
trigger3 = (parent,var(36)-var(10)) = 36
trigger4 = (parent,var(36)-var(10)) = 44
trigger5 = (parent,var(36)-var(10)) = 52
trigger6 = (parent,var(36)-var(10)) = 60
persistent = 1
ignorehitpause = 1
fvar(2) = 1.1

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 62
persistent = 1
ignorehitpause = 1
fvar(2) = 0.95

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 63
persistent = 1
ignorehitpause = 1
fvar(2) = 0.9

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 64
persistent = 1
ignorehitpause = 1
fvar(2) = 0.85

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 65
persistent = 1
ignorehitpause = 1
fvar(2) = 0.8

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 66
persistent = 1
ignorehitpause = 1
fvar(2) = 0.75

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 67
persistent = 1
ignorehitpause = 1
fvar(2) = 0.7

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 68
persistent = 1
ignorehitpause = 1
fvar(2) = 0.65

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 69
persistent = 1
ignorehitpause = 1
fvar(2) = 0.6

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 70
persistent = 1
ignorehitpause = 1
fvar(2) = 0.55

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 71
persistent = 1
ignorehitpause = 1
fvar(2) = 0.5

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 72
persistent = 1
ignorehitpause = 1
fvar(2) = 0.45

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 73
persistent = 1
ignorehitpause = 1
fvar(2) = 0.4

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 74
persistent = 1
ignorehitpause = 1
fvar(2) = 0.35

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 75
persistent = 1
ignorehitpause = 1
fvar(2) = 0.3

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 76
persistent = 1
ignorehitpause = 1
fvar(2) = 0.25

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 77
persistent = 1
ignorehitpause = 1
fvar(2) = 0.2

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 78
persistent = 1
ignorehitpause = 1
fvar(2) = 0.15

[State -2]
type = varset
trigger1 = (parent,var(36)-var(10)) = 79
persistent = 1
ignorehitpause = 1
fvar(2) = 0.1



[State 630, 4]
type = trans
trigger1 = time >= 0
trans = add

[State -2]
type = angledraw
trigger1 = time >= 0
scale = fvar(2),fvar(2)

[State -2]
type = angleset
trigger1 = time >= 0
value = 0



[State 1000]
type = posset
trigger1 = Time >= 0
x = root,pos x
y = root,pos y - 60
ignorehitpause = 1

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State 3000, 1]
type = varset
trigger1 = time = 0
var(10) = (parent,var(36)-1)
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [0,3]
var(0) = 1
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [4,6]
var(0) = 2
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [7,9]
var(0) = 3
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [10,12]
var(0) = 4
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [13,14]
var(0) = 5
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [15,16]
var(0) = 6
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [17,18]
var(0) = 7
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [19,20]
var(0) = 8
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [21,22]
var(0) = 9
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [23,24]
var(0) = 10
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [25,26]
var(0) = 11
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [27,28]
var(0) = 12
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [29,30]
var(0) = 13
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [31,32]
var(0) = 14
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [33,34]
var(0) = 15
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [35,36]
var(0) = 16
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [37,38]
var(0) = 17
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [39,40]
var(0) = 18
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [41,42]
var(0) = 19
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [43,44]
var(0) = 20
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [45,46]
var(0) = 21
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [47,48]
var(0) = 22
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [49,50]
var(0) = 23
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [51,52]
var(0) = 24
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [53,54]
var(0) = 25
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [55,56]
var(0) = 26
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [57,58]
var(0) = 27
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [59,60]
var(0) = 28
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [61,64]
var(0) = 29
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [65,67]
var(0) = 30
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [68,70]
var(0) = 31
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [71,73]
var(0) = 32
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [74,76]
var(0) = 33
persistent = 0

[State 3000, 1]
type = varset
trigger1 = (parent,var(36)-var(10)) = [77,79]
var(0) = 34
persistent = 0

[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) >= 0
value = 6305
elem = var(0)
persistent = 1

[State 631, 2]
type = destroyself
trigger1 = (parent,var(36)-var(10)) > 79
trigger2 = root,stateno != [3000,3006]
trigger3 = root,movetype = H

;======================================================================================================================================================
;Lightening Effect
[Statedef 3650]
type = A
movetype = I
physics = N
anim = 6306
ctrl = 0
velset = 0,0
sprpriority = 5

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State 3000, 1]
type = varset
trigger1 = time = 0
var(10) = (parent,var(36)-1)
persistent = 0

[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [0,2]
value = 6306
elem = 1
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [3,4]
value = 6306
elem = 2
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [5,6]
value = 6306
elem = 3
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [7,8]
value = 6306
elem = 4
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) >= 9
trigger1 = (parent,var(36)-var(10)) <= 21
value = 6306
elem = 5+((parent,var(36)-var(10))-9)
persistent = 1

[State 631, 2]
type = destroyself
trigger1 = (parent,var(36)-var(10)) > 21
trigger2 = root,stateno != [3000,3006]
trigger3 = root,movetype = H

[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-60)+fvar(2)
y = (parent,pos Y-60)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+60)+fvar(2)
y = (parent,pos Y-60)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X)+fvar(2)
y = (parent,pos Y-120)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X)+fvar(2)
y = (parent,pos Y)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X)+fvar(3)
y = (parent,pos Y-120)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X)+fvar(3)
y = (parent,pos Y)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-60)+fvar(3)
y = (parent,pos Y-60)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+60)+fvar(3)
y = (parent,pos Y-60)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(2) = sin(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(3) = cos(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3651)
fvar(1) = 3

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3652)
fvar(1) = 4.5

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3653)
fvar(1) = 1.5

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(1) = 0.09
persistent = 0

[Statedef 3651]
type = A
movetype = I
physics = N
anim = 6306
ctrl = 0
velset = 0,0
sprpriority = 5

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State 3000, 1]
type = varset
trigger1 = time = 0
var(10) = (parent,var(36)-1)
persistent = 0

[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [0,2]
value = 6306
elem = 1
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [3,4]
value = 6306
elem = 2
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [5,6]
value = 6306
elem = 3
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [7,8]
value = 6306
elem = 4
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) >= 9
trigger1 = (parent,var(36)-var(10)) <= 21
value = 6306
elem = 5+((parent,var(36)-var(10))-9)
persistent = 1

[State 631, 2]
type = destroyself
trigger1 = (parent,var(36)-var(10)) > 21
trigger2 = root,stateno != [3000,3006]
trigger3 = root,movetype = H

[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-45)+fvar(2)
y = (parent,pos Y-75)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+45)+fvar(2)
y = (parent,pos Y-45)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+15)+fvar(2)
y = (parent,pos Y-105)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-15)+fvar(2)
y = (parent,pos Y-15)+fvar(3) + (root,var(58)=1) * 60
persistent = 1


[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-15)+fvar(3)
y = (parent,pos Y-105)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+15)+fvar(3)
y = (parent,pos Y-15)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-45)+fvar(3)
y = (parent,pos Y-45)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+45)+fvar(3)
y = (parent,pos Y-75)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(2) = sin(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(3) = cos(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3650)
fvar(1) = -0.75

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3651)
fvar(1) = 2.25

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3652)
fvar(1) = 3.75

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3653)
fvar(1) = 0.75


[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(1) = 0.09
persistent = 0

[Statedef 3652]
type = A
movetype = I
physics = N
anim = 6306
ctrl = 0
velset = 0,0
sprpriority = 5

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State 3000, 1]
type = varset
trigger1 = time = 0
var(10) = (parent,var(36)-1)
persistent = 0

[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [0,2]
value = 6306
elem = 1
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [3,4]
value = 6306
elem = 2
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [5,6]
value = 6306
elem = 3
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [7,8]
value = 6306
elem = 4
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) >= 9
trigger1 = (parent,var(36)-var(10)) <= 21
value = 6306
elem = 5+((parent,var(36)-var(10))-9)
persistent = 1

[State 631, 2]
type = destroyself
trigger1 = (parent,var(36)-var(10)) > 21
trigger2 = root,stateno != [3000,3006]
trigger3 = root,movetype = H

[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-30)+fvar(2)
y = (parent,pos Y-90)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+30)+fvar(2)
y = (parent,pos Y-30)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+30)+fvar(2)
y = (parent,pos Y-90)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-30)+fvar(2)
y = (parent,pos Y-30)+fvar(3) + (root,var(58)=1) * 60
persistent = 1


[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-30)+fvar(3)
y = (parent,pos Y-90)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+30)+fvar(3)
y = (parent,pos Y-30)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-30)+fvar(3)
y = (parent,pos Y-30)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+30)+fvar(3)
y = (parent,pos Y-90)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(2) = sin(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(3) = cos(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3650)
fvar(1) = -1.5

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3651)
fvar(1) = 1.5

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3652)
fvar(1) = 3

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3653)
fvar(1) = 0


[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(1) = 0.09
persistent = 0

[Statedef 3653]
type = A
movetype = I
physics = N
anim = 6306
ctrl = 0
velset = 0,0
sprpriority = 5

[State 3000, 1]
type = varset
trigger1 = time = 0
var(10) = (parent,var(36)-1)
persistent = 0

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [0,2]
value = 6306
elem = 1
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [3,4]
value = 6306
elem = 2
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [5,6]
value = 6306
elem = 3
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) = [7,8]
value = 6306
elem = 4
persistent = 1
[State 3000, 1]
type = changeanim
trigger1 = (parent,var(36)-var(10)) >= 9
trigger1 = (parent,var(36)-var(10)) <= 21
value = 6306
elem = 5+((parent,var(36)-var(10))-9)
persistent = 1

[State 631, 2]
type = destroyself
trigger1 = (parent,var(36)-var(10)) > 21
trigger2 = root,stateno != [3000,3006]
trigger3 = root,movetype = H

[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-15)+fvar(2)
y = (parent,pos Y-105)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+15)+fvar(2)
y = (parent,pos Y-15)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+45)+fvar(2)
y = (parent,pos Y-75)+fvar(3) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = 1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-45)+fvar(2)
y = (parent,pos Y-45)+fvar(3) + (root,var(58)=1) * 60
persistent = 1


[State 3000, 1]
type = posset
triggerall = ishelper(3650)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-45)+fvar(3)
y = (parent,pos Y-75)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3651)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+45)+fvar(3)
y = (parent,pos Y-45)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3652)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X-15)+fvar(3)
y = (parent,pos Y-15)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = posset
triggerall = ishelper(3653)
triggerall = root,facing = -1
trigger1 = (parent,var(36)-var(10)) >= 1
x = (parent,pos X+15)+fvar(3)
y = (parent,pos Y-105)+fvar(2) + (root,var(58)=1) * 60
persistent = 1

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(2) = sin(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(2) = sin(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(3) = cos(fvar(1))*7
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(3) = cos(fvar(1))*7
persistent = 0

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3650)
fvar(1) = -1.75;-2.25

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3651)
fvar(1) = 1.25;0.75

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3652)
fvar(1) = 2.75;2.25

[State 3000, 1]
type = varset
trigger1 = time = 0
trigger1 = ishelper(3653)
fvar(1) = -0.25;-0.75

[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 1
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 2
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 3
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 4
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 5
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 6
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 7
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 8
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 9
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 10
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 11
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 12
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 13
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 14
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 15
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 16
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 17
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 18
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 19
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 20
fvar(1) = 0.09
persistent = 0
[State 3000, 1]
type = varadd
trigger1 = (parent,var(36)-var(10)) = 21
fvar(1) = 0.09
persistent = 0

;======================================================================================================================================================
;Aura
[Statedef 3958]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -3

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 256,0,0
mul = var(18),0,0
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.5
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .005
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 8

;======================================================================================================================================================
;Aura
[Statedef 3959]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = -3

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 0,85,210
mul = 0,var(18),var(18)
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 110
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 128
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = fvar(1),fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.5
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = root,fvar(19)*.000008
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 8

;======================================================================================================================================================
;Astral Heat Background
[Statedef 7005]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7015
ID = 7005
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removetime = -1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = timerfreeze
ignorehitpause = 1

[State 3000, 7]
type = assertspecial
trigger1 = 1
flag = globalnoshadow
ignorehitpause = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -500, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -500, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -260, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -260, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -4, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000,]
type = Explod
triggerall = !time
trigger1 = 1
persistent = 16
anim = 7016
ID = 7005
pos = -4, -ceil(pos y)+30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 72
scale = 0.5,0.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal= 0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7017
ID = 7005
pos = -300,-520
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1000]
type = Explod
trigger1 = time
persistent = 16
anim = 7017
ID = 7005
pos = -300,-270
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 16,0
accel = 0,0
random = 0,0
removetime = 36
scale = 0.5,0.5
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal= 0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999 

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3903]
trigger2 = root,winko
ID = 7005

[State 1350, End]
type = removeexplod
trigger1 = root,stateno != [3900,3903]
trigger2 = root,winko
ID = 7010

[State 1350, End]
type = destroyself
trigger1 = root,stateno != [3900,3903]
trigger2 = root,winko

;======================================================================================================================================================
;The Helper of Permission
[Statedef 7777]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = root,stateno = [6060,6061]
trigger2 = root,movetype != A
persistent = 1

;======================================================================================================================================================
;Ultraburst Manager
[Statedef 9879]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State -2]
type = Explod
triggerall = TeamSide = 1
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = left
pos = 8,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = Explod
triggerall = TeamSide = 2
trigger1 = NumExplod(9879) = 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
postype = right
pos = -60,64
sprpriority = -6
bindtime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1

[State -2]
type = modifyExplod
trigger1 = root,fvar(19) > 0
anim = 9879
ID = 9879
scale = root,fvar(19)*.00018,.5
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
ownpal = 1
persistent = 1

[State -2]
type = RemoveExplod
trigger1 = root,fvar(19) <= 0
ID = 9879
ignorehitpause = 1

[State 1300]
type = helper
trigger1 = !numhelper(8988)
helpertype = normal
stateno = 8988
ID = 8988
name = "Effect"
postype = p1
pos = 0, 0
ownpal = 1
supermovetime=99999
pausemovetime=99999

[State -2]
type = assertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State -2]
type = poweradd
triggerall = root,stateno != [3000,4999]
trigger1 = root,movetype != H
value = 3
ignorehitpause = 1

[State 3007,]
type = Helper
trigger1 = winko
trigger1 = !numhelper(8992)
helpertype = Normal
name = "Finish"
stateno = 8992
ID = 8992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = removeexplod
trigger1 = root,fvar(19) <= 0
ID = 7003
persistent = 1

[State 8000, ]
type = playsnd
trigger1 = root,fvar(19) <= 0
value = 8005,1
ignorehitpause = 1
persistent = 0

[State 1350, End]
type = destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;======================================================================================================================================================
;Aura
[Statedef 9883]
type = A
movetype = I
physics = N
Anim = 9999
sprpriority = 10

[State NotH, 1]
type = NotHitBy
Trigger1 = Time >= 0
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State Assert, 1]
type = assertspecial
Trigger1 = 1 
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State BindToR, 1]
type = Bindtoroot
Trigger1 = 1
Time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State ChangeA, 1]
type = changeanim
trigger1 = root,numexplod(5999) = 0
value = 9999
ignorehitpause = 1

[State ChangeA, 1]
type = ChangeAnim
trigger1 = root,numexplod(5999)
trigger1 = time >= 0
value = root,anim
elem  = root,animelemno(-1)
persistent = 1
ignorehitpause = 1
ignorehitpause = 1

[State Pal, 1]
type = PalFX
trigger1 = 1
time = 1
add = 0,85,210
mul = 0,var(18),var(18)
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(17) = 180
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(17) = -8
ignorehitpause = 1

[State Trans, 1]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(17),256
ignorehitpause = 1

[State VarS, 1]
type = Varset
trigger1 = time = 0
ignorehitpause = 1
var(18) = 256
ignorehitpause = 1

[State VarA, 1]
type = Varadd
trigger1 = time >= 0
ignorehitpause = 1
var(18) = 1
ignorehitpause = 1

[State AngleD, 1]
type = AngleDraw
trigger1 = 1
scale = .5,fvar(1)
ignorehitpause = 1

[State VarS, 1]
type = Varset
Trigger1 = time = 0
ignorehitpause = 1
fvar(1) = 0.5
ignorehitpause = 1

[State VarS, 1]
type = Varadd
Trigger1 = time >= 0
ignorehitpause = 1
fvar(1) = .0025
ignorehitpause = 1

[State Destroy, 1]
type = Destroyself
Trigger1 = time >= 16

;======================================================================================================================================================
;Not Over Yet Manager
[Statedef 9884]
type = S
physics = N
movetype = I
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1, 3]
type = playsnd
trigger1 = time = 0
trigger2 = root,time = [0,1]
Trigger2 = root,stateno = 3000
trigger3 = root,time = [0,1]
Trigger3 = root,stateno = 3050
trigger4 = root,time = [0,1]
Trigger4 = root,stateno = 3005
value = 3000, 3

[State 1, 3]
type = poweradd
trigger1 = !time
value = 500

[State 1, 3]
type = poweradd
triggerall = root,stateno != [3000,3999]
trigger1 = time%10 = 0
value = 1

[State -2, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 9884
pos = 5,75
postype = left
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 9884
pos = -95,75
postype = right
removetime = -2
supermove = 1
scale = 0.25,0.25
sprpriority = 0
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2]
type = Helper
Trigger1 = !time
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
triggerall = root,time = [0,1]
Trigger1 = root,stateno = 3000
Trigger2 = root,stateno = 3005
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State -2]
type = Helper
trigger1 = root,time = [0,1]
Trigger1 = root,stateno = 3050
helpertype = normal
ID = 9883
Stateno = 9883
pos = 0,0
PosType = p1
persisent = 0
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 1350, End]
type = null;destroyself
trigger1 = root,fvar(19) <= 0
persistent = 1

;---------------------------------------------------------------------------
;Super Finish
[Statedef 8992]
physics  = N
ctrl     = 0
Anim = 9999

[State 3020,]
type = pause
trigger1 = !ishelper(8995)
trigger1 = !time
time = 50
ignorehitpause = 1

[State 3020,]
type = playsnd
trigger1 = !ishelper(8995)
trigger1 = !time
value = 7005,0
ignorehitpause = 1

[State 3020,]
type = playsnd
trigger1 = ishelper(8995)
trigger1 = !time
value = 7005,1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7011
ID =7002
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=99
pausemovetime=99
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7004
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale =1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7005
ID = 7002
facing = 1
postype = back
pos = 160,120
sprpriority = -5
ownpal = 1
scale = 1,1
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State 3020,]
type = Explod
trigger1 = time = 0
anim = 7006
ID = 7006
facing = 1
postype = back
pos = 160,120
sprpriority = -7
ownpal = 1
scale =.7,.7
pausemovetime = 99999
supermovetime = 99999
supermove = 1
bindtime = -1
removetime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time < 20
ID=7006
;trans=addalpha
scale = .7+time*.1,.7+time*.1
;alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7006
trans=addalpha
scale = .7+time*.1,.7+time*.1
alpha=256-((time-20)*5),256

[State ]
type=modifyexplod
trigger1=numexplod(7002)
trigger1 = time >= 20
ID=7002
trans=addalpha
alpha=256-((time-20)*5),256

[State 3020,]
type = removeexplod
trigger1 = time >= 100
ID = 7002
ignorehitpause = 1

[State 3020,]
type = DestroySelf
trigger1 = time >= 100
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion BG
[Statedef 8985]
physics  = N
ctrl     = 0
Anim = 7100

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State AssertS, 1]
type = AssertSpecial
trigger1 = time >= 16
flag = nobg
flag2 = nofg

[State BGPalF, 1]
type = BGPalFX
trigger1 = time < 16
mul = 256-(time)*5,256-(time)*5,256-(time)*5
time = 1
ignorehitpause = 1

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7002
id = 7002
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7003
id = 7003
postype = p1
pos = 0, 0
facing = 1
sprpriority = 50
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = 0.1,0.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7100
id = 7100
postype = left
pos = -10, 120
facing = 1
sprpriority = -2000
bindtime = -1
ownpal = 0
ignorehitpause = 1
persistent = 0
scale=150,.1
pausemovetime = 9999
supermovetime = 9999

[State 1200, 6]
type = explod
trigger1 = !time
anim = 7200
id = 7200
postype = left
pos = 160,120
facing = 1
sprpriority = -1950
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0
scale =.5,.5
pausemovetime = 9999
supermovetime = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7003)
trigger1 = time 
ID=7003
trans=addalpha
alpha = 256,256
scale = 0.1+(time*.03),0.1+(time*.03)

[State 3007,]
type = Helper
trigger1 = time%15 = 0
helpertype = Normal
name = "Effect"
stateno = 7000
ID = 7000
pos = 0,-80
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1
persistent = 1

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = !numhelper(9884)
source = 7,0
dest = 7,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = !ishelper(7003)
trigger1 = numhelper(9884)
source = 7,0
dest = 8,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = ishelper(7003)
source = 7,0
dest = 9,0
ignorehitpause = 1
persistent = 0

[State 3020,]
type = changestate
trigger1 = ishelper(7001)
trigger1 = time >= 40
trigger2 = ishelper(7002)
trigger2 = time >= 40
trigger3 = ishelper(7003)
trigger3 = time >= 50
value = 8986
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Distortion Effect
[Statedef 7000]
physics  = N
ctrl     = 0
Anim = 7000

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
pos=0,95
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ] 
type=Explod
trigger1=time=0
anim=7000
ID=7000
postype=left
vfacing = -1
pos=0,145
vel = -1,0
sprpriority=-1199
bindtime=-1
removetime = -1
supermovetime=9999
pausemovetime=9999

[State ]
type=varadd
trigger1=numexplod(7000)
var(0)=7

[State ]
type=varset
trigger1=var(0)>256
var(0)=256

[State ]
type=varadd
trigger1=numexplod(7000)
fvar(0)=.022

[State ]
type=modifyexplod
trigger1=numexplod(7000)
ID=7000
trans=addalpha
alpha=256-var(0),256
scale=.5,1-fvar(0)

[State ]
type=RemoveExplod
trigger1=var(0)>=256&&numexplod(7000)
trigger2 = root,stateno = [3901,3999]
ID=7000

[State 3020,]
type = destroyself
trigger1 = !numexplod(7000)
trigger1 = time >= 15
trigger2 = root,stateno = [3901,3999]
ignorehitpause = 1

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = !numhelper(9884)
source = 4,0
dest = 4,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003) = 0
trigger1 = numhelper(9884)
source = 4,0
dest = 5,0
ignorehitpause = 1
persistent = 0

[State Pal, 1]
type = remappal
trigger1 = parent,ishelper(7003)
source = 4,0
dest = 6,0
ignorehitpause = 1
persistent = 0

;-------------------------------------------------------------------------------
;Distortion BG End
[Statedef 8986]
type = A
physics = N
anim = 9999

[State AssertS, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State AssertS, 1]
type = AssertSpecial
trigger1 = time <= 16
flag = noBG

[State BGPalF, 1]
type = BGPalFX
trigger1 = numhelper(8988)
trigger2 = enemynear,numhelper(8988)
triggerall = time >= 16
mul = (time-15)*10,(time-15)*10,(time-15)*10
time = 1
ignorehitpause = 1

[State BGPalF, 1]
type = BGPalFX
trigger1 = !numhelper(8988)
trigger1 = time >= 16
mul = (time-15)*16,(time-15)*16,(time-15)*16
time = 1
ignorehitpause = 1

[State ]
type=modifyexplod
trigger1=numexplod(7100)
trigger1 = time 
ID=7100
trans=addalpha
alpha = 256-(time*10),256

[State RemoveE, 1]
type = RemoveExplod
triggerall = numexplod(7100)
trigger1 = time >= 25
ID = 7100

[State DestroyS, 1]
type = DestroySelf
trigger1 = !numhelper(7000)
trigger1 = time >= 26

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7100
ignorehitpause = 1

[State 3020,]
type = removeexplod
trigger1 = root,stateno = [3901,3999]
ID = 7200
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = root,stateno = [3901,3999]
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG
[Statedef 8988]
physics  = N
ctrl     = 0
Anim = 9999

[State 0, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = !time
anim = 7001
ID =7001
pos = 160,120
postype = left
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
random = 0,0
supermovetime=9999
pausemovetime=9999
scale = .65,.65
sprpriority = -150
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time < 30
ID=7001
trans=addalpha
alpha=0+(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 256-time*10,256-time*10,256-time*10
ignorehitpause = 1
persistent = 1

[State 7005, ]
type = bgpalfx
trigger1 = time >= 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156,156,156
ignorehitpause = 1
persistent = 1

[State 3020,]
type = removeexplod
trigger1 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = winko
ignorehitpause = 1

[State 3020,]
type = changestate
trigger1 = root,fvar(19) <= 0
value = 8989
ignorehitpause = 1

;---------------------------------------------------------------------------
;Ultra FG Fade
[Statedef 8989]
physics  = N
ctrl     = 0
Anim = 9999

[State ]
type=modifyexplod
trigger1=numexplod(7001)
trigger1 = time
ID=7001
trans=addalpha
alpha=256-(time*15),256

[State 7005, ]
type = bgpalfx
trigger1 = time < 10
;trigger2 = roundstate = 3
time = 1
color = 256
mul = 156+time*10,156+time*10,156+time*10
ignorehitpause = 1
persistent = 1


[State 3020,]
type = removeexplod
trigger1 = time >= 30
trigger2 = winko
ID = 7001
ignorehitpause = 1

[State 3020,]
type = destroyself
trigger1 = time >= 30
trigger2 = winko
ignorehitpause = 1

;======================================================================================================================================================
;You Are Here
[Statedef 9999]
type = S
physics = N
movetype = A
anim = 9999
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0,]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1350, Assert]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1350, End]
type = destroyself
trigger1 = roundstate > 1

;======================================================================================================================================================
;Ink's Projectile Detection
[Statedef 33333333]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
 
;==========================================================================
;                Config Section
;==========================================================================
anim = 9999                  ; blank animation
 
;==========================================================================
 
[state 33333333, Clipboard] 
type = DisplayToClipboard
trigger1 = 1
text = "Highest Playerid = %d , Projectile helper's PlayerId = %d\nBy Inktrebuchet"
params = var(0)-1, var(3)
;==========================================================================
;                Detect Enemy's Projectile Helper
;==========================================================================
[State 33333333, 0]
type = Null
trigger1 = var(0) = 0
trigger1 = (var(0) := id)
ignorehitpause = 1
 
[state 33333333, 1] 
type = varadd
trigger1 = PlayerIdExist(var(0)) 
trigger2 = PlayerIdExist(var(0)+1) 
trigger3 = PlayerIdExist(var(0)+2) 
trigger4 = PlayerIdExist(var(0)+3) 
trigger5 = PlayerIdExist(var(0)+4) 
trigger6 = PlayerIdExist(var(0)+5) 
trigger7 = PlayerIdExist(var(0)+6) 
trigger8 = PlayerIdExist(var(0)+7) 
trigger9 = PlayerIdExist(var(0)+8) 
trigger10 = PlayerIdExist(var(0)+9) 
trigger11 = PlayerIdExist(var(0)+10) 
trigger12 = PlayerIdExist(var(0)+11) 
trigger13 = PlayerIdExist(var(0)+12) 
trigger14 = PlayerIdExist(var(0)+13) 
trigger15 = PlayerIdExist(var(0)+14) 
trigger16 = PlayerIdExist(var(0)+15) 
trigger17 = PlayerIdExist(var(0)+16) 
trigger18 = PlayerIdExist(var(0)+17) 
trigger19 = PlayerIdExist(var(0)+18) 
trigger20 = PlayerIdExist(var(0)+19) 
trigger21 = PlayerIdExist(var(0)+20) 
trigger22 = PlayerIdExist(var(0)+21) 
trigger23 = PlayerIdExist(var(0)+22) 
trigger24 = PlayerIdExist(var(0)+23) 
trigger25 = PlayerIdExist(var(0)+24) 
trigger26 = PlayerIdExist(var(0)+25) 
v = 0
value = 1
ignorehitpause = 1
 
[State 33333333, 2]
type = Null
triggerall = PlayerIdExist(Root,ID)
trigger1 = PlayerIdExist(var(0)-1)
trigger1 = cond(root,teamside = 1, PlayerID(var(0)-1),teamside = 2, PlayerID(var(0)-1),teamside = 1)
trigger1 = PlayerID(var(0)-1),hitdefattr = ASC, NP, SP, HP
trigger1 = var(3) := (var(0)-1)
trigger2 = PlayerIdExist(var(0)-2)
trigger2 = cond(root,teamside = 1, PlayerID(var(0)-2),teamside = 2, PlayerID(var(0)-2),teamside = 1)
trigger2 = PlayerID(var(0)-2),hitdefattr = ASC, NP, SP, HP
trigger2 = var(3) := (var(0)-2)
trigger3 = PlayerIdExist(var(0)-3)
trigger3 = cond(root,teamside = 1, PlayerID(var(0)-3),teamside = 2, PlayerID(var(0)-3),teamside = 1)
trigger3 = PlayerID(var(0)-3),hitdefattr = ASC, NP, SP, HP
trigger3 = var(3) := (var(0)-3)
trigger4 = PlayerIdExist(var(0)-4)
trigger4 = cond(root,teamside = 1, PlayerID(var(0)-4),teamside = 2, PlayerID(var(0)-4),teamside = 1)
trigger4 = PlayerID(var(0)-4),hitdefattr = ASC, NP, SP, HP
trigger4 = var(3) := (var(0)-4)
trigger5 = PlayerIdExist(var(0)-5)
trigger5 = cond(root,teamside = 1, PlayerID(var(0)-5),teamside = 2, PlayerID(var(0)-5),teamside = 1)
trigger5 = PlayerID(var(0)-5),hitdefattr = ASC, NP, SP, HP
trigger5 = var(3) := (var(0)-5)
trigger6 = PlayerIdExist(var(0)-6)
trigger6 = cond(root,teamside = 1, PlayerID(var(0)-6),teamside = 2, PlayerID(var(0)-6),teamside = 1)
trigger6 = PlayerID(var(0)-6),hitdefattr = ASC, NP, SP, HP
trigger6 = var(3) := (var(0)-6)
trigger7 = PlayerIdExist(var(0)-7)
trigger7 = cond(root,teamside = 1, PlayerID(var(0)-7),teamside = 2, PlayerID(var(0)-7),teamside = 1)
trigger7 = PlayerID(var(0)-7),hitdefattr = ASC, NP, SP, HP
trigger7 = var(3) := (var(0)-7)
trigger8 = PlayerIdExist(var(0)-8)
trigger8 = cond(root,teamside = 1, PlayerID(var(0)-8),teamside = 2, PlayerID(var(0)-8),teamside = 1)
trigger8 = PlayerID(var(0)-8),hitdefattr = ASC, NP, SP, HP
trigger8 = var(3) := (var(0)-8)
trigger9 = PlayerIdExist(var(0)-9)
trigger9 = cond(root,teamside = 1, PlayerID(var(0)-9),teamside = 2, PlayerID(var(0)-9),teamside = 1)
trigger9 = PlayerID(var(0)-9),hitdefattr = ASC, NP, SP, HP
trigger9 = var(3) := (var(0)-9)
trigger10 = PlayerIdExist(var(0)-10)
trigger10 = cond(root,teamside = 1, PlayerID(var(0)-10),teamside = 2, PlayerID(var(0)-10),teamside = 1)
trigger10 = PlayerID(var(0)-10),hitdefattr = ASC, NP, SP, HP
trigger10 = var(3) := (var(0)-10)
ignorehitpause = 1
 
[State 33333333, BindToRoot]
type = BindToRoot
trigger1 = PlayerIdExist(Root,ID)
time = 1
facing = 1
pos =0,-2
ignorehitpause = 1 